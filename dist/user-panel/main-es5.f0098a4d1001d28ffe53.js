function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+Zhm":function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n("ds6q"),s=n("xHZb"),a=n("zB/H"),u=n("AFwO"),c=n("Mxlh"),l=n("FiyT");t.ReplaySubject=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return i(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new h(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new c.ObjectUnsubscribedError;if(this.isStopped||this.hasError?t=a.Subscription.EMPTY:(this.observers.push(e),t=new l.SubjectSubscription(this,e)),i&&e.add(e=new u.ObserveOnSubscriber(e,i)),n)for(var s=0;s<o&&!e.closed;s++)e.next(r[s]);else for(s=0;s<o&&!e.closed;s++)e.next(r[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||s.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(o.Subject);var h=function(e,t){this.time=e,this.value=t}},"/6Yf":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n("mrSG"),i=n("qOnz"),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.a;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=Object(r.a)({identifier:"[DEFAULT]",optional:!1},e),n=t.optional,i=this.normalizeInstanceIdentifier(t.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})),e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()}))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return"[DEFAULT]"===e?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e}(),a=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},0:function(e,t,n){e.exports=n("zUnb")},"0z79":function(e,t,n){var r=n("AdPF"),i=n("CUme"),o=n("cpc2"),s=n("Eexf").pick,a=n("2UHX"),u=n("NOtv")("engine.io-client:polling-xhr");function c(){}var l=null!=new r({xdomain:!1}).responseType,h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).opts=r,i.method=r.method||"GET",i.uri=e,i.async=!1!==r.async,i.data=void 0!==r.data?r.data:null,i.create(),i}return _createClass(n,[{key:"create",value:function(){var e=s(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;var t=this.xhr=new r(e),i=this;try{u("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var o in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.opts.extraHeaders[o])}catch(a){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{t.setRequestHeader("Accept","*/*")}catch(a){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),this.hasXDR()?(t.onload=function(){i.onLoad()},t.onerror=function(){i.onError(t.responseText)}):t.onreadystatechange=function(){4===t.readyState&&(200===t.status||1223===t.status?i.onLoad():setTimeout((function(){i.onError("number"==typeof t.status?t.status:0)}),0))},u("xhr data %s",this.data),t.send(this.data)}catch(a){return void setTimeout((function(){i.onError(a)}),0)}"undefined"!=typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(e){this.emit("data",e),this.onSuccess()}},{key:"onError",value:function(e){this.emit("error",e),this.cleanup(!0)}},{key:"cleanup",value:function(e){if(null!=this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,e)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&this.onData(e)}},{key:"hasXDR",value:function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR}},{key:"abort",value:function(){this.cleanup()}}]),n}(o);function f(){for(var e in h.requests)h.requests.hasOwnProperty(e)&&h.requests[e].abort()}h.requestsCount=0,h.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",f):"function"==typeof addEventListener&&addEventListener("onpagehide"in a?"pagehide":"unload",f,!1)),e.exports=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;if(_classCallCheck(this,n),r=t.call(this,e),"undefined"!=typeof location){var i="https:"===location.protocol,o=location.port;o||(o=i?443:80),r.xd="undefined"!=typeof location&&e.hostname!==location.hostname||o!==e.port,r.xs=e.secure!==i}return r.supportsBinary=l&&!(e&&e.forceBase64),_possibleConstructorReturn(r)}return _createClass(n,[{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new h(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this.request({method:"POST",data:e}),r=this;n.on("success",t),n.on("error",(function(e){r.onError("xhr post error",e)}))}},{key:"doPoll",value:function(){u("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e}}]),n}(i),e.exports.Request=h},"2QA8":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2UHX":function(e,t){e.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},"2fFW":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},"2pII":function(e,t,n){var r=n("akSB"),i=n("cpc2"),o=n("NOtv")("engine.io-client:socket"),s=n("Fyy9"),a=n("Uxeu"),u=n("TypT"),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,n),r=t.call(this),e&&"object"==typeof e&&(i=e,e=null),e?(e=a(e),i.hostname=e.host,i.secure="https"===e.protocol||"wss"===e.protocol,i.port=e.port,e.query&&(i.query=e.query)):i.host&&(i.hostname=a(i.host).host),r.secure=null!=i.secure?i.secure:"undefined"!=typeof location&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=r.secure?"443":"80"),r.hostname=i.hostname||("undefined"!=typeof location?location.hostname:"localhost"),r.port=i.port||("undefined"!=typeof location&&location.port?location.port:r.secure?443:80),r.transports=i.transports||["polling","websocket"],r.readyState="",r.writeBuffer=[],r.prevBufferLen=0,r.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{}},i),r.opts.path=r.opts.path.replace(/\/$/,"")+"/","string"==typeof r.opts.query&&(r.opts.query=u.decode(r.opts.query)),r.id=null,r.upgrades=null,r.pingInterval=null,r.pingTimeout=null,r.pingTimeoutTimer=null,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){r.transport&&(r.transport.removeAllListeners(),r.transport.close())}),!1),r.open(),r}return _createClass(n,[{key:"createTransport",value:function(e){o('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.opts.query);t.EIO=s.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return o("options: %j",n),new r[e](n)}},{key:"open",value:function(){var e;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(r){return o("error while creating transport: %s",r),this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))}},{key:"probe",value:function(e){o('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),r=!1,i=this;function s(){if(i.onlyBinaryUpgrades){var s=!this.supportsBinary&&i.transport.supportsBinary;r=r||s}r||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(s){if(!r)if("pong"===s.type&&"probe"===s.data){if(o('probe transport "%s" pong',e),i.upgrading=!0,i.emit("upgrading",t),!t)return;n.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',i.transport.name),i.transport.pause((function(){r||"closed"!==i.readyState&&(o("changing transport and sending upgrade packet"),f(),i.setTransport(t),t.send([{type:"upgrade"}]),i.emit("upgrade",t),t=null,i.upgrading=!1,i.flush())}))}else{o('probe transport "%s" failed',e);var a=new Error("probe error");a.transport=t.name,i.emit("upgradeError",a)}})))}function a(){r||(r=!0,f(),t.close(),t=null)}function u(n){var r=new Error("probe error: "+n);r.transport=t.name,a(),o('probe transport "%s" failed because of error: %s',e,n),i.emit("upgradeError",r)}function c(){u("transport closed")}function l(){u("socket closed")}function h(e){t&&e.name!==t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),a())}function f(){t.removeListener("open",s),t.removeListener("error",u),t.removeListener("close",c),i.removeListener("close",l),i.removeListener("upgrading",h)}n.priorWebsocketSuccess=!1,t.once("open",s),t.once("error",u),t.once("close",c),this.once("close",l),this.once("upgrading",h),t.open()}},{key:"onOpen",value:function(){if(o("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)}},{key:"onHandshake",value:function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout((function(){e.onClose("ping timeout")}),this.pingInterval+this.pingTimeout)}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()}},{key:"flush",value:function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var e=this;function t(){e.onClose("forced close"),o("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()),this}},{key:"onError",value:function(e){o("socket error %j",e),n.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),n}(i);c.priorWebsocketSuccess=!1,c.protocol=s.protocol,e.exports=c},"2qMH":function(e,t,n){"use strict";var r=n("Q1FS"),i=n("zB/H");t.scheduleArray=function(e,t){return new r.Observable((function(n){var r=new i.Subscription,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},"2tF/":function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.AsyncAction=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return i(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(n("Dz+M").Action)},"2xjq":function(e,t,n){var r,i=n("yxaB"),o=i.PACKET_TYPES_REVERSE,s=i.ERROR_PACKET;"function"==typeof ArrayBuffer&&(r=n("g5Dd"));var a=function(e,t){if(r){var n=r.decode(e);return u(n,t)}return{base64:!0,data:e}},u=function(e,t){switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}};e.exports=function(e,t){if("string"!=typeof e)return{type:"message",data:u(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:a(e.substring(1),t)}:o[n]?e.length>1?{type:o[n],data:e.substring(1)}:{type:o[n]}:s}},"3JDX":function(e,t,n){e.exports=function(e){function t(e){var n,i=null;function o(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(o.enabled){var s=o,a=Number(new Date);s.diff=a-(n||a),s.prev=n,s.curr=a,n=a,r[0]=t.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var u=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return"%";u++;var i=t.formatters[n];return"function"==typeof i&&(e=i.call(s,r[u]),r.splice(u,1),u--),e})),t.formatArgs.call(s,r),(s.log||t.log).apply(s,r)}}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=r,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===i?t.enabled(e):i},set:function(e){i=e}}),"function"==typeof t.init&&t.init(o),o}function r(e,n){var r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(_toConsumableArray(t.names.map(i)),_toConsumableArray(t.skips.map(i).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n("FGiv"),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},"3N8a":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a))},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(u((function(n,r){return Object(a.a)(e(n,r)).pipe(Object(s.a)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new c(e,n))})}var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=new o.a(this,t,n),s=this.destination;s.add(i);var a=Object(r.a)(this,e,void 0,void 0,i);a!==i&&s.add(a)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"6Uf2":function(e,t,n){"use strict";(function(e){var t,r=n("zIRd"),i=n("mrSG"),o=n("qOnz"),s=n("q/0M"),a=n("/6Yf"),u=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(o.B)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(o.v)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),c=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Object(o.i)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),l=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new u(t)}}catch(n){}return new c},h=l("localStorage"),f=l("sessionStorage"),d=new s.b("@firebase/database"),p=(t=1,function(){return t++}),v=function(e){var t=Object(o.A)(e),n=new o.d;n.update(t);var r=n.digest();return o.g.encodeByteArray(r)},y=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var s=t[i];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?r+=e.apply(null,s):r+="object"==typeof s?Object(o.B)(s):s,r+=" "}return r},g=null,m=!0,_=function(e,t){Object(o.e)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(d.logLevel=s.a.VERBOSE,g=d.log.bind(d),t&&f.set("logging_enabled",!0)):"function"==typeof e?g=e:(g=null,f.remove("logging_enabled"))},b=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===m&&(m=!1,null===g&&!0===f.get("logging_enabled")&&_(!0)),g){var n=y.apply(null,e);g(n)}},C=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];b.apply(void 0,Object(i.f)([e],t))}},w=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,Object(i.f)(e));d.error(n)},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,Object(i.f)(e));throw d.error(n),new Error(n)},O=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,Object(i.f)(e));d.warn(n)},S=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},E="[MIN_NAME]",T="[MAX_NAME]",P=function(e,t){if(e===t)return 0;if(e===E||t===T)return-1;if(t===E||e===T)return 1;var n=F(e),r=F(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},A=function(e,t){return e===t?0:e<t?-1:1},x=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(o.B)(t))},I=function e(t){if("object"!=typeof t||null===t)return Object(o.B)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",s=0;s<n.length;s++)0!==s&&(i+=","),i+=Object(o.B)(n[s]),i+=":",i+=e(t[n[s]]);return i+"}"},j=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function N(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var R=function(e){var t,n,r,i,s;Object(o.e)(!S(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();var u=a.join(""),c="";for(s=0;s<64;s+=8){var l=parseInt(u.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},D=new RegExp("^-?(0*)\\d{1,10}$"),F=function(e){if(D.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},M=function(e){try{e()}catch(t){setTimeout((function(){throw O("Exception was thrown by user callback.",t.stack||""),t}),Math.floor(0))}},L=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},U=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function V(){return new U("")}function H(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function q(e){return e.pieces_.length-e.pieceNum_}function B(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new U(e.pieces_,t)}function Q(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function z(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function W(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function G(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new U(t,0)}function Y(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof U)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new U(n,0)}function K(e){return e.pieceNum_>=e.pieces_.length}function Z(e,t){var n=H(e),r=H(t);if(null===n)return t;if(n===r)return Z(B(e),B(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function J(e,t){for(var n=W(e,0),r=W(t,0),i=0;i<n.length&&i<r.length;i++){var o=P(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function X(e,t){if(q(e)!==q(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function $(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(q(e)>q(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var ee,te,ne,re,ie,oe,se,ae,ue,ce=function(){function e(e,t){this.errorPrefix_=t,this.parts_=W(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.z)(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=Object(o.z)(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=Object(o.z)(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),le=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,he=function(){function e(e,t,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=h.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&h.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){var n;if(Object(o.e)("string"==typeof e,"typeof type must == string"),Object(o.e)("object"==typeof t,"typeof params must == object"),"websocket"===e)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==e)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var r=[];return N(t,(function(e,t){r.push(e+"="+t)})),n+r.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},e}(),fe=function(e,t){var n=de(e),r=n.namespace;return"firebase.com"===n.domain&&k(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||k("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new he(n.host,n.secure,r,t,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new U(n.pathString)}},de=function(e){var t="",n="",r="",o="",s="",a=!0,u="https",c=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(o=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var o=Object(i.g)(e.split("&")),s=o.next();!s.done;s=o.next()){var a=s.value;if(0!==a.length){var u=a.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):O("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(a="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:o,namespace:s}},pe=/[\[\].#$\/\u0000-\u001F\u007F]/,ve=/[\[\].#$\u0000-\u001F\u007F]/,ye=function(e){return"string"==typeof e&&0!==e.length&&!pe.test(e)},ge=function(e){return"string"==typeof e&&0!==e.length&&!ve.test(e)},me=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!S(e)||e&&"object"==typeof e&&Object(o.i)(e,".sv")},_e=function(e,t,n,r,i){i&&void 0===n||be(Object(o.m)(e,t,i),n,r)},be=function e(t,n,r){var i=r instanceof U?new ce(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+i.toErrorString());if("function"==typeof n)throw new Error(t+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(S(n))throw new Error(t+"contains "+n.toString()+" "+i.toErrorString());if("string"==typeof n&&n.length>10485760/3&&Object(o.z)(n)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var s=!1,a=!1;if(N(n,(function(n,r){if(".value"===n)s=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!ye(n)))throw new Error(t+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),e(t,r,i),i.pop()})),s&&a)throw new Error(t+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},Ce=function(e,t,n,r,i){if(!i||void 0!==n){var s=Object(o.m)(e,t,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];N(n,(function(e,t){var n=new U(e);if(be(s,t,Y(r,n)),".priority"===Q(n)&&!me(t))throw new Error(s+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=W(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ye(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(J);var s=null;for(n=0;n<t.length;n++){if(r=t[n],null!==s&&$(s,r))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(s,a)}},we=function(e,t,n,r){if(!r||void 0!==n){if(S(n))throw new Error(Object(o.m)(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!me(n))throw new Error(Object(o.m)(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ke=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.m)(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Oe=function(e,t,n,r){if(!(r&&void 0===n||ye(n)))throw new Error(Object(o.m)(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Se=function(e,t,n,r){if(!(r&&void 0===n||ge(n)))throw new Error(Object(o.m)(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ee=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Se(e,t,n,r)},Te=function(e,t){if(".info"===H(t))throw new Error(e+" failed = Can't modify data under /.info/")},Pe=function(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ye(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ge(e)}(r))throw new Error(Object(o.m)(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Ae=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(o.m)(e,t,r)+"must be a boolean.")},xe=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){Object(o.C)("OnDisconnect.cancel",0,1,arguments.length),Object(o.D)("OnDisconnect.cancel",1,e,!0);var t=new o.a;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){Object(o.C)("OnDisconnect.remove",0,1,arguments.length),Te("OnDisconnect.remove",this.path_),Object(o.D)("OnDisconnect.remove",1,e,!0);var t=new o.a;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){Object(o.C)("OnDisconnect.set",1,2,arguments.length),Te("OnDisconnect.set",this.path_),_e("OnDisconnect.set",1,e,this.path_,!1),Object(o.D)("OnDisconnect.set",2,t,!0);var n=new o.a;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){Object(o.C)("OnDisconnect.setWithPriority",2,3,arguments.length),Te("OnDisconnect.setWithPriority",this.path_),_e("OnDisconnect.setWithPriority",1,e,this.path_,!1),we("OnDisconnect.setWithPriority",2,t,!1),Object(o.D)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.a;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(Object(o.C)("OnDisconnect.update",1,2,arguments.length),Te("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,O("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ce("OnDisconnect.update",1,e,this.path_,!1),Object(o.D)("OnDisconnect.update",2,t,!0);var i=new o.a;return this.repo_.onDisconnectUpdate(this.path_,e,i.wrapCallback(t)),i.promise},e}(),Ie=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Object(o.C)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),je="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ne=(ee=0,te=[],function(e){var t,n=e===ee;ee=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=je.charAt(e%64),e=Math.floor(e/64);Object(o.e)(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===te[t];t--)te[t]=0;te[t]++}else for(t=0;t<12;t++)te[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=je.charAt(te[t]);return Object(o.e)(20===i.length,"nextPushId: Length should be 20."),i}),Re=function(e){if("2147483647"===e)return"-";var t=F(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return T;var o=je.charAt(je.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},De=function(e){if("-2147483648"===e)return E;var t=F(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=je.charAt(je.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))},Fe=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Me=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Fe(E,e),r=new Fe(E,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Fe.MIN},e}(),Le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return ne},set:function(e){ne=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return P(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Object(o.f)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Fe.MIN},t.prototype.maxPost=function(){return new Fe(T,ne)},t.prototype.makePost=function(e,t){return Object(o.e)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Fe(e,ne)},t.prototype.toString=function(){return".key"},t}(Me),Ue=new Le,Ve=function(e){return"number"==typeof e?"number:"+R(e):"string:"+e},He=function(e){if(e.isLeafNode()){var t=e.val();Object(o.e)("string"==typeof t||"number"==typeof t||"object"==typeof t&&Object(o.i)(t,".sv"),"Priority must be a string or number.")}else Object(o.e)(e===re||e.isEmpty(),"priority of unexpected type.");Object(o.e)(e===re||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},qe=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(o.e)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),He(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return ie},set:function(e){ie=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return K(t)?this:".priority"===H(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=H(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.e)(".priority"!==r||1===q(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(B(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ve(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?R(this.value_):this.value_,this.lazyHash_=v(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(o.e)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return Object(o.e)(i>=0,"Unknown leaf type: "+n),Object(o.e)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),Be=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?P(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Fe.MIN},t.prototype.maxPost=function(){return new Fe(T,new qe("[PRIORITY-POST]",se))},t.prototype.makePost=function(e,t){var n=oe(e);return new Fe(t,new qe("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Me)),Qe=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),ze=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ge.EMPTY_NODE,this.right=null!=o?o:Ge.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Ge.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ge.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),We=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new ze(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ge=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ze.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ze.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Qe(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Qe(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Qe(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Qe(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new We,e}(),Ye=Math.log(2),Ke=function(){function e(e){this.count=parseInt(Math.log(e+1)/Ye,10),this.current_=this.count-1;var t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Ze=function(e,t,n,r){e.sort(t);var i=function(t){for(var r=null,i=null,o=e.length,s=function(t,r){var i=o-t,s=o;o-=t;var u=function t(r,i){var o,s,a=i-r;if(0===a)return null;if(1===a)return o=e[r],s=n?n(o):o,new ze(s,o.node,ze.BLACK,null,null);var u=parseInt(a/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],s=n?n(o):o,new ze(s,o.node,ze.BLACK,c,l)}(i+1,s),c=e[i],l=n?n(c):c;a(new ze(l,c.node,r,null,u))},a=function(e){r?(r.left=e,r=e):(i=e,r=e)},u=0;u<t.count;++u){var c=t.nextBitIsOne(),l=Math.pow(2,t.count-(u+1));c?s(l,ze.BLACK):(s(l,ze.BLACK),s(l,ze.RED))}return i}(new Ke(e.length));return new Ge(r||t,i)},Je={},Xe=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Object(o.e)(Je&&Be,"ChildrenNode.ts has not been loaded"),ae=ae||new e({".priority":Je},{".priority":Be})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Object(o.y)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ge?t:null},e.prototype.hasIndex=function(e){return Object(o.i)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Object(o.e)(t!==Ue,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,s=[],a=!1,u=n.getIterator(Fe.Wrap),c=u.getNext();c;)a=a||t.isDefinedOn(c.node),s.push(c),c=u.getNext();r=a?Ze(s,t.getCompare()):Je;var l=t.toString(),h=Object(i.a)({},this.indexSet_);h[l]=t;var f=Object(i.a)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(Object(o.w)(this.indexes_,(function(e,i){var s=Object(o.y)(r.indexSet_,i);if(Object(o.e)(s,"Missing index implementation for "+i),e===Je){if(s.isDefinedOn(t.node)){for(var a=[],u=n.getIterator(Fe.Wrap),c=u.getNext();c;)c.name!==t.name&&a.push(c),c=u.getNext();return a.push(t),Ze(a,s.getCompare())}return Je}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Fe(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(Object(o.w)(this.indexes_,(function(e){if(e===Je)return e;var r=n.get(t.name);return r?e.remove(new Fe(t.name,r)):e})),this.indexSet_)},e}();function $e(e,t){return P(e.name,t.name)}function et(e,t){return P(e,t)}var tt=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&He(this.priorityNode_),this.children_.isEmpty()&&Object(o.e)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return ue||(ue=new e(new Ge(et),null,Xe.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||ue},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?ue:t},e.prototype.getChild=function(e){var t=H(e);return null===t?this:this.getImmediateChild(t).getChild(B(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Object(o.e)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Fe(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?ue:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(e,t){var n=H(e);if(null===n)return t;Object(o.e)(".priority"!==H(e)||1===q(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(B(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Be,(function(s,a){n[s]=a.val(t),r++,o&&e.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!t&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ve(this.getPriority().val())+":"),this.forEachChild(Be,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":v(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Fe(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Fe(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Fe(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Fe.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Fe.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===nt?-1:0},e.prototype.withIndex=function(t){if(t===Ue||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Ue||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Be),r=t.getIterator(Be),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Ue?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),nt=new(function(e){function t(){return e.call(this,new Ge(et),tt.EMPTY_NODE,Xe.Default)||this}return Object(i.c)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return tt.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(tt));function rt(e,t){if(void 0===t&&(t=null),null===e)return tt.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Object(o.e)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new qe(e,rt(t));if(e instanceof Array){var n=tt.EMPTY_NODE;return N(e,(function(t,r){if(Object(o.i)(e,t)&&"."!==t.substring(0,1)){var i=rt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(rt(t))}var r=[],i=!1;if(N(e,(function(e,t){if("."!==e.substring(0,1)){var n=rt(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Fe(e,n)))}})),0===r.length)return tt.EMPTY_NODE;var s=Ze(r,$e,(function(e){return e.name}),et);if(i){var a=Ze(r,Be.getCompare());return new tt(s,rt(t),new Xe({".priority":a},{".priority":Be}))}return new tt(s,rt(t),Xe.Default)}Object.defineProperties(Fe,{MIN:{value:new Fe(E,tt.EMPTY_NODE)},MAX:{value:new Fe(T,nt)}}),Le.__EMPTY_NODE=tt.EMPTY_NODE,qe.__childrenNodeConstructor=tt,re=nt,se=nt,function(e){oe=e}(rt);var it=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.c)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?P(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Fe.MIN},t.prototype.maxPost=function(){return Fe.MAX},t.prototype.makePost=function(e,t){var n=rt(e);return new Fe(t,n)},t.prototype.toString=function(){return".value"},t}(Me)),ot=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Object(o.e)(!K(t)&&".priority"!==H(t),"Can't create PathIndex with empty path or .priority key"),n}return Object(i.c)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?P(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=rt(e),r=tt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Fe(t,r)},t.prototype.maxPost=function(){var e=tt.EMPTY_NODE.updateChild(this.indexPath_,nt);return new Fe(T,e)},t.prototype.toString=function(){return W(this.indexPath_,0).join("/")},t}(Me),st=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return Object(o.C)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return Object(o.C)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return Object(o.C)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return Object(o.C)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){Object(o.C)("DataSnapshot.child",0,1,arguments.length),t=String(t),Se("DataSnapshot.child",1,t,!1);var n=new U(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,Be)},e.prototype.hasChild=function(e){Object(o.C)("DataSnapshot.hasChild",1,1,arguments.length),Se("DataSnapshot.hasChild",1,e,!1);var t=new U(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return Object(o.C)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(Object(o.C)("DataSnapshot.forEach",1,1,arguments.length),Object(o.D)("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return t(new e(i,n.ref_.child(r),Be))}))},e.prototype.hasChildren=function(){return Object(o.C)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Object(o.C)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return Object(o.C)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),at=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.B)(this.snapshot.exportVal())},e}(),ut=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),ct=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new at("value",this,new st(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){Object(o.e)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new ut(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),lt=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,Object(o.i)(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new ut(this,e,t):null},e.prototype.createEvent=function(e,t){Object(o.e)(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new at(e.type,this,new st(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){Object(o.e)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||t.callbacks_[s]&&this.callbacks_[a]&&t.callbacks_[s]!==this.callbacks_[a])}return i.every((function(e){return t.callbacks_[e]===n.callbacks_[e]}))}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}();function ht(e){return{type:"value",snapshotNode:e}}function ft(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function dt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function pt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var vt,yt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,s){Object(o.e)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(dt(t,a)):Object(o.e)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ft(t,n)):s.trackChildChange(pt(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Be,(function(e,r){t.hasChild(e)||n.trackChildChange(dt(e,r))})),t.isLeafNode()||t.forEachChild(Be,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(pt(t,r,i))}else n.trackChildChange(ft(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?tt.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),gt=function(){function e(t){this.indexedFilter_=new yt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Fe(t,n))||(n=tt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=tt.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(tt.EMPTY_NODE);var i=this;return t.forEachChild(Be,(function(e,t){i.matches(new Fe(e,t))||(r=r.updateImmediateChild(e,tt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),mt=function(){function e(e){this.rangedFilter_=new gt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Fe(t,n))||(n=tt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=tt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=tt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(tt.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,tt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(e,t){return a(t,e)}}else s=this.index_.getCompare();var u=e;Object(o.e)(u.numChildren()===this.limit_,"");var c=new Fe(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:s(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(pt(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(dt(t,f));var v=u.updateImmediateChild(t,tt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(ft(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:h&&s(l,c)>=0?(null!=i&&(i.trackChildChange(dt(l.name,l.node)),i.trackChildChange(ft(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,tt.EMPTY_NODE)):e},e}(),_t=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Be}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Object(o.e)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Object(o.e)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:E},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Object(o.e)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Object(o.e)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:T},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Object(o.e)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Be},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function bt(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function Ct(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function wt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function kt(e,t,n){var r;return e.index_===Ue?("string"==typeof t&&(t=Re(t)),r=wt(e,t,n)):r=wt(e,t,null==n?T:Re(n)),r.startAfterSet_=!0,r}function Ot(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function St(e,t,n){var r;return e.index_===Ue?("string"==typeof t&&(t=De(t)),r=Ot(e,t,n)):r=Ot(e,t,null==n?E:De(n)),r.endBeforeSet_=!0,r}function Et(e,t){var n=e.copy();return n.index_=t,n}function Tt(e){var t,n={};return e.isDefault()||(e.index_===Be?t="$priority":e.index_===it?t="$value":e.index_===Ue?t="$key":(Object(o.e)(e.index_ instanceof ot,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(o.B)(t),e.startSet_&&(n.startAt=Object(o.B)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(o.B)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(o.B)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(o.B)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}var Pt=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return Object(o.e)(vt,"Reference.ts has not been loaded"),vt},set:function(e){vt=e},enumerable:!1,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ue){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==E)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==T)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Be){if(null!=t&&!me(t)||null!=n&&!me(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.e)(e.getIndex()instanceof ot||e.getIndex()===it,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return Object(o.C)("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){Object(o.C)("Query.on",2,4,arguments.length),ke("Query.on",1,t,!1),Object(o.D)("Query.on",2,n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,s.cancel,s.context);else{var a={};a[t]=n,this.onChildEvent(a,s.cancel,s.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new ct(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new lt(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){Object(o.C)("Query.off",0,3,arguments.length),ke("Query.off",1,e,!0),Object(o.D)("Query.off",2,t,!0),Object(o.E)("Query.off",3,n,!0);var r=null,i=null;if("value"===e){var s=t||null;r=new ct(s,null,n||null)}else e&&(t&&((i={})[e]=t),r=new lt(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},e.prototype.get=function(){return this.repo.getValue(this)},e.prototype.once=function(t,n,r,i){var s=this;Object(o.C)("Query.once",1,4,arguments.length),ke("Query.once",1,t,!1),Object(o.D)("Query.once",2,n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.a;c.promise.catch((function(){}));var l=function e(r){u&&(u=!1,s.off(t,e),n&&n.bind(a.context)(r),c.resolve(r))};return this.on(t,l,(function(e){s.off(t,l),a.cancel&&a.cancel.bind(a.context)(e),c.reject(e)})),c.promise},e.prototype.limitToFirst=function(t){if(Object(o.C)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,bt(this.queryParams_,t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(Object(o.C)("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,Ct(this.queryParams_,t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(Object(o.C)("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Se("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new U(t);if(K(n))throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new ot(n),i=Et(this.queryParams_,r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){Object(o.C)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=Et(this.queryParams_,Ue);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){Object(o.C)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=Et(this.queryParams_,Be);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){Object(o.C)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=Et(this.queryParams_,it);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),Object(o.C)("Query.startAt",0,2,arguments.length),_e("Query.startAt",1,t,this.path,!0),Oe("Query.startAt",2,n,!0);var r=wt(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.startAfter=function(t,n){void 0===t&&(t=null),Object(o.C)("Query.startAfter",0,2,arguments.length),_e("Query.startAfter",1,t,this.path,!1),Oe("Query.startAfter",2,n,!0);var r=kt(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),Object(o.C)("Query.endAt",0,2,arguments.length),_e("Query.endAt",1,t,this.path,!0),Oe("Query.endAt",2,n,!0);var r=Ot(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endBefore=function(t,n){void 0===t&&(t=null),Object(o.C)("Query.endBefore",0,2,arguments.length),_e("Query.endBefore",1,t,this.path,!1),Oe("Query.endBefore",2,n,!0);var r=St(this.queryParams_,t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(Object(o.C)("Query.equalTo",1,2,arguments.length),_e("Query.equalTo",1,e,this.path,!1),Oe("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return Object(o.C)("Query.toString",0,0,arguments.length),this.repo.toString()+z(this.path)},e.prototype.toJSON=function(){return Object(o.C)("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return function(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Be&&(t.i=e.index_.toString()),t}(this.queryParams_)},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=I(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(Object(o.C)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=X(this.path,t.path),s=this.queryIdentifier()===t.queryIdentifier();return r&&i&&s},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,Object(o.D)(e,3,r.cancel,!0),r.context=n,Object(o.E)(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(Object(o.m)(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),At=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),xt=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Y(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},e}(),It=function(e,t,n){return e&&"object"==typeof e?(Object(o.e)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?jt(e[".sv"],t,n):"object"==typeof e[".sv"]?Nt(e[".sv"],t):void Object(o.e)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},jt=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(o.e)(!1,"Unexpected server value: "+e)}},Nt=function(e,t,n){e.hasOwnProperty("increment")||Object(o.e)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&Object(o.e)(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(o.e)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i.getValue();return"number"!=typeof s?r:s+r},Rt=function(e,t,n,r){return Ft(t,new xt(n,e),r)},Dt=function(e,t,n){return Ft(e,new At(t),n)};function Ft(e,t,n){var r,i=e.getPriority().val(),o=It(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var s=e,a=It(s.getValue(),t,n);return a!==s.getValue()||o!==s.getPriority().val()?new qe(a,rt(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new qe(o))),u.forEachChild(Be,(function(e,i){var o=Ft(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Mt=function(){function e(){this.value=null,this.children=new Map}return e.prototype.find=function(e){if(null!=this.value)return this.value.getChild(e);if(!K(e)&&this.children.size>0){var t=H(e);return e=B(e),this.children.has(t)?this.children.get(t).find(e):null}return null},e.prototype.remember=function(t,n){if(K(t))this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(t,n);else{var r=H(t);this.children.has(r)||this.children.set(r,new e);var i=this.children.get(r);t=B(t),i.remember(t,n)}},e.prototype.forget=function(e){if(K(e))return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var t=this.value;this.value=null;var n=this;return t.forEachChild(Be,(function(e,t){n.remember(new U(e),t)})),this.forget(e)}if(this.children.size>0){var r=H(e);return e=B(e),this.children.has(r)&&this.children.get(r).forget(e)&&this.children.delete(r),0===this.children.size}return!0},e.prototype.forEachTree=function(e,t){null!==this.value?t(e,this.value):this.forEachChild((function(n,r){var i=new U(e.toString()+"/"+n);r.forEachTree(i,t)}))},e.prototype.forEachChild=function(e){this.children.forEach((function(t,n){e(n,t)}))},e}(),Lt=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}({});function Ut(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Vt,Ht=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Lt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(K(this.path)){if(null!=this.affectedTree.value)return Object(o.e)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new U(t));return new e(V(),n,this.revert)}return Object(o.e)(H(this.path)===t,"operationForChild called for unrelated child."),new e(B(this.path),this.affectedTree,this.revert)},e}(),qt=function(){function e(e,t){void 0===t&&(Vt||(Vt=new Ge(A)),t=Vt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return N(t,(function(e,t){n=n.set(new U(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:V(),value:this.value};if(K(e))return null;var n=H(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(B(e),t);return null!=i?{path:Y(new U(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(K(t))return this;var n=H(t),r=this.children.get(n);return null!==r?r.subtree(B(t)):new e(null)},e.prototype.set=function(t,n){if(K(t))return new e(n,this.children);var r=H(t),i=(this.children.get(r)||new e(null)).set(B(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(K(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=H(t),r=this.children.get(n);if(r){var i=r.remove(B(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(K(e))return this.value;var t=H(e),n=this.children.get(t);return n?n.get(B(e)):null},e.prototype.setTree=function(t,n){if(K(t))return n;var r,i=H(t),o=(this.children.get(i)||new e(null)).setTree(B(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(V(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Y(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,V(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(K(e))return null;var i=H(e),o=this.children.get(i);return o?o.findOnPath_(B(e),Y(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,V(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(K(t))return this;this.value&&r(n,this.value);var i=H(t),o=this.children.get(i);return o?o.foreachOnPath_(B(t),Y(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(V(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Y(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Bt=function(){function e(e,t){this.source=e,this.path=t,this.type=Lt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return K(this.path)?new e(this.source,V()):new e(this.source,B(this.path))},e}(),Qt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Lt.OVERWRITE}return e.prototype.operationForChild=function(t){return K(this.path)?new e(this.source,V(),this.snap.getImmediateChild(t)):new e(this.source,B(this.path),this.snap)},e}(),zt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Lt.MERGE}return e.prototype.operationForChild=function(t){if(K(this.path)){var n=this.children.subtree(new U(t));return n.isEmpty()?null:n.value?new Qt(this.source,V(),n.value):new e(this.source,V(),n)}return Object(o.e)(H(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,B(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Wt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(K(e))return this.isFullyInitialized()&&!this.filtered_;var t=H(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Gt=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new Wt(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new Wt(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e}(),Yt=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Object(o.e)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(o.e)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,pt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,dt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,ft(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(o.f)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,pt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Kt=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Zt=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Wt(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}(),Jt=function(e,t){this.viewCache=e,this.changes=t},Xt=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){Object(o.e)(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Object(o.e)(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,r,i){var s,a,u=new Yt;if(n.type===Lt.OVERWRITE){var c=n;c.source.fromUser?s=this.applyUserOverwrite_(t,c.path,c.snap,r,i,u):(Object(o.e)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.getServerCache().isFiltered()&&!K(c.path),s=this.applyServerOverwrite_(t,c.path,c.snap,r,i,a,u))}else if(n.type===Lt.MERGE){var l=n;l.source.fromUser?s=this.applyUserMerge_(t,l.path,l.children,r,i,u):(Object(o.e)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.getServerCache().isFiltered(),s=this.applyServerMerge_(t,l.path,l.children,r,i,a,u))}else if(n.type===Lt.ACK_USER_WRITE){var h=n;s=h.revert?this.revertUserWrite_(t,h.path,r,i,u):this.ackUserWrite_(t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Lt.LISTEN_COMPLETE)throw Object(o.f)("Unknown operation type: "+n.type);s=this.listenComplete_(t,n.path,r,u)}var f=u.getChanges();return e.maybeAddValueEvent_(t,s,f),new Jt(s,f)},e.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ht(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,i){var s=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var a=void 0,u=void 0;if(K(t))if(Object(o.e)(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var c=e.getCompleteServerSnap(),l=n.calcCompleteEventChildren(c instanceof tt?c:tt.EMPTY_NODE);a=this.filter_.updateFullNode(e.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(e.getCompleteServerSnap());a=this.filter_.updateFullNode(e.getEventCache().getNode(),h,i)}else{var f=H(t);if(".priority"===f){Object(o.e)(1===q(t),"Can't have a priority with additional path components");var d=s.getNode();u=e.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(t,d,u);a=null!=p?this.filter_.updatePriority(d,p):s.getNode()}else{var v=B(t),y=void 0;if(s.isCompleteForChild(f)){u=e.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(t,s.getNode(),u);y=null!=g?s.getNode().getImmediateChild(f).updateChild(v,g):s.getNode().getImmediateChild(f)}else y=n.calcCompleteChild(f,e.getServerCache());a=null!=y?this.filter_.updateChild(s.getNode(),f,y,v,r,i):s.getNode()}}return e.updateEventSnap(a,s.isFullyInitialized()||K(t),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,r,i,o,s){var a,u=e.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(K(t))a=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(t,n);a=c.updateFullNode(u.getNode(),l,null)}else{var h=H(t);if(!u.isCompleteForPath(t)&&q(t)>1)return e;var f=B(t),d=u.getNode().getImmediateChild(h).updateChild(f,n);a=".priority"===h?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),h,d,f,Kt,null)}var p=e.updateServerSnap(a,u.isFullyInitialized()||K(t),c.filtersNodes()),v=new Zt(r,p,i);return this.generateEventCacheAfterServerEvent_(p,t,r,v,s)},e.prototype.applyUserOverwrite_=function(e,t,n,r,i,o){var s,a,u=e.getEventCache(),c=new Zt(r,e,i);if(K(t))a=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),s=e.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var l=H(t);if(".priority"===l)a=this.filter_.updatePriority(e.getEventCache().getNode(),n),s=e.updateEventSnap(a,u.isFullyInitialized(),u.isFiltered());else{var h=B(t),f=u.getNode().getImmediateChild(l),d=void 0;if(K(h))d=n;else{var p=c.getCompleteChild(l);d=null!=p?".priority"===Q(h)&&p.getChild(G(h)).isEmpty()?p:p.updateChild(h,n):tt.EMPTY_NODE}if(f.equals(d))s=e;else{var v=this.filter_.updateChild(u.getNode(),l,d,h,c,o);s=e.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,r,i,o,s){var a=this,u=t;return r.foreach((function(r,c){var l=Y(n,r);e.cacheHasChild_(t,H(l))&&(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),r.foreach((function(r,c){var l=Y(n,r);e.cacheHasChild_(t,H(l))||(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),u},e.prototype.applyMerge_=function(e,t){return t.foreach((function(t,n){e=e.updateChild(t,n)})),e},e.prototype.applyServerMerge_=function(e,t,n,r,i,o,s){var a=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var u,c=e;u=K(t)?n:new qt(null).setTree(t,n);var l=e.getServerCache().getNode();return u.children.inorderTraversal((function(t,n){if(l.hasChild(t)){var u=e.getServerCache().getNode().getImmediateChild(t),h=a.applyMerge_(u,n);c=a.applyServerOverwrite_(c,new U(t),h,r,i,o,s)}})),u.children.inorderTraversal((function(t,n){var u=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!l.hasChild(t)&&!u){var h=e.getServerCache().getNode().getImmediateChild(t),f=a.applyMerge_(h,n);c=a.applyServerOverwrite_(c,new U(t),f,r,i,o,s)}})),c},e.prototype.ackUserWrite_=function(e,t,n,r,i,o){if(null!=r.shadowingWrite(t))return e;var s=e.getServerCache().isFiltered(),a=e.getServerCache();if(null!=n.value){if(K(t)&&a.isFullyInitialized()||a.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,a.getNode().getChild(t),r,i,s,o);if(K(t)){var u=new qt(null);return a.getNode().forEachChild(Ue,(function(e,t){u=u.set(new U(e),t)})),this.applyServerMerge_(e,t,u,r,i,s,o)}return e}var c=new qt(null);return n.foreach((function(e,n){var r=Y(t,e);a.isCompleteForPath(r)&&(c=c.set(e,a.getNode().getChild(r)))})),this.applyServerMerge_(e,t,c,r,i,s,o)},e.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||K(t),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,Kt,r)},e.prototype.revertUserWrite_=function(e,t,n,r,i){var s;if(null!=n.shadowingWrite(t))return e;var a=new Zt(n,e,r),u=e.getEventCache().getNode(),c=void 0;if(K(t)||".priority"===H(t)){var l=void 0;if(e.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var h=e.getServerCache().getNode();Object(o.e)(h instanceof tt,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}c=this.filter_.updateFullNode(u,l=l,i)}else{var f=H(t),d=n.calcCompleteChild(f,e.getServerCache());null==d&&e.getServerCache().isCompleteForChild(f)&&(d=u.getImmediateChild(f)),(c=null!=d?this.filter_.updateChild(u,f,d,B(t),a,i):e.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,tt.EMPTY_NODE,B(t),a,i):u).isEmpty()&&e.getServerCache().isFullyInitialized()&&(s=n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,s,i))}return s=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(V()),e.updateEventSnap(c,s,this.filter_.filtersNodes())},e}(),$t=function(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()};function en(e,t,n,r,i,s){var a=r.filter((function(e){return e.type===n}));a.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(o.f)("Should only compare child_ events.");var r=new Fe(t.childName,t.snapshotNode),i=new Fe(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),a.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}var tn,nn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_.getQueryParams(),i=new yt(r.getIndex()),o=(n=r).loadsAllData()?new yt(n.getIndex()):n.hasLimit()?new mt(n):new gt(n);this.processor_=new Xt(o);var s=t.getServerCache(),a=t.getEventCache(),u=i.updateFullNode(tt.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(tt.EMPTY_NODE,a.getNode(),null),l=new Wt(u,s.isFullyInitialized(),i.filtersNodes()),h=new Wt(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=new Gt(h,l),this.eventGenerator_=new $t(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteNode=function(){return this.viewCache_.getCompleteEventSnap()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!K(e)&&!t.getImmediateChild(H(e)).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){Object(o.e)(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(e){var i=e.createCancelEvent(t,r);i&&n.push(i)}))}if(e){for(var i=[],s=0;s<this.eventRegistrations_.length;++s){var a=this.eventRegistrations_[s];if(a.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(s+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===Lt.MERGE&&null!==e.source.queryId&&(Object(o.e)(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Object(o.e)(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),Object(o.e)(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Be,(function(e,t){n.push(ft(e,t))})),t.isFullyInitialized()&&n.push(ht(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push({type:"child_moved",snapshotNode:t.snapshotNode,childName:t.childName})})),en(e,i,"child_removed",t,r,n),en(e,i,"child_added",t,r,n),en(e,i,"child_moved",o,r,n),en(e,i,"child_changed",t,r,n),en(e,i,"value",t,r,n),i}(this.eventGenerator_,e,t,n?[n]:this.eventRegistrations_)},e}(),rn=function(){function e(){this.views=new Map}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return Object(o.e)(tn,"Reference.ts has not been loaded"),tn},set:function(e){Object(o.e)(!tn,"__referenceConstructor has already been defined"),tn=e},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return 0===this.views.size},e.prototype.applyOperation=function(e,t,n){var r,s,a=e.source.queryId;if(null!==a){var u=this.views.get(a);return Object(o.e)(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(e,t,n)}var c=[];try{for(var l=Object(i.g)(this.views.values()),h=l.next();!h.done;h=l.next())c=c.concat((u=h.value).applyOperation(e,t,n))}catch(f){r={error:f}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(r)throw r.error}}return c},e.prototype.getView=function(e,t,n,r){var i=e.queryIdentifier(),o=this.views.get(i);if(!o){var s=t.calcCompleteEventCache(r?n:null),a=!1;s?a=!0:n instanceof tt?(s=t.calcCompleteEventChildren(n),a=!1):(s=tt.EMPTY_NODE,a=!1);var u=new Gt(new Wt(s,a,!1),new Wt(n,r,!1));return new nn(e,u)}return o},e.prototype.addEventRegistration=function(e,t,n,r,i){var o=this.getView(e,n,r,i);return this.views.has(e.queryIdentifier())||this.views.set(e.queryIdentifier(),o),o.addEventRegistration(t),o.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var o,s,a=t.queryIdentifier(),u=[],c=[],l=this.hasCompleteView();if("default"===a)try{for(var h=Object(i.g)(this.views.entries()),f=h.next();!f.done;f=h.next()){var d,p=Object(i.e)(f.value,2),v=p[0];c=c.concat((d=p[1]).removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(v),d.getQuery().getQueryParams().loadsAllData()||u.push(d.getQuery()))}}catch(y){o={error:y}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}else(d=this.views.get(a))&&(c=c.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(a),d.getQuery().getQueryParams().loadsAllData()||u.push(d.getQuery())));return l&&!this.hasCompleteView()&&u.push(new e.__referenceConstructor(t.repo,t.path)),{removed:u,events:c}},e.prototype.getQueryViews=function(){var e,t,n=[];try{for(var r=Object(i.g)(this.views.values()),o=r.next();!o.done;o=r.next()){var s=o.value;s.getQuery().getQueryParams().loadsAllData()||n.push(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.getCompleteServerCache=function(e){var t,n,r=null;try{for(var o=Object(i.g)(this.views.values()),s=o.next();!s.done;s=o.next())r=r||s.value.getCompleteServerCache(e)}catch(a){t={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return this.views.get(t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){var e,t;try{for(var n=Object(i.g)(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null},e}(),on=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new qt(null))},e}();function sn(e,t,n){if(K(t))return new on(new qt(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,s=Z(i,t);return o=o.updateChild(s,n),new on(e.writeTree_.set(i,o))}var a=new qt(n),u=e.writeTree_.setTree(t,a);return new on(u)}function an(e,t,n){var r=e;return N(n,(function(e,n){r=sn(r,Y(t,e),n)})),r}function un(e,t){if(K(t))return on.empty();var n=e.writeTree_.setTree(t,new qt(null));return new on(n)}function cn(e,t){return null!=ln(e,t)}function ln(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Z(n.path,t)):null}function hn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Be,(function(e,n){t.push(new Fe(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Fe(e,n.value))})),t}function fn(e,t){if(K(t))return e;var n=ln(e,t);return new on(null!=n?new qt(n):e.writeTree_.subtree(t))}function dn(e){return e.writeTree_.isEmpty()}function pn(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal((function(n,s){".priority"===n?(Object(o.e)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):r=e(Y(t,n),s,r)})),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(Y(t,".priority"),i)),r}(V(),e.writeTree_,t)}var vn=function(){function e(){this.visibleWrites_=on.empty(),this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new yn(e,this)},e.prototype.addOverwrite=function(e,t,n,r){Object(o.e)(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=sn(this.visibleWrites_,e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){Object(o.e)(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=an(this.visibleWrites_,e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex((function(t){return t.writeId===e}));Object(o.e)(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,s=!1,a=this.allWrites_.length-1;i&&a>=0;){var u=this.allWrites_[a];u.visible&&(a>=n&&this.recordContainsPath_(u,r.path)?i=!1:$(r.path,u.path)&&(s=!0)),a--}return!!i&&(s?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=un(this.visibleWrites_,r.path):N(r.children,(function(e){t.visibleWrites_=un(t.visibleWrites_,Y(r.path,e))})),!0))},e.prototype.getCompleteWriteData=function(e){return ln(this.visibleWrites_,e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var o=fn(this.visibleWrites_,t);return!i&&dn(o)?n:i||null!=n||cn(o,V())?pn(e.layerTree_(this.allWrites_,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&($(e.path,t)||$(t,e.path))}),t),n||tt.EMPTY_NODE):null}var s=ln(this.visibleWrites_,t);if(null!=s)return s;var a=fn(this.visibleWrites_,t);return dn(a)?n:null!=n||cn(a,V())?pn(a,n||tt.EMPTY_NODE):null},e.prototype.calcCompleteEventChildren=function(e,t){var n=tt.EMPTY_NODE,r=ln(this.visibleWrites_,e);if(r)return r.isLeafNode()||r.forEachChild(Be,(function(e,t){n=n.updateImmediateChild(e,t)})),n;if(t){var i=fn(this.visibleWrites_,e);return t.forEachChild(Be,(function(e,t){var r=pn(fn(i,new U(e)),t);n=n.updateImmediateChild(e,r)})),hn(i).forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n}return hn(fn(this.visibleWrites_,e)).forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){Object(o.e)(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=Y(e,t);if(cn(this.visibleWrites_,i))return null;var s=fn(this.visibleWrites_,i);return dn(s)?r.getChild(t):pn(s,r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=Y(e,t),i=ln(this.visibleWrites_,r);return null!=i?i:n.isCompleteForChild(t)?pn(fn(this.visibleWrites_,r),n.getNode().getImmediateChild(t)):null},e.prototype.shadowingWrite=function(e){return ln(this.visibleWrites_,e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,o){var s,a=fn(this.visibleWrites_,e),u=ln(a,V());if(null!=u)s=u;else{if(null==t)return[];s=pn(a,t)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},e.prototype.recordContainsPath_=function(e,t){if(e.snap)return $(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&$(Y(e.path,n),t))return!0;return!1},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,V()),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var r=on.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,u=void 0;if(s.snap)$(n,a)?r=sn(r,u=Z(n,a),s.snap):$(a,n)&&(u=Z(a,n),r=sn(r,V(),s.snap.getChild(u)));else{if(!s.children)throw Object(o.f)("WriteRecord should have .snap or .children");if($(n,a))r=an(r,u=Z(n,a),s.children);else if($(a,n))if(K(u=Z(a,n)))r=an(r,V(),s.children);else{var c=Object(o.y)(s.children,H(u));if(c){var l=c.getChild(B(u));r=sn(r,V(),l)}}}}}return r},e}(),yn=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(Y(this.treePath_,e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(Y(this.treePath_,t),this.writeTree_)},e}(),gn=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=new qt(null),this.pendingWriteTree_=new vn,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new Qt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=qt.fromObject(t);return this.applyOperationToSyncPoints_(new zt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=new qt(null);return null!=n.snap?r=r.set(V(),!0):N(n.children,(function(e){r=r.set(new U(e),!0)})),this.applyOperationToSyncPoints_(new Ht(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new Qt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))},e.prototype.applyServerMerge=function(e,t){var n=qt.fromObject(t);return this.applyOperationToSyncPoints_(new zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new Bt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=e.parseQueryKey_(i),s=o.path,a=o.queryId,u=Z(s,t),c=new Qt(Ut(a),u,n);return this.applyTaggedOperation_(s,c)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var o=e.parseQueryKey_(i),s=o.path,a=o.queryId,u=Z(s,t),c=qt.fromObject(n),l=new zt(Ut(a),u,c);return this.applyTaggedOperation_(s,l)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),o=i.path,s=i.queryId,a=Z(o,t),u=new Bt(Ut(s),a);return this.applyTaggedOperation_(o,u)}return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,i=null,s=!1;this.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Z(e,r);i=i||t.getCompleteServerCache(n),s=s||t.hasCompleteView()}));var a,u=this.syncPointTree_.get(r);u?(s=s||u.hasCompleteView(),i=i||u.getCompleteServerCache(V())):(u=new rn,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i?a=!0:(a=!1,i=tt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=t.getCompleteServerCache(V());n&&(i=i.updateImmediateChild(e,n))})));var c=u.viewExistsForQuery(t);if(!c&&!t.getQueryParams().loadsAllData()){var l=e.makeQueryKey_(t);Object(o.e)(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=e.getNextQueryTag_();this.queryToTagMap.set(l,h),this.tagToQueryMap.set(h,l)}var f=this.pendingWriteTree_.childWrites(r),d=u.addEventRegistration(t,n,f,i,a);if(!c&&!s){var p=u.viewForQuery(t);d=d.concat(this.setupListener_(t,p))}return d},e.prototype.removeEventRegistration=function(t,n,r){var i=this,o=t.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===t.queryIdentifier()||s.viewExistsForQuery(t))){var u=s.removeEventRegistration(t,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;a=u.events;var l=-1!==c.findIndex((function(e){return e.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(e,t){return t.hasCompleteView()}));if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(f),p=0;p<d.length;++p){var v=d[p],y=v.getQuery(),g=this.createListenerForView_(v);this.listenProvider_.startListening(e.queryForListening_(y),this.tagForQuery_(y),g.hashFn,g.onComplete)}}!h&&c.length>0&&!r&&(l?this.listenProvider_.stopListening(e.queryForListening_(t),null):c.forEach((function(t){var n=i.queryToTagMap.get(e.makeQueryKey_(t));i.listenProvider_.stopListening(e.queryForListening_(t),n)}))),this.removeTags_(c)}return a},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,(function(t,n){var r=Z(t,e),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(e,r,t,!0)},e.prototype.getServerValue=function(e){var t=e.path,n=null;this.syncPointTree_.foreachOnPath(t,(function(e,r){var i=Z(e,t);n=n||r.getCompleteServerCache(i)}));var r=this.syncPointTree_.get(t);r?n=n||r.getCompleteServerCache(V()):(r=new rn,this.syncPointTree_=this.syncPointTree_.set(t,r));var i=null!=n,o=i?new Wt(n,!0,!1):null,s=this.pendingWriteTree_.childWrites(e.path);return r.getView(e,s,i?o.getNode():tt.EMPTY_NODE,i).getCompleteNode()},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold((function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var r=[];return t&&(r=t.getQueryViews()),N(n,(function(e,t){r=r.concat(t)})),r}))},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var r=t.path,i=this.tagForQuery_(t),s=this.createListenerForView_(n),a=this.listenProvider_.startListening(e.queryForListening_(t),i,s.hashFn,s.onComplete),u=this.syncPointTree_.subtree(r);if(i)Object(o.e)(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!K(e)&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map((function(e){return e.getQuery()})))),N(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(e.queryForListening_(h),this.tagForQuery_(h))}return a},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(e.getServerCache()||tt.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(e,n);return t.removeEventRegistration(n,null,i)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return Object(o.e)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new U(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return this.queryToTagMap.get(n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);Object(o.e)(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(V()))},e.prototype.applyOperationHelper_=function(e,t,n,r){if(K(e.path))return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(V());null==n&&null!=i&&(n=i.getCompleteServerCache(V()));var o=[],s=H(e.path),a=e.operationForChild(s),u=t.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=r.child(s);o=o.concat(this.applyOperationHelper_(a,u,c,l))}return i&&(o=o.concat(i.applyOperation(e,r,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,o=t.get(V());null==n&&null!=o&&(n=o.getCompleteServerCache(V()));var s=[];return t.children.inorderTraversal((function(t,o){var a=n?n.getImmediateChild(t):null,u=r.child(t),c=e.operationForChild(t);c&&(s=s.concat(i.applyOperationDescendantsHelper_(c,o,a,u)))})),o&&(s=s.concat(o.applyOperation(e,r,n))),s},e.nextQueryTag_=1,e}(),mn=function(){function e(){this.rootNode_=tt.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),_n=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Object(o.i)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Object(o.k)(this.counters_)},e}(),bn=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new _n),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),Cn=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Object(i.a)({},e);return this.last_&&N(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),wn=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Cn(e);var n=1e4+2e4*Math.random();L(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;N(t,(function(t,i){i>0&&Object(o.i)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),L(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),kn=function(){this.eventLists_=[],this.recursionDepth_=0};function On(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||X(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Sn(e,t,n){On(e,n),Tn(e,(function(e){return X(e,t)}))}function En(e,t,n){On(e,n),Tn(e,(function(e){return $(e,t)||$(t,e)}))}function Tn(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(Pn(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function Pn(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();g&&b("event: "+n.toString()),M(r)}}}var An=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Object(o.e)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Object(i.f)(this.listeners_[e]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Object(o.e)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),xn=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Object(i.c)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o.e)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(An),In=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.q)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Object(i.c)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o.e)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(An),jn=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&M((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),Nn=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(e),this.stats_=bn.getCollection(t),this.urlFn=function(e){return t.connectionURL("long_polling",e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new jn(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(o.s)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Rn((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(i.e)(e,5),o=r[0],s=r[1],a=r[2];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===o)n.id=s,n.password=a;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(i.e)(e,2),o=r[0],s=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(o,s)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&le.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(Object(o.s)()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Object(o.B)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(o.h)(t),r=j(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!Object(o.s)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=Object(o.B)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Rn=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.s)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=p(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){b("frame writing exception"),u.stack&&b(u.stack),b(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||b("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(t+=n,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;Object(o.s)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){b("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),Dn="";function Fn(e){Dn=e}var Mn=null;"undefined"!=typeof MozWebSocket?Mn=MozWebSocket:"undefined"!=typeof WebSocket&&(Mn=WebSocket);var Ln=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=bn.getCollection(n),this.connURL=e.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n){var r={v:"5"};return!Object(o.s)()&&"undefined"!=typeof location&&location.hostname&&le.test(location.hostname)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),e.connectionURL("websocket",r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.s)()){var r={headers:{"User-Agent":"Firebase/5/"+Dn+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,s=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new Mn(this.connURL,[],r)}else this.mySock=new Mn(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(u){this.log_("Error instantiating WebSocket.");var a=u.message||u.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Mn&&!e.forceDisallow_},e.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(o.v)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(Object(o.e)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=Object(o.B)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=j(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),Un=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Nn,Ln]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,o=Ln&&Ln.isAvailable(),s=o&&!Ln.previouslyFailed();if(t.webSocketOnly&&(o||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Ln];else{var a=this.transports_=[];try{for(var u=Object(i.g)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),Vn=function(){function e(e,t,n,r,i,o,s,a){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new Un(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=L((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=x("t",e),n=x("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=x("t",e),n=x("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=x("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?w("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):w("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&O("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),L((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):L((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),Hn=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),qn=function(e){function t(n,r,i,s,a,u,c){var l=e.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=s,l.onServerInfoUpdate_=a,l.authTokenProvider_=u,l.authOverride_=c,l.id=t.nextPersistentConnectionId_++,l.log_=C("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Object(o.s)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),xn.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&In.getInstance().on("online",l.onOnline_,l),l}return Object(i.c)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(o.B)(i)),Object(o.e)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this,n=new o.a,r={p:e.path.toString(),q:e.queryObject()},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[s];void 0!==e&&i===e&&(delete t.outstandingGets_[s],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(s),n.promise},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),s=e.path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Object(o.e)(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(o.e)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};e.tag&&(s.q=r.queryObject(),s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,u=s.s;t.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,a))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&Object(o.i)(e,"w")){var n=Object(o.y)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();O("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||Object(o.n)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(o.u)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(o.e)(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){"ok"!==e.s&&t.log_("reportStats","Error sending stats: "+e.d)}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Object(o.B)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):w("Unrecognized action received from server: "+Object(o.B)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Object(o.e)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var e=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(e){Object(o.e)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then((function(e){c?b("getToken() completed but was canceled"):(b("getToken() completed. Creating connection."),a.authToken_=e&&e.accessToken,l=new Vn(s,a.repoInfo_,a.applicationId_,n,r,i,(function(e){O(e+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")}),u))})).then(null,(function(t){a.log_("Failed to get token: "+t),c||(e.repoInfo_.nodeAdmin&&O(t),h())}))}},t.prototype.interrupt=function(e){b("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){b("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(o.p)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return I(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new U(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){b("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var o=Object(i.g)(this.listens.values()),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=(n=void 0,Object(i.g)(a.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},t.prototype.sendConnectStats_=function(){var e={},t="js";Object(o.s)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Dn.replace(/\./g,"-")]=1,Object(o.q)()?e["framework.cordova"]=1:Object(o.t)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=In.getInstance().currentlyOnline();return Object(o.p)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(Hn),Bn=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=C("p:rest:"),i.listens_={},i}return Object(i.c)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Object(o.e)(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var s=this,a=e.path.toString();this.log_("Listen called for "+a+" "+e.queryIdentifier());var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=Tt(e.getQueryParams());this.restRequest_(a+".json",l,(function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&s.onDataUpdate_(a,n,!1,r),Object(o.y)(s.listens_,u)===c&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Tt(e.getQueryParams()),r=e.path.toString(),i=new o.a;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var s=i&&i.accessToken;s&&(t.auth=s);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Object(o.x)(t);r.log_("Sending REST request for "+a);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=Object(o.v)(u.responseText)}catch(t){O("Failed to parse JSON response for "+a+": "+u.responseText)}n(null,e)}else 401!==u.status&&404!==u.status&&O("Got unsuccessful REST response for "+a+" Status: "+u.status),n(u.status);n=null}},u.open("GET",a,!0),u.send()}))},t}(Hn),Qn=function(){this.children={},this.childCount=0,this.value=null},zn=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new Qn),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n=t instanceof U?t:new U(t),r=this,i=H(n);null!==i;)r=new e(i,r,Object(o.y)(r.node_.children,i)||new Qn),i=H(n=B(n));return r},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){Object(o.e)(void 0!==e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;N(this.node_.children,(function(r,i){t(new e(r,n,i))}))},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild((function(t){t.forEachDescendant(e,!0,n)})),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild((function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)}))},e.prototype.path=function(){return new U(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=Object(o.i)(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}(),Wn=function(e){return e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT",e}({}),Gn=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new kn,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Mt,this.transactionQueueTree_=new zn,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.start=function(){var e=this;if(this.stats_=bn.getCollection(this.repoInfo_),this.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Bn(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var t=this.app.options.databaseAuthVariableOverride;if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.B)(t)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}this.persistentConnection_=new qn(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,t),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),this.statsReporter_=bn.getOrCreateReporter(this.repoInfo_,(function(){return new wn(e.stats_,e.server_)})),this.infoData_=new mn,this.infoSyncTree_=new gn({startListening:function(t,n,r,i){var o=[],s=e.infoData_.getNode(t.path);return s.isEmpty()||(o=e.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new gn({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);En(e.eventQueue_,t.path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})},e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new U(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e},e.prototype.generateServerValues=function(){return(e=(e={timestamp:this.serverTime()})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var i=new U(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var s=[];if(r)if(n){var a=Object(o.w)(t,(function(e){return rt(e)}));s=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var u=rt(t);s=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=Object(o.w)(t,(function(e){return rt(e)}));s=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=rt(t);s=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;s.length>0&&(h=this.rerunTransactions_(i)),En(this.eventQueue_,h,s)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;N(e,(function(e,n){t.updateInfo_(e,n)}))},e.prototype.updateInfo_=function(e,t){var n=new U("/.info/"+e),r=rt(t);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);En(this.eventQueue_,n,i)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.getValue=function(e){var t=this,n=this.serverSyncTree_.getServerValue(e);return null!=n?Promise.resolve(new st(n,e.getRef(),e.getQueryParams().getIndex())):this.server_.get(e).then((function(n){var r=rt(n),i=t.serverSyncTree_.applyServerOverwrite(e.path,r);return Sn(t.eventQueue_,e.path,i),Promise.resolve(new st(r,e.getRef(),e.getQueryParams().getIndex()))}),(function(n){return t.log_("get for query "+Object(o.B)(e)+" failed: "+n),Promise.reject(new Error(n))}))},e.prototype.setWithPriority=function(e,t,n,r){var i=this;this.log_("set",{path:e.toString(),value:t,priority:n});var o=this.generateServerValues(),s=rt(t,n),a=this.serverSyncTree_.calcCompleteEventCache(e),u=Dt(s,a,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(e,u,c,!0);On(this.eventQueue_,l),this.server_.put(e.toString(),s.val(!0),(function(t,n){var o="ok"===t;o||O("set at "+e+" failed: "+t);var s=i.serverSyncTree_.ackUserWrite(c,!o);En(i.eventQueue_,e,s),i.callOnCompleteCallback(r,t,n)}));var h=this.abortTransactions_(e);this.rerunTransactions_(h),En(this.eventQueue_,h,[])},e.prototype.update=function(e,t,n){var r=this;this.log_("update",{path:e.toString(),value:t});var i=!0,o=this.generateServerValues(),s={};if(N(t,(function(t,n){i=!1,s[t]=Rt(Y(e,t),rt(n),r.serverSyncTree_,o)})),i)b("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(e,s,a);On(this.eventQueue_,u),this.server_.merge(e.toString(),t,(function(t,i){var o="ok"===t;o||O("update at "+e+" failed: "+t);var s=r.serverSyncTree_.ackUserWrite(a,!o),u=s.length>0?r.rerunTransactions_(e):e;En(r.eventQueue_,u,s),r.callOnCompleteCallback(n,t,i)})),N(t,(function(t){var n=r.abortTransactions_(Y(e,t));r.rerunTransactions_(n)})),En(this.eventQueue_,e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=new Mt;this.onDisconnect_.forEachTree(V(),(function(r,i){var o=Rt(r,i,e.serverSyncTree_,t);n.remember(r,o)}));var r=[];n.forEachTree(V(),(function(t,n){r=r.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var i=e.abortTransactions_(t);e.rerunTransactions_(i)})),this.onDisconnect_=new Mt,En(this.eventQueue_,V(),r)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)}))},e.prototype.onDisconnectSet=function(e,t,n){var r=this,i=rt(t);this.server_.onDisconnectPut(e.toString(),i.val(!0),(function(t,o){"ok"===t&&r.onDisconnect_.remember(e,i),r.callOnCompleteCallback(n,t,o)}))},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var i=this,o=rt(t,n);this.server_.onDisconnectPut(e.toString(),o.val(!0),(function(t,n){"ok"===t&&i.onDisconnect_.remember(e,o),i.callOnCompleteCallback(r,t,n)}))},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(Object(o.p)(t))return b("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,(function(i,o){"ok"===i&&N(t,(function(t,n){var i=rt(n);r.onDisconnect_.remember(Y(e,t),i)})),r.callOnCompleteCallback(n,i,o)}))},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===H(e.path)?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),Sn(this.eventQueue_,e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===H(e.path)?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),Sn(this.eventQueue_,e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;e?(this.statsListener_||(this.statsListener_=new Cn(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce((function(e,t){return Math.max(t.length,e)}),0);N(t,(function(e,t){for(var r=e,i=e.length;i<n+2;i++)r+=" ";console.log(r+t)}))}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),b.apply(void 0,Object(i.f)([n],e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&M((function(){if("ok"===t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,e(o)}}))},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new $n(this))},enumerable:!1,configurable:!0}),e.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);var i=function(){},s=new Yn(this,e);s.on("value",i);var a={path:e,update:t,onComplete:n,status:null,order:p(),applyLocally:r,retryCount:0,unwatcher:function(){s.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(e);a.currentInputSnapshot=u;var c=a.update(u.val());if(void 0===c){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var l=new st(a.currentInputSnapshot,new Yn(this,a.path),Be);a.onComplete(null,!1,l)}}else{be("transaction failed: Data returned ",c,a.path),a.status=Wn.RUN;var h=this.transactionQueueTree_.subTree(e),f=h.getValue()||[];f.push(a),h.setValue(f);var d=void 0;"object"==typeof c&&null!==c&&Object(o.i)(c,".priority")?(d=Object(o.y)(c,".priority"),Object(o.e)(me(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(this.serverSyncTree_.calcCompleteEventCache(e)||tt.EMPTY_NODE).getPriority().val();var v=this.generateServerValues(),y=rt(c,d),g=Dt(y,u,v);a.currentOutputSnapshotRaw=y,a.currentOutputSnapshotResolved=g,a.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(e,g,a.currentWriteId,a.applyLocally);En(this.eventQueue_,e,m),this.sendReadyTransactions_()}},e.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||tt.EMPTY_NODE},e.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);Object(o.e)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return e.status===Wn.RUN}))&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild((function(e){t.sendReadyTransactions_(e)}))},e.prototype.sendTransactionQueue_=function(e,t){for(var n=this,r=t.map((function(e){return e.currentWriteId})),i=this.getLatestState_(e,r),s=i,a=i.hash(),u=0;u<t.length;u++){var c=t[u];Object(o.e)(c.status===Wn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=Wn.SENT,c.retryCount++;var l=Z(e,c.path);s=s.updateChild(l,c.currentOutputSnapshotRaw)}var h=s.val(!0),f=e;this.server_.put(f.toString(),h,(function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<t.length;s++){if(t[s].status=Wn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(t[s].currentWriteId)),t[s].onComplete){var a=t[s].currentOutputSnapshotResolved,u=new Yn(n,t[s].path),c=new st(a,u,Be);o.push(t[s].onComplete.bind(null,null,!0,c))}t[s].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),En(n.eventQueue_,e,i),s=0;s<o.length;s++)M(o[s])}else{if("datastale"===r)for(s=0;s<t.length;s++)t[s].status=t[s].status===Wn.SENT_NEEDS_ABORT?Wn.NEEDS_ABORT:Wn.RUN;else for(O("transaction at "+f.toString()+" failed: "+r),s=0;s<t.length;s++)t[s].status=Wn.NEEDS_ABORT,t[s].abortReason=r;n.rerunTransactions_(e)}}),a)},e.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},e.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n=[],r=[],i=e.filter((function(e){return e.status===Wn.RUN})).map((function(e){return e.currentWriteId})),s=0;s<e.length;s++){var a=e[s],u=Z(t,a.path),c=!1,l=void 0;if(Object(o.e)(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===Wn.NEEDS_ABORT)c=!0,l=a.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===Wn.RUN)if(a.retryCount>=25)c=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var h=this.getLatestState_(a.path,i);a.currentInputSnapshot=h;var f=e[s].update(h.val());if(void 0!==f){be("transaction failed: Data returned ",f,a.path);var d=rt(f);"object"==typeof f&&null!=f&&Object(o.i)(f,".priority")||(d=d.updatePriority(h.getPriority()));var p=a.currentWriteId,v=this.generateServerValues(),y=Dt(d,h,v);a.currentOutputSnapshotRaw=d,a.currentOutputSnapshotResolved=y,a.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(p),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(a.path,y,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else c=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(En(this.eventQueue_,t,r),r=[],c&&(e[s].status=Wn.COMPLETED,setTimeout(e[s].unwatcher,Math.floor(0)),e[s].onComplete))if("nodata"===l){var g=new Yn(this,e[s].path),m=new st(e[s].currentInputSnapshot,g,Be);n.push(e[s].onComplete.bind(null,null,!1,m))}else n.push(e[s].onComplete.bind(null,new Error(l),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),s=0;s<n.length;s++)M(n[s]);this.sendReadyTransactions_()}},e.prototype.getAncestorTransactionNode_=function(e){var t,n=this.transactionQueueTree_;for(t=H(e);null!==t&&null===n.getValue();)n=n.subTree(t),t=H(e=B(e));return n},e.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort((function(e,t){return e.order-t.order})),t},e.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild((function(e){n.aggregateTransactionQueuesForNode_(e,t)}))},e.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==Wn.COMPLETED&&(n[r]=n[i],r++);n.length=r,e.setValue(n.length>0?n:null)}e.forEachChild((function(e){t.pruneCompletedTransactionsBelowNode_(e)}))},e.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor((function(e){t.abortTransactionsOnNode_(e)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(e){t.abortTransactionsOnNode_(e)})),n},e.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],i=-1,s=0;s<t.length;s++)t[s].status===Wn.SENT_NEEDS_ABORT||(t[s].status===Wn.SENT?(Object(o.e)(i===s-1,"All SENT items should be at beginning of queue."),i=s,t[s].status=Wn.SENT_NEEDS_ABORT,t[s].abortReason="set"):(Object(o.e)(t[s].status===Wn.RUN,"Unexpected transaction status in abort"),t[s].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[s].currentWriteId,!0)),t[s].onComplete&&n.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?e.setValue(null):t.length=i+1,En(this.eventQueue_,e.path(),r),s=0;s<n.length;s++)M(n[s])}},e}(),Yn=function(e){function t(t,n){if(!(t instanceof Gn))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,new _t,!1)||this}return Object(i.c)(t,e),t.prototype.getKey=function(){return Object(o.C)("Reference.key",0,0,arguments.length),K(this.path)?null:Q(this.path)},t.prototype.child=function(e){return Object(o.C)("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof U||(null===H(this.path)?Ee("Reference.child",1,e,!1):Se("Reference.child",1,e,!1)),new t(this.repo,Y(this.path,e))},t.prototype.getParent=function(){Object(o.C)("Reference.parent",0,0,arguments.length);var e=G(this.path);return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){Object(o.C)("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){Object(o.C)("Reference.set",1,2,arguments.length),Te("Reference.set",this.path),_e("Reference.set",1,e,this.path,!1),Object(o.D)("Reference.set",2,t,!0);var n=new o.a;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(Object(o.C)("Reference.update",1,2,arguments.length),Te("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ce("Reference.update",1,e,this.path,!1),Object(o.D)("Reference.update",2,t,!0);var i=new o.a;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(Object(o.C)("Reference.setWithPriority",2,3,arguments.length),Te("Reference.setWithPriority",this.path),_e("Reference.setWithPriority",1,e,this.path,!1),we("Reference.setWithPriority",2,t,!1),Object(o.D)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.a;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return Object(o.C)("Reference.remove",0,1,arguments.length),Te("Reference.remove",this.path),Object(o.D)("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(Object(o.C)("Reference.transaction",1,3,arguments.length),Te("Reference.transaction",this.path),Object(o.D)("Reference.transaction",1,e,!1),Object(o.D)("Reference.transaction",2,t,!0),Ae("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.a;"function"==typeof t&&r.promise.catch((function(){}));var i=function(e,n,i){e?r.reject(e):r.resolve(new Ie(n,i)),"function"==typeof t&&t(e,n,i)};return this.repo.startTransaction(this.path,e,i,n),r.promise},t.prototype.setPriority=function(e,t){Object(o.C)("Reference.setPriority",1,2,arguments.length),Te("Reference.setPriority",this.path),we("Reference.setPriority",1,e,!1),Object(o.D)("Reference.setPriority",2,t,!0);var n=new o.a;return this.repo.setWithPriority(Y(this.path,".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){Object(o.C)("Reference.push",0,2,arguments.length),Te("Reference.push",this.path),_e("Reference.push",1,e,this.path,!0),Object(o.D)("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=Ne(r),s=this.child(i),a=this.child(i);return n=null!=e?s.set(e,t).then((function(){return a})):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch((function(){})),s},t.prototype.onDisconnect=function(){return Te("Reference.onDisconnect",this.path),new xe(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Pt);Pt.__referenceConstructor=Yn,rn.__referenceConstructor=Yn;var Kn,Zn=function(){function e(e,t){var n=this;this.app_=e,this.authProvider_=t,this.auth_=null,this.auth_=t.getImmediate({optional:!0}),this.auth_||t.get().then((function(e){return n.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(b("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';O(e+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},e}(),Jn=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}(),Xn=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return Kn||(Kn=new e),Kn},e.prototype.interrupt=function(){var e,t,n,r;try{for(var o=Object(i.g)(Object.keys(this.repos_)),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=(n=void 0,Object(i.g)(Object.keys(this.repos_[a]))),c=u.next();!c.done;c=u.next())this.repos_[a][c.value].interrupt()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype.resume=function(){var e,t,n,r;try{for(var o=Object(i.g)(Object.keys(this.repos_)),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=(n=void 0,Object(i.g)(Object.keys(this.repos_[a]))),c=u.next();!c.done;c=u.next())this.repos_[a][c.value].resume()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype.applyEmulatorSettings=function(e,t,n){e.repoInfo_=new he(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new Jn)},e.prototype.databaseFromApp=function(e,t,n,r){var i=n||e.options.databaseURL;void 0===i&&(e.options.projectId||k("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),b("Using default host for project ",e.options.projectId),i=e.options.projectId+"-default-rtdb.firebaseio.com");var o,s=fe(i,r),a=s.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,a=(s=fe(i="http://"+u+"?ns="+a.namespace,r)).repoInfo):o=!s.repoInfo.secure;var c=r&&o?new Jn:new Zn(e,t);return Pe("Invalid Firebase Database URL",1,s),K(s.path)||k("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(a,e,c).database},e.prototype.deleteRepo=function(e){var t=Object(o.y)(this.repos_,e.app.name);t&&Object(o.y)(t,e.key)===e||k("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.key]},e.prototype.createRepo=function(e,t,n){var r=Object(o.y)(this.repos_,t.name);r||(this.repos_[t.name]=r={});var i=Object(o.y)(r,e.toURLString());return i&&k("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Gn(e,this.useRestClient_,t,n),r[e.toURLString()]=i,i},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),$n=function(){function e(e){var t=this;this.repoInternal_=e,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(i.b)(t,void 0,void 0,(function(){return Object(i.d)(this,(function(e){return this.checkDeleted_("delete"),Xn.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},e instanceof Gn||k("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(e.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new Yn(this.repo_,V())),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),e.prototype.useEmulator=function(e,t){this.checkDeleted_("useEmulator"),this.instanceStarted_?k("Cannot call useEmulator() after instance has already been initialized."):Xn.getInstance().applyEmulatorSettings(this.repoInternal_,e,t)},e.prototype.ref=function(e){return this.checkDeleted_("ref"),Object(o.C)("database.ref",0,1,arguments.length),e instanceof Yn?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),Object(o.C)(t,1,1,arguments.length);var n=fe(e,this.repo_.repoInfo_.nodeAdmin);Pe(t,1,n);var r=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||r.host===this.repo_.repoInfo_.host||k(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repoInternal_&&k("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){Object(o.C)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){Object(o.C)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},e}(),er=Object.freeze({__proto__:null,forceLongPolling:function(){Ln.forceDisallow(),Nn.forceAllow()},forceWebSockets:function(){Nn.forceDisallow()},isWebSocketsAvailable:function(){return Ln.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){e.repo.stats(t)},statsIncrementCounter:function(e,t){e.repo.statsIncrementCounter(t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return e.repo.interceptServerData_(t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.customAuthImpl,i=e.namespace,o=e.nodeAdmin,s=void 0!==o&&o;Fn(e.version);var u=new a.c("auth-internal",new a.b("database-standalone"));return u.setComponent(new a.a("auth-internal",(function(){return r}),"PRIVATE")),{instance:Xn.getInstance().databaseFromApp(t,u,n,s),namespace:i}}}),tr=qn;qn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},qn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var nr=Object.freeze({__proto__:null,DataConnection:tr,RealTimeConnection:Vn,hijackHash:function(e){var t=qn.prototype.put;return qn.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){qn.prototype.put=t}},ConnectionTarget:he,queryIdentifier:function(e){return e.queryIdentifier()},forceRestClient:function(e){Xn.getInstance().forceRestClient(e)}}),rr=$n.ServerValue;!function(t){Fn(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new a.a("database",(function(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return Xn.getInstance().databaseFromApp(n,r,t)}),"PUBLIC").setServiceProps({Reference:Yn,Query:Pt,Database:$n,DataSnapshot:st,enableLogging:_,INTERNAL:er,ServerValue:rr,TEST_ACCESS:nr}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.9.4"),Object(o.s)()&&(e.exports=n)}(r.a)}).call(this,n("3UD+")(e))},"7RJT":function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n("ds6q"),s=n("Mxlh");t.BehaviorSubject=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return i(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new s.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(o.Subject)},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a"),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o){var s;switch(_classCallCheck(this,n),(s=t.call(this)).syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=i.a;break;case 1:if(!e){s.destination=i.a;break}if("object"==typeof e){e instanceof n?(s.syncErrorThrowable=e.syncErrorThrowable,s.destination=e,e.add(_assertThisInitialized(s))):(s.syncErrorThrowable=!0,s.destination=new l(_assertThisInitialized(s),e));break}default:s.syncErrorThrowable=!0,s.destination=new l(_assertThisInitialized(s),e,r,o)}return s}return _createClass(n,[{key:s.a,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,o,s,a){var u,c;_classCallCheck(this,n),(u=t.call(this))._parentSubscriber=e;var l=_assertThisInitialized(u);return Object(r.a)(o)?c=o:o&&(c=o.next,s=o.error,a=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=s,u._complete=a,u}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=a.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u.a)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(c)},"9AGB":function(e,t,n){"use strict";var r=n("yoF8");function i(e){return 0===e.length?r.identity:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)},t.pipeFromArray=i},"9ppp":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},AFwO:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n("FWf1"),s=n("xKqS");t.observeOn=function(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}};var a=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.scheduler,this.delay))},e}();t.ObserveOnOperator=a;var u=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return i(t,e),t.dispatch=function(e){e.notification.observe(e.destination),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new c(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(s.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(s.Notification.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete()),this.unsubscribe()},t}(o.Subscriber);t.ObserveOnSubscriber=u;var c=function(e,t){this.notification=e,this.destination=t};t.ObserveOnMessage=c},AdPF:function(e,t,n){var r=n("yeub"),i=n("2UHX");e.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(s){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(s){}if(!t)try{return new(i[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(s){}}},Aplp:function(e,t,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},s=0,a=0;function u(e){var t="";do{t=i[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function c(){var e=u(+new Date);return e!==r?(s=0,r=e):e+"."+u(s++)}for(;a<64;a++)o[i[a]]=a;c.encode=u,c.decode=function(e){var t=0;for(a=0;a<e.length;a++)t=64*t+o[e.charAt(a)];return t},e.exports=c},Byvj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0,t.on=function(e,t,n){return e.on(t,n),function(){e.off(t,n)}}},C2QD:function(e,t){function n(e){this.ms=(e=e||{}).min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},CIKq:function(e,t,n){var r=n("Gbct"),i=n("Fyy9"),o=n("TypT"),s=n("Aplp"),a=n("Eexf").pick,u=n("X071"),c=u.WebSocket,l=u.usingBrowserWebSocket,h=u.defaultBinaryType,f=n("NOtv")("engine.io-client:websocket"),d="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).supportsBinary=!e.forceBase64,r}return _createClass(n,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=d?{}:a(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=l&&!d?t?new c(e,t):new c(e):new c(e,t,n)}catch(r){return this.emit("error",r)}this.ws.binaryType=this.socket.binaryType||h,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=e.length,r=0,o=n;r<o;r++)!function(e){i.encodePacket(e,t.supportsBinary,(function(r){var i={};!l&&(e.options&&(i.compress=e.options.compress),t.opts.perMessageDeflate)&&("string"==typeof r?Buffer.byteLength(r):r.length)<t.opts.perMessageDeflate.threshold&&(i.compress=!1);try{l?t.ws.send(r):t.ws.send(r,i)}catch(o){f("websocket closed before onclose event")}--n||(t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0))}))}(e[r])}},{key:"onClose",value:function(){r.prototype.onClose.call(this)}},{key:"doClose",value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",n="";return this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=s()),this.supportsBinary||(e.b64=1),(e=o.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}},{key:"check",value:function(){return!(!c||"__initialize"in c&&this.name===n.prototype.name)}}]),n}(r);e.exports=p},CUme:function(e,t,n){var r=n("Gbct"),i=n("TypT"),o=n("Fyy9"),s=n("Aplp"),a=n("NOtv")("engine.io-client:polling");e.exports=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;function n(){a("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(a("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){a("pre-pause polling complete"),--r||n()}))),this.writable||(a("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){a("pre-pause writing complete"),--r||n()})))}else n()}},{key:"poll",value:function(){a("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(e){var t=this;a("polling got data %s",e),o.decodePayload(e,this.socket.binaryType).forEach((function(e,n,r){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():a('ignoring poll - transport state "%s"',this.readyState))}},{key:"doClose",value:function(){var e=this;function t(){a("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(a("transport open - closing"),t()):(a("transport not open - deferring close"),this.once("open",t))}},{key:"write",value:function(e){var t=this;this.writable=!1,o.encodePayload(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emit("drain")}))}))}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",n="";return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),e.length&&(e="?"+e),t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}}]),n}(r)},Cfvw:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[s.a]}(e))return function(e,t){return new r.a((function(n){var r=new o.a;return r.add(t.schedule((function(){var i=e[s.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Object(c.a)(e))return function(e,t){return new r.a((function(n){var r=new o.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Object(l.a)(e))return Object(a.a)(e,t);if(function(e){return e&&"function"==typeof e[u.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[u.a](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}},Cl5A:function(e,t,n){var r,i=n("CUme"),o=n("2UHX"),s=/\n/g,a=/\\n/g;e.exports=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;_classCallCheck(this,n),(i=t.call(this,e)).query=i.query||{},r||(r=o.___eio=o.___eio||[]),i.index=r.length;var s=_assertThisInitialized(i);return r.push((function(e){s.onData(e)})),i.query.j=i.index,i}return _createClass(n,[{key:"supportsBinary",get:function(){return!1}},{key:"doClose",value:function(){this.script&&(this.script.onerror=function(){},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),_get(_getPrototypeOf(n.prototype),"doClose",this).call(this)}},{key:"doPoll",value:function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)}},{key:"doWrite",value:function(e,t){var n,r=this;if(!this.form){var i=document.createElement("form"),o=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=u,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function c(){l(),t()}function l(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(e){r.onError("jsonp polling iframe removal error",e)}try{n=document.createElement('<iframe src="javascript:0" name="'+r.iframeId+'">')}catch(e){(n=document.createElement("iframe")).name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}this.form.action=this.uri(),l(),e=e.replace(a,"\\\n"),this.area.value=e.replace(s,"\\n");try{this.form.submit()}catch(h){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&c()}:this.iframe.onload=c}}]),n}(i)},D0XW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},"Dz+M":function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.Action=function(e){function t(t,n){return e.call(this)||this}return i(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n("zB/H").Subscription)},EY2u:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(e){return e.complete()}));function o(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},Eexf:function(e,t){e.exports.pick=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}},FGiv:function(e,t){var n=1e3,r=6e4,i=60*r,o=24*i;function s(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var a,u,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===c&&isFinite(e))return t.long?(a=e,(u=Math.abs(a))>=o?s(a,u,o,"day"):u>=i?s(a,u,i,"hour"):u>=r?s(a,u,r,"minute"):u>=n?s(a,u,n,"second"):a+" ms"):function(e){var t=Math.abs(e);return t>=o?Math.round(e/o)+"d":t>=i?Math.round(e/i)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},FWf1:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n("pshJ"),s=n("GiSu"),a=n("zB/H"),u=n("p//D"),c=n("n3uD"),l=n("MkmW"),h=function(e){function t(n,r,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=s.empty;break;case 1:if(!n){o.destination=s.empty;break}if("object"==typeof n){n instanceof t?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new f(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new f(o,n,r,i)}return o}return i(t,e),t.prototype[u.rxSubscriber]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(a.Subscription);t.Subscriber=h;var f=function(e){function t(t,n,r,i){var a,u=e.call(this)||this;u._parentSubscriber=t;var c=u;return o.isFunction(n)?a=n:n&&(a=n.next,r=n.error,i=n.complete,n!==s.empty&&(c=Object.create(n),o.isFunction(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=a,u._error=r,u._complete=i,u}return i(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):l.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;l.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),c.config.useDeprecatedSynchronousErrorHandling)throw n;l.hostReportError(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return c.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(l.hostReportError(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(h);t.SafeSubscriber=f},FiyT:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.SubjectSubscription=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return i(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n("zB/H").Subscription)},Fyy9:function(e,t,n){var r=n("sRpT"),i=n("2xjq"),o=String.fromCharCode(30);e.exports={protocol:4,encodePacket:r,encodePayload:function(e,t){var n=e.length,i=new Array(n),s=0;e.forEach((function(e,a){r(e,!1,(function(e){i[a]=e,++s===n&&t(i.join(o))}))}))},decodePacket:i,decodePayload:function(e,t){for(var n=e.split(o),r=[],s=0;s<n.length;s++){var a=i(n[s],t);if(r.push(a),"error"===a.type)break}return r}}},GMZp:function(e,t,n){"use strict";t.isObject=function(e){return null!==e&&"object"==typeof e}},Gbct:function(e,t,n){var r=n("Fyy9"),i=n("cpc2");e.exports=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).opts=e,r.query=e.query,r.readyState="",r.socket=e.socket,r}return _createClass(n,[{key:"onError",value:function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,this.emit("open")}},{key:"onData",value:function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){this.emit("packet",e)}},{key:"onClose",value:function(){this.readyState="closed",this.emit("close")}}]),n}(i)},GiSu:function(e,t,n){"use strict";var r=n("n3uD"),i=n("MkmW");t.empty={closed:!0,next:function(e){},error:function(e){if(r.config.useDeprecatedSynchronousErrorHandling)throw e;i.hostReportError(e)},complete:function(){}}},H2PQ:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.QueueScheduler=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(n("NTcF").AsyncScheduler)},HDdC:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,i=n("7o/Q"),o=n("2QA8"),s=n("gRHU"),a=n("kJWO"),u=n("mCNh"),c=n("2fFW"),l=((r=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,a=function(e,t,n){if(e){if(e instanceof i.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new i.a(e,t,n):new i.a(s.a)}(e,t,n);if(a.add(r?r.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){c.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof i.a?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=h(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:a.a,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:Object(u.b)(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=h(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new r(e)},r);function h(e){if(e||(e=c.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},I55L:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},I65S:function(e,t,n){"use strict";var r=n("nzqU"),i=n("zzsZ"),o=n("2qMH");t.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return r.isScheduler(n)?(e.pop(),o.scheduleArray(e,n)):i.fromArray(e)}},IEvo:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});t.QueueAction=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return i(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n("2tF/").AsyncAction)},IjjT:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(e,t,n){"use strict";var r=n("zIRd");n.d(t,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.2.9","app")},LBXl:function(e,t,n){"use strict";t.UnsubscriptionError=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},LRne:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=t[t.length-1];return Object(r.a)(s)?(t.pop(),Object(o.a)(t,s)):Object(i.a)(t)}},Lhse:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},MkmW:function(e,t,n){"use strict";t.hostReportError=function(e){setTimeout((function(){throw e}),0)}},Mxlh:function(e,t,n){"use strict";t.ObjectUnsubscribedError=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},NJ4a:function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},NOtv:function(e,t,n){var r;t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),t.splice(i,0,n)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(n){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(r=!1,function(){r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=n("3JDX")(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},NTcF:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n("ffpz");t.AsyncScheduler=function(e){function t(n,r){void 0===r&&(r=o.Scheduler.now);var i=e.call(this,n,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return i(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(o.Scheduler)},OAkW:function(e,t,n){"use strict";t.subscribeToArray=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},PVQj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;var r=n("lKxJ"),i=n("eFEk"),o=n("cpc2"),s=n("Tgil"),a=n("Byvj"),u=n("C2QD"),c=n("NOtv")("socket.io-client:manager");t.Manager=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this)).nsps={},i.subs=[],e&&"object"==typeof e&&(r=e,e=void 0),(r=r||{}).path=r.path||"/socket.io",i.opts=r,i.reconnection(!1!==r.reconnection),i.reconnectionAttempts(r.reconnectionAttempts||1/0),i.reconnectionDelay(r.reconnectionDelay||1e3),i.reconnectionDelayMax(r.reconnectionDelayMax||5e3),i.randomizationFactor(r.randomizationFactor||.5),i.backoff=new u({min:i.reconnectionDelay(),max:i.reconnectionDelayMax(),jitter:i.randomizationFactor()}),i.timeout(null==r.timeout?2e4:r.timeout),i._readyState="closed",i.uri=e;var o=r.parser||s;return i.encoder=new o.Encoder,i.decoder=new o.Decoder,i._autoConnect=!1!==r.autoConnect,i._autoConnect&&i.open(),i}return _createClass(n,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(c("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=r(this.uri,this.opts);var i=this.engine,o=this;this._readyState="opening",this.skipReconnect=!1;var s=a.on(i,"open",(function(){o.onopen(),e&&e()})),u=a.on(i,"error",(function(r){c("error"),o.cleanup(),o._readyState="closed",_get(_getPrototypeOf(n.prototype),"emit",t).call(t,"error",r),e?e(r):o.maybeReconnectOnOpen()}));if(!1!==this._timeout){var l=this._timeout;c("connect attempt will timeout after %d",l),0===l&&s();var h=setTimeout((function(){c("connect attempt timed out after %d",l),s(),i.close(),i.emit("error",new Error("timeout"))}),l);this.subs.push((function(){clearTimeout(h)}))}return this.subs.push(s),this.subs.push(u),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){c("open"),this.cleanup(),this._readyState="open",_get(_getPrototypeOf(n.prototype),"emit",this).call(this,"open");var e=this.engine;this.subs.push(a.on(e,"ping",this.onping.bind(this)),a.on(e,"data",this.ondata.bind(this)),a.on(e,"error",this.onerror.bind(this)),a.on(e,"close",this.onclose.bind(this)),a.on(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){_get(_getPrototypeOf(n.prototype),"emit",this).call(this,"ping")}},{key:"ondata",value:function(e){this.decoder.add(e)}},{key:"ondecoded",value:function(e){_get(_getPrototypeOf(n.prototype),"emit",this).call(this,"packet",e)}},{key:"onerror",value:function(e){c("error",e),_get(_getPrototypeOf(n.prototype),"emit",this).call(this,"error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n||(n=new i.Socket(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var r=n[t];if(this.nsps[r].active)return void c("socket %s is still active, skipping close",r)}this._close()}},{key:"_packet",value:function(e){c("writing packet %j",e);for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){c("cleanup"),this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){c("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e){c("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",_get(_getPrototypeOf(n.prototype),"emit",this).call(this,"close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),_get(_getPrototypeOf(n.prototype),"emit",this).call(this,"reconnect_failed"),this._reconnecting=!1;else{var r=this.backoff.duration();c("will wait %dms before reconnect attempt",r),this._reconnecting=!0;var i=setTimeout((function(){t.skipReconnect||(c("attempting reconnect"),_get(_getPrototypeOf(n.prototype),"emit",e).call(e,"reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(r){r?(c("reconnect attempt error"),t._reconnecting=!1,t.reconnect(),_get(_getPrototypeOf(n.prototype),"emit",e).call(e,"reconnect_error",r)):(c("reconnect success"),t.onreconnect())})))}),r);this.subs.push((function(){clearTimeout(i)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),_get(_getPrototypeOf(n.prototype),"emit",this).call(this,"reconnect",e)}}]),n}(o)},Q1FS:function(e,t,n){"use strict";var r=n("yx2s"),i=n("Xwq/"),o=n("zfKp"),s=n("9AGB"),a=n("n3uD");function u(e){if(e||(e=a.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}t.Observable=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=i.toSubscriber(e,t,n);if(o.add(r?r.call(o,this.source):this.source||a.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){a.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),r.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=u(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:s.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=u(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}()},SeVD:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(e){if(e&&"function"==typeof e[s.a])return l=e,function(e){var t=l[s.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(a.a)(e))return Object(r.a)(e);if(Object(u.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i.a),e};if(e&&"function"==typeof e[o.a])return t=e,function(e){for(var n=t[o.a]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,l,h=Object(c.a)(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},Tgil:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;var r,i=n("cpc2"),o=n("aUwa"),s=n("ipDq"),a=n("NOtv")("socket.io-parser");t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(r=t.PacketType||(t.PacketType={})),t.Encoder=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encode",value:function(e){return a("encoding packet %j",e),e.type!==r.EVENT&&e.type!==r.ACK||!s.hasBinary(e)?[this.encodeAsString(e)]:(e.type=e.type===r.EVENT?r.BINARY_EVENT:r.BINARY_ACK,this.encodeAsBinary(e))}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==r.BINARY_EVENT&&e.type!==r.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),a("encoded %j as %s",e,t),t}},{key:"encodeAsBinary",value:function(e){var t=o.deconstructPacket(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}]),e}();var u=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"add",value:function(e){var t;if("string"==typeof e)(t=this.decodeString(e)).type===r.BINARY_EVENT||t.type===r.BINARY_ACK?(this.reconstructor=new c(t),0===t.attachments&&_get(_getPrototypeOf(n.prototype),"emit",this).call(this,"decoded",t)):_get(_getPrototypeOf(n.prototype),"emit",this).call(this,"decoded",t);else{if(!s.isBinary(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,_get(_getPrototypeOf(n.prototype),"emit",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,i={type:Number(e.charAt(0))};if(void 0===r[i.type])throw new Error("unknown packet type "+i.type);if(i.type===r.BINARY_EVENT||i.type===r.BINARY_ACK){for(var o=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var s=e.substring(o,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");i.attachments=Number(s)}if("/"===e.charAt(t+1)){for(var u=t+1;++t&&","!==e.charAt(t)&&t!==e.length;);i.nsp=e.substring(u,t)}else i.nsp="/";var c=e.charAt(t+1);if(""!==c&&Number(c)==c){for(var l=t+1;++t;){var h=e.charAt(t);if(null==h||Number(h)!=h){--t;break}if(t===e.length)break}i.id=Number(e.substring(l,t+1))}if(e.charAt(++t)){var f=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(t));if(!n.isPayloadValid(i.type,f))throw new Error("invalid payload");i.data=f}return a("decoded %s as %j",e,i),i}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case r.CONNECT:return"object"==typeof t;case r.DISCONNECT:return void 0===t;case r.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case r.EVENT:case r.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case r.ACK:case r.BINARY_ACK:return Array.isArray(t)}}}]),n}(i);t.Decoder=u;var c=function(){function e(t){_classCallCheck(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return _createClass(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}()},TypT:function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},Uxeu:function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t,i,o=e,s=e.indexOf("["),a=e.indexOf("]");-1!=s&&-1!=a&&(e=e.substring(0,s)+e.substring(s,a).replace(/:/g,";")+e.substring(a,e.length));for(var u,c=n.exec(e||""),l={},h=14;h--;)l[r[h]]=c[h]||"";return-1!=s&&-1!=a&&(l.source=o,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=(i=(t=l.path).replace(/\/{2,9}/g,"/").split("/"),"/"!=t.substr(0,1)&&0!==t.length||i.splice(0,1),"/"==t.substr(t.length-1,1)&&i.splice(i.length-1,1),i),l.queryKey=(u={},l.query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(u[t]=n)})),u),l}},VRyK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=Number.POSITIVE_INFINITY,u=null,c=t[t.length-1];return Object(i.a)(c)?(u=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(a=t.pop())):"number"==typeof c&&(a=t.pop()),null===u&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(a)(Object(s.a)(t,u))}},X071:function(e,t,n){var r=n("2UHX");e.exports={WebSocket:r.WebSocket||r.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"}},XNiG:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8"),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).destination=e,r}return n}(i.a),l=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(e){var t=new h(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new s.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new s.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new s.a;return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.isStopped?(e.complete(),o.a.EMPTY):(this.observers.push(e),new a.a(this,e))}},{key:"asObservable",value:function(){var e=new r.a;return e.source=this,e}}]),n}(r.a);return e.create=function(e,t){return new h(e,t)},e}(),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):o.a.EMPTY}}]),n}(l)},XoHu:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},"Xwq/":function(e,t,n){"use strict";var r=n("FWf1"),i=n("p//D"),o=n("GiSu");t.toSubscriber=function(e,t,n){if(e){if(e instanceof r.Subscriber)return e;if(e[i.rxSubscriber])return e[i.rxSubscriber]()}return e||t||n?new r.Subscriber(e,t,n):new r.Subscriber(o.empty)}},Ylt2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function s(e,t,n,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(e,n,s);if(!a.closed)return t instanceof o.a?t.subscribe(a):Object(i.a)(t)(a)}},aJGj:function(e,t,n){"use strict";var r=n("Q1FS");t.EMPTY=new r.Observable((function(e){return e.complete()})),t.empty=function(e){return e?function(e){return new r.Observable((function(t){return e.schedule((function(){return t.complete()}))}))}(e):t.EMPTY}},aUwa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;var r=n("ipDq");t.deconstructPacket=function(e){var t=[],n=e;return n.data=function e(t,n){if(!t)return t;if(r.isBinary(t)){var i={_placeholder:!0,num:n.length};return n.push(t),i}if(Array.isArray(t)){for(var o=new Array(t.length),s=0;s<t.length;s++)o[s]=e(t[s],n);return o}if("object"==typeof t&&!(t instanceof Date)){var a={};for(var u in t)t.hasOwnProperty(u)&&(a[u]=e(t[u],n));return a}return t}(e.data,t),n.attachments=t.length,{packet:n,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=e(t[r],n);else if("object"==typeof t)for(var i in t)t.hasOwnProperty(i)&&(t[i]=e(t[i],n));return t}(e.data,t),e.attachments=void 0,e}},akSB:function(e,t,n){var r=n("AdPF"),i=n("0z79"),o=n("Cl5A"),s=n("CIKq");t.polling=function(e){var t=!1,n=!1,s=!1!==e.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol,u=location.port;u||(u=a?443:80),t=e.hostname!==location.hostname||u!==e.port,n=e.secure!==a}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new i(e);if(!s)throw new Error("JSONP disabled");return new o(e)},t.websocket=s},bHdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,e)}},c2HN:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},cpc2:function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},ds6q:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n("Q1FS"),s=n("FWf1"),a=n("zB/H"),u=n("Mxlh"),c=n("FiyT"),l=n("p//D"),h=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return i(t,e),t}(s.Subscriber);t.SubjectSubscriber=h;var f=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return i(t,e),t.prototype[l.rxSubscriber]=function(){return new h(this)},t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new u.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new u.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new u.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(e.complete(),a.Subscription.EMPTY):(this.observers.push(e),new c.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new o.Observable;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(o.Observable);t.Subject=f;var d=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return i(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.Subscription.EMPTY},t}(f);t.AnonymousSubject=d},eFEk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;var r=n("Tgil"),i=n("cpc2"),o=n("Byvj"),s=n("NOtv")("socket.io-client:socket"),a=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});t.Socket=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).receiveBuffer=[],o.sendBuffer=[],o.ids=0,o.acks={},o.flags={},o.io=e,o.nsp=r,o.ids=0,o.acks={},o.receiveBuffer=[],o.sendBuffer=[],o.connected=!1,o.disconnected=!0,o.flags={},i&&i.auth&&(o.auth=i.auth),o.io._autoConnect&&o.open(),o}return _createClass(n,[{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[o.on(e,"open",this.onopen.bind(this)),o.on(e,"packet",this.onpacket.bind(this)),o.on(e,"error",this.onerror.bind(this)),o.on(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(a.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.unshift(e);var o={type:r.PacketType.EVENT,data:n,options:{}};return o.options.compress=!1!==this.flags.compress,"function"==typeof n[n.length-1]&&(s("emitting packet with ack id %d",this.ids),this.acks[this.ids]=n.pop(),o.id=this.ids++),!this.flags.volatile||this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable&&this.connected?this.connected?this.packet(o):this.sendBuffer.push(o):s("discard packet as the transport is not currently writable"),this.flags={},this}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;s("transport is open - connecting"),"function"==typeof this.auth?this.auth((function(t){e.packet({type:r.PacketType.CONNECT,data:t})})):this.packet({type:r.PacketType.CONNECT,data:this.auth})}},{key:"onerror",value:function(e){this.connected||_get(_getPrototypeOf(n.prototype),"emit",this).call(this,"connect_error",e)}},{key:"onclose",value:function(e){s("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,_get(_getPrototypeOf(n.prototype),"emit",this).call(this,"disconnect",e)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case r.PacketType.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid):_get(_getPrototypeOf(n.prototype),"emit",this).call(this,"connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case r.PacketType.EVENT:case r.PacketType.BINARY_EVENT:this.onevent(e);break;case r.PacketType.ACK:case r.PacketType.BINARY_ACK:this.onack(e);break;case r.PacketType.DISCONNECT:this.ondisconnect();break;case r.PacketType.CONNECT_ERROR:var t=new Error(e.data.message);t.data=e.data.data,_get(_getPrototypeOf(n.prototype),"emit",this).call(this,"connect_error",t)}}},{key:"onevent",value:function(e){var t=e.data||[];s("emitting event %j",t),null!=e.id&&(s("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,r=_createForOfIteratorHelper(this._anyListeners.slice());try{for(r.s();!(t=r.n()).done;){t.value.apply(this,e)}}catch(i){r.e(i)}finally{r.f()}}_get(_getPrototypeOf(n.prototype),"emit",this).apply(this,e)}},{key:"ack",value:function(e){var t=this,n=!1;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];n||(n=!0,s("sending ack %j",o),t.packet({type:r.PacketType.ACK,id:e,data:o}))}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"==typeof t?(s("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):s("bad ack %s",e.id)}},{key:"onconnect",value:function(e){s("socket connected with id %s",e),this.id=e,this.connected=!0,this.disconnected=!1,_get(_getPrototypeOf(n.prototype),"emit",this).call(this,"connect"),this.emitBuffered()}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){return e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){s("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&(s("performing disconnect (%s)",this.nsp),this.packet({type:r.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}}]),n}(i)},f7yz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.url=void 0;var r=n("Uxeu"),i=n("NOtv")("socket.io-client:url");t.url=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,o=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==n?n.protocol+"//"+e:"https://"+e),i("parse %s",e),o=r(e)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";var s=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+s+":"+o.port+t,o.href=o.protocol+"://"+s+(n&&n.port===o.port?"":":"+o.port),o}},fXoL:function(e,t,n){"use strict";n.d(t,"a",(function(){return yo})),n.d(t,"b",(function(){return uu})),n.d(t,"c",(function(){return ru})),n.d(t,"d",(function(){return tu})),n.d(t,"e",(function(){return nu})),n.d(t,"f",(function(){return $u})),n.d(t,"g",(function(){return Bu})),n.d(t,"h",(function(){return Xi})),n.d(t,"i",(function(){return _u})),n.d(t,"j",(function(){return Vs})),n.d(t,"k",(function(){return hu})),n.d(t,"l",(function(){return Hs})),n.d(t,"m",(function(){return vn})),n.d(t,"n",(function(){return Da})),n.d(t,"o",(function(){return G})),n.d(t,"p",(function(){return l})),n.d(t,"q",(function(){return W})),n.d(t,"r",(function(){return vo})),n.d(t,"s",(function(){return sa})),n.d(t,"t",(function(){return aa})),n.d(t,"u",(function(){return lu})),n.d(t,"v",(function(){return se})),n.d(t,"w",(function(){return zu})),n.d(t,"x",(function(){return oe})),n.d(t,"y",(function(){return Lu})),n.d(t,"z",(function(){return ku})),n.d(t,"A",(function(){return h})),n.d(t,"B",(function(){return au})),n.d(t,"C",(function(){return su})),n.d(t,"D",(function(){return zs})),n.d(t,"E",(function(){return Bs})),n.d(t,"F",(function(){return Qs})),n.d(t,"G",(function(){return Gs})),n.d(t,"H",(function(){return nr})),n.d(t,"I",(function(){return d})),n.d(t,"J",(function(){return Yu})),n.d(t,"K",(function(){return ha})),n.d(t,"L",(function(){return Iu})),n.d(t,"M",(function(){return Ks})),n.d(t,"N",(function(){return Ys})),n.d(t,"O",(function(){return da})),n.d(t,"P",(function(){return pe})),n.d(t,"Q",(function(){return Oo})),n.d(t,"R",(function(){return Uu})),n.d(t,"S",(function(){return Nn})),n.d(t,"T",(function(){return x})),n.d(t,"U",(function(){return jn})),n.d(t,"V",(function(){return Ju})),n.d(t,"W",(function(){return Nu})),n.d(t,"X",(function(){return cu})),n.d(t,"Y",(function(){return eo})),n.d(t,"Z",(function(){return Aa})),n.d(t,"ab",(function(){return er})),n.d(t,"bb",(function(){return or})),n.d(t,"cb",(function(){return Mn})),n.d(t,"db",(function(){return kn})),n.d(t,"eb",(function(){return Sn})),n.d(t,"fb",(function(){return An})),n.d(t,"gb",(function(){return Tn})),n.d(t,"hb",(function(){return En})),n.d(t,"ib",(function(){return Pn})),n.d(t,"jb",(function(){return Sa})),n.d(t,"kb",(function(){return Zu})),n.d(t,"lb",(function(){return Ea})),n.d(t,"mb",(function(){return Ta})),n.d(t,"nb",(function(){return On})),n.d(t,"ob",(function(){return L})),n.d(t,"pb",(function(){return So})),n.d(t,"qb",(function(){return Bo})),n.d(t,"rb",(function(){return qo})),n.d(t,"sb",(function(){return ko})),n.d(t,"tb",(function(){return Oa})),n.d(t,"ub",(function(){return Le})),n.d(t,"vb",(function(){return T})),n.d(t,"wb",(function(){return wn})),n.d(t,"xb",(function(){return Cs})),n.d(t,"yb",(function(){return Ts})),n.d(t,"zb",(function(){return Ms})),n.d(t,"Ab",(function(){return Tr})),n.d(t,"Bb",(function(){return Po})),n.d(t,"Cb",(function(){return rs})),n.d(t,"Db",(function(){return ns})),n.d(t,"Eb",(function(){return Ya})),n.d(t,"Fb",(function(){return me})),n.d(t,"Gb",(function(){return Se})),n.d(t,"Hb",(function(){return g})),n.d(t,"Ib",(function(){return m})),n.d(t,"Jb",(function(){return we})),n.d(t,"Kb",(function(){return Ee})),n.d(t,"Lb",(function(){return Io})),n.d(t,"Mb",(function(){return Lo})),n.d(t,"Nb",(function(){return Vo})),n.d(t,"Ob",(function(){return Uo})),n.d(t,"Pb",(function(){return Mo})),n.d(t,"Qb",(function(){return Fo})),n.d(t,"Rb",(function(){return Ho})),n.d(t,"Sb",(function(){return hn})),n.d(t,"Tb",(function(){return ms})),n.d(t,"Ub",(function(){return te})),n.d(t,"Vb",(function(){return jo})),n.d(t,"Wb",(function(){return eu})),n.d(t,"Xb",(function(){return No})),n.d(t,"Yb",(function(){return Qo})),n.d(t,"Zb",(function(){return Ka})),n.d(t,"ac",(function(){return Go})),n.d(t,"bc",(function(){return Ro})),n.d(t,"cc",(function(){return Ra})),n.d(t,"dc",(function(){return Wa})),n.d(t,"ec",(function(){return xo})),n.d(t,"fc",(function(){return rt})),n.d(t,"gc",(function(){return sr})),n.d(t,"hc",(function(){return ar})),n.d(t,"ic",(function(){return ke})),n.d(t,"jc",(function(){return ts})),n.d(t,"kc",(function(){return Ao})),n.d(t,"lc",(function(){return $a})),n.d(t,"mc",(function(){return ps})),n.d(t,"nc",(function(){return vs})),n.d(t,"oc",(function(){return ys})),n.d(t,"pc",(function(){return gs})),n.d(t,"qc",(function(){return _s})),n.d(t,"rc",(function(){return Ga}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(e){return{toString:e}.toString()}function c(e,t,n){return u((function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return s.annotation=o,s;function s(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}var l=c("Inject",(function(e){return{token:e}})),h=c("Optional"),f=c("Self"),d=c("SkipSelf"),p=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function v(e){for(var t in e)if(e[t]===v)return t;throw Error("Could not find renamed property on target object.")}function y(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function g(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function m(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function _(e){return b(e,e[w])||b(e,e[S])}function b(e,t){return t&&t.token===e?t:null}function C(e){return e&&(e.hasOwnProperty(k)||e.hasOwnProperty(E))?e[k]:null}var w=v({"\u0275prov":v}),k=v({"\u0275inj":v}),O=v({"\u0275provFallback":v}),S=v({ngInjectableDef:v}),E=v({ngInjectorDef:v});function T(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(T).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function P(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var A=v({__forward_ref__:v});function x(e){return e.__forward_ref__=x,e.toString=function(){return T(this())},e}function I(e){return j(e)?e():e}function j(e){return"function"==typeof e&&e.hasOwnProperty(A)&&e.__forward_ref__===x}var N,R="undefined"!=typeof globalThis&&globalThis,D="undefined"!=typeof window&&window,F="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,M="undefined"!=typeof global&&global,L=R||M||D||F,U=v({"\u0275cmp":v}),V=v({"\u0275dir":v}),H=v({"\u0275pipe":v}),q=v({"\u0275mod":v}),B=v({"\u0275loc":v}),Q=v({"\u0275fac":v}),z=v({__NG_ELEMENT_ID__:v}),W=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=g({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),e}(),G=new W("INJECTOR",-1),Y={},K=/\n/gm,Z=v({provide:String,useValue:v}),J=void 0;function X(e){var t=J;return J=e,t}function $(e){var t=N;return N=e,t}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Default;if(void 0===J)throw new Error("inject() must be called from an injection context");return null===J?ne(e,void 0,t):J.get(e,t&p.Optional?null:void 0,t)}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Default;return(N||ee)(I(e),t)}function ne(e,t,n){var r=_(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&p.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(T(e),"]"))}function re(e){for(var t=[],n=0;n<e.length;n++){var r=I(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=p.Default,s=0;s<r.length;s++){var a=r[s];a instanceof h||"Optional"===a.ngMetadataName||a===h?o|=p.Optional:a instanceof d||"SkipSelf"===a.ngMetadataName||a===d?o|=p.SkipSelf:a instanceof f||"Self"===a.ngMetadataName||a===f?o|=p.Self:i=a instanceof l||a===l?a.token:a}t.push(te(i,o))}else t.push(te(r))}return t}var ie=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y;if(t===Y){var n=new Error("NullInjectorError: No provider for ".concat(T(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),oe=function e(){_classCallCheck(this,e)},se=function e(){_classCallCheck(this,e)};function ae(e,t){e.forEach((function(e){return Array.isArray(e)?ae(e,t):t(e)}))}function ue(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ce(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function le(e,t,n){var r=fe(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function he(e,t){var n=fe(e,t);if(n>=0)return e[1|n]}function fe(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),s=e[o<<1];if(t===s)return o<<1;s>t?i=o:r=o+1}return~(i<<1)}(e,t)}var de=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),pe=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),ve={},ye=[],ge=0;function me(e){return u((function(){var t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===de.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ye,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||pe.Emulated,id:"c",styles:e.styles||ye,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,s=e.features,a=e.pipes;return i.id+=ge++,i.inputs=Oe(e.inputs,r),i.outputs=Oe(e.outputs),s&&s.forEach((function(e){return e(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(_e)}:null,i.pipeDefs=a?function(){return("function"==typeof a?a():a).map(be)}:null,i}))}function _e(e){return Te(e)||function(e){return e[V]||null}(e)}function be(e){return function(e){return e[H]||null}(e)}var Ce={};function we(e){var t={type:e.type,bootstrap:e.bootstrap||ye,declarations:e.declarations||ye,imports:e.imports||ye,exports:e.exports||ye,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&u((function(){Ce[e.id]=e.type})),t}function ke(e,t){return u((function(){var n=Ae(e,!0);n.declarations=t.declarations||ye,n.imports=t.imports||ye,n.exports=t.exports||ye}))}function Oe(e,t){if(null==e)return ve;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var Se=me;function Ee(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Te(e){return e[U]||null}function Pe(e,t){return e.hasOwnProperty(Q)?e[Q]:null}function Ae(e,t){var n=e[q]||null;if(!n&&!0===t)throw new Error("Type ".concat(T(e)," does not have '\u0275mod' property."));return n}function xe(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ie(e){return Array.isArray(e)&&!0===e[1]}function je(e){return 0!=(8&e.flags)}function Ne(e){return 2==(2&e.flags)}function Re(e){return 1==(1&e.flags)}function De(e){return null!==e.template}function Fe(e){return 0!=(512&e[2])}var Me=void 0;function Le(e){Me=e}function Ue(){return void 0!==Me?Me:"undefined"!=typeof document?document:void 0}function Ve(e){return!!e.listen}var He={createRenderer:function(e,t){return Ue()}};function qe(e){for(;Array.isArray(e);)e=e[0];return e}function Be(e,t){return qe(t[e+20])}function Qe(e,t){return qe(t[e.index])}function ze(e,t){return e.data[t+20]}function We(e,t){var n=t[e];return xe(n)?n:n[0]}function Ge(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Ye(e){return 4==(4&e[2])}function Ke(e){return 128==(128&e[2])}function Ze(e,t){return null===e||null==t?null:e[t]}function Je(e){e[18]=0}function Xe(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var $e={lFrame:bt(null),bindingsEnabled:!0,checkNoChangesMode:!1};function et(){return $e.bindingsEnabled}function tt(){return $e.lFrame.lView}function nt(){return $e.lFrame.tView}function rt(e){$e.lFrame.contextLView=e}function it(){return $e.lFrame.previousOrParentTNode}function ot(e,t){$e.lFrame.previousOrParentTNode=e,$e.lFrame.isParent=t}function st(){return $e.lFrame.isParent}function at(){$e.lFrame.isParent=!1}function ut(){return $e.checkNoChangesMode}function ct(e){$e.checkNoChangesMode=e}function lt(){return $e.lFrame.bindingIndex++}function ht(e){var t=$e.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ft(e,t){var n=$e.lFrame;n.bindingIndex=n.bindingRootIndex=e,dt(t)}function dt(e){$e.lFrame.currentDirectiveIndex=e}function pt(e){var t=$e.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function vt(){return $e.lFrame.currentQueryIndex}function yt(e){$e.lFrame.currentQueryIndex=e}function gt(e,t){var n=_t();$e.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function mt(e,t){var n=_t(),r=e[1];$e.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex}function _t(){var e=$e.lFrame,t=null===e?null:e.child;return null===t?bt(e):t}function bt(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function Ct(){var e=$e.lFrame;return $e.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var wt=Ct;function kt(){var e=Ct();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ot(){return $e.lFrame.selectedIndex}function St(e){$e.lFrame.selectedIndex=e}function Et(){var e=$e.lFrame;return ze(e.tView,e.selectedIndex)}function Tt(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n];i.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,i.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,i.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,i.onDestroy)}}function Pt(e,t,n){It(e,t,3,n)}function At(e,t,n,r){(3&e[2])===n&&It(e,t,n,r)}function xt(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function It(e,t,n,r){for(var i=null!=r?r:-1,o=0,s=void 0!==r?65535&e[18]:0;s<t.length;s++)if("number"==typeof t[s+1]){if(o=t[s],null!=r&&o>=r)break}else t[s]<0&&(e[18]+=65536),(o<i||-1==i)&&(jt(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function jt(e,t,n,r){var i=n[r]<0,o=n[r+1],s=e[i?-n[r]:n[r]];i?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(s)):o.call(s)}var Nt=function e(t,n,r){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Rt(e,t,n){for(var r=Ve(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var s=n[i++],a=n[i++],u=n[i++];r?e.setAttribute(t,a,u,s):t.setAttributeNS(s,a,u)}else{var c=o,l=n[++i];Ft(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function Dt(e){return 3===e||4===e||6===e}function Ft(e){return 64===e.charCodeAt(0)}function Mt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||Lt(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Lt(e,t,n,r,i){var o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){var a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Ut(e){return-1!==e}function Vt(e){return 32767&e}function Ht(e){return e>>16}function qt(e,t){for(var n=Ht(e),r=t;n>0;)r=r[15],n--;return r}function Bt(e){return"string"==typeof e?e:null==e?"":""+e}function Qt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Bt(e)}var zt=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(L);function Wt(e){return e instanceof Function?e():e}var Gt=!0;function Yt(e){var t=Gt;return Gt=e,t}var Kt=0;function Zt(e,t){var n=Xt(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Jt(r.data,e),Jt(t,null),Jt(r.blueprint,null));var i=$t(e,t),o=e.injectorIndex;if(Ut(i))for(var s=Vt(i),a=qt(i,t),u=a[1].data,c=0;c<8;c++)t[o+c]=a[s+c]|u[s+c];return t[o+8]=i,o}function Jt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Xt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function $t(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],r=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function en(e,t,n){!function(e,t,n){var r="string"!=typeof n?n[z]:n.charCodeAt(0)||0;null==r&&(r=n[z]=Kt++);var i=255&r,o=1<<i,s=64&i,a=32&i,u=t.data;128&i?s?a?u[e+7]|=o:u[e+6]|=o:a?u[e+5]|=o:u[e+4]|=o:s?a?u[e+3]|=o:u[e+2]|=o:a?u[e+1]|=o:u[e]|=o}(e,t,n)}function tn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[z];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){gt(t,e);try{var s=o();if(null!=s||r&p.Optional)return s;throw new Error("No provider for ".concat(Qt(n),"!"))}finally{wt()}}else if("number"==typeof o){if(-1===o)return new cn(e,t);var a=null,u=Xt(e,t),c=-1,l=r&p.Host?t[16][6]:null;for((-1===u||r&p.SkipSelf)&&(c=-1===u?$t(e,t):t[u+8],un(r,!1)?(a=t[1],u=Vt(c),t=qt(c,t)):u=-1);-1!==u;){c=t[u+8];var h=t[1];if(an(o,u,h.data)){var f=rn(u,t,n,a,r,l);if(f!==nn)return f}un(r,t[1].data[u+8]===l)&&an(o,u,t)?(a=h,u=Vt(c),t=qt(c,t)):u=-1}}}if(r&p.Optional&&void 0===i&&(i=null),0==(r&(p.Self|p.Host))){var d=t[9],v=$(void 0);try{return d?d.get(n,i,r&p.Optional):ne(n,i,r&p.Optional)}finally{$(v)}}if(r&p.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Qt(n),"]"))}var nn={};function rn(e,t,n,r,i,o){var s=t[1],a=s.data[e+8],u=on(a,s,n,null==r?Ne(a)&&Gt:r!=s&&3===a.type,i&p.Host&&o===a);return null!==u?sn(t,s,u,a):nn}function on(e,t,n,r,i){for(var o=e.providerIndexes,s=t.data,a=65535&o,u=e.directiveStart,c=o>>16,l=i?a+c:e.directiveEnd,h=r?a:a+c;h<l;h++){var f=s[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=s[u];if(d&&De(d)&&d.type===n)return u}return null}function sn(e,t,n,r){var i=e[n],o=t.data;if(i instanceof Nt){var s=i;if(s.resolving)throw new Error("Circular dep for "+Qt(o[n]));var a,u=Yt(s.canSeeViewProviders);s.resolving=!0,s.injectImpl&&(a=$(s.injectImpl)),gt(e,r);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.onChanges,i=t.onInit,o=t.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{s.injectImpl&&$(a),Yt(u),s.resolving=!1,wt()}}return i}function an(e,t,n){var r=64&e,i=32&e;return!!((128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function un(e,t){return!(e&p.Self||e&p.Host&&t)}var cn=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return tn(this._tNode,this._lView,e,void 0,t)}}]),e}();function ln(e){var t=e;if(j(e))return function(){var e=ln(I(t));return e?e():null};var n=Pe(t);if(null===n){var r=C(t);n=r&&r.factory}return n||null}function hn(e){return u((function(){for(var t=e.prototype.constructor,n=t[Q]||ln(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var o=i[Q]||ln(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(e){return new e}}))}function fn(e){return e.ngDebugContext}function dn(e){return e.ngOriginalError}function pn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var vn=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||pn}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?fn(e)?fn(e):this._findContext(dn(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=dn(e);t&&dn(t);)t=dn(t);return t}}]),e}(),yn=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),e}(),gn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(yn),mn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(yn),_n=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(yn),bn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(yn),Cn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(yn);function wn(e){return e instanceof yn?e.changingThisBreaksApplicationSecurity:e}function kn(e,t){var n=On(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===t}function On(e){return e instanceof yn&&e.getTypeName()||null}function Sn(e){return new gn(e)}function En(e){return new mn(e)}function Tn(e){return new _n(e)}function Pn(e){return new bn(e)}function An(e){return new Cn(e)}var xn=!0,In=!1;function jn(){return In=!0,xn}function Nn(){if(In)throw new Error("Cannot enable prod mode after platform setup.");xn=!1}var Rn=function(){function e(t){_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;var n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),Dn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Fn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Mn(e){return(e=String(e)).match(Dn)||e.match(Fn)?e:(jn()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function Ln(e){var t,n={},r=_createForOfIteratorHelper(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Un(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];for(var a in s)s.hasOwnProperty(a)&&(e[a]=!0)}return e}var Vn,Hn=Ln("area,br,col,hr,img,wbr"),qn=Ln("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bn=Ln("rp,rt"),Qn=Un(Bn,qn),zn=Un(Hn,Un(qn,Ln("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Un(Bn,Ln("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qn),Wn=Ln("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gn=Ln("srcset"),Yn=Un(Wn,Gn,Ln("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ln("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Kn=Ln("script,style,template"),Zn=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!zn.hasOwnProperty(t))return this.sanitizedSomething=!0,!Kn.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,r=e.attributes,i=0;i<r.length;i++){var o=r.item(i),s=o.name,a=s.toLowerCase();if(Yn.hasOwnProperty(a)){var u=o.value;Wn[a]&&(u=Mn(u)),Gn[a]&&(n=u,u=(n=String(n)).split(",").map((function(e){return Mn(e.trim())})).join(", ")),this.buf.push(" ",s,'="',$n(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();zn.hasOwnProperty(t)&&!Hn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push($n(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}]),e}(),Jn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xn=/([^\#-~ |!])/g;function $n(e){return e.replace(/&/g,"&amp;").replace(Jn,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Xn,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function er(e,t){var n=null;try{Vn=Vn||new Rn(e);var r=t?String(t):"";n=Vn.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Vn.getInertBodyElement(r)}while(r!==o);var s=new Zn,a=s.sanitizeChildren(tr(n)||n);return jn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n)for(var u=tr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function tr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var nr=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),rr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ir=/^url\(([^)]+)\)$/;function or(e){if(!(e=String(e).trim()))return"";var t=e.match(ir);return t&&Mn(t[1])===t[1]||e.match(rr)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(jn()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}function sr(e){var t=ur();return t?t.sanitize(nr.HTML,e)||"":kn(e,"HTML")?wn(e):er(Ue(),Bt(e))}function ar(e){var t=ur();return t?t.sanitize(nr.URL,e)||"":kn(e,"URL")?wn(e):Mn(Bt(e))}function ur(){var e=tt();return e&&e[12]}function cr(e,t){e.__ngContext__=t}function lr(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function hr(){throw new Error("Cannot mix multi providers and regular providers")}function fr(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function dr(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==fr((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function pr(e){return 0===e.type&&"ng-template"!==e.tagName}function vr(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function yr(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(Dt(e[t]))return t;return e.length}(i),s=!1,a=0;a<t.length;a++){var u=t[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!vr(e,u,n)||""===u&&1===t.length){if(gr(r))return!1;s=!0}}else{var c=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!dr(e.attrs,c,n)){if(gr(r))return!1;s=!0}continue}var l=mr(8&r?"class":u,i,pr(e),n);if(-1===l){if(gr(r))return!1;s=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==fr(f,c,0)||2&r&&c!==h){if(gr(r))return!1;s=!0}}}}else{if(!s&&!gr(r)&&!gr(u))return!1;if(s&&gr(u))continue;s=!1,r=u|1&r}}return gr(r)||s}function gr(e){return 0==(1&e)}function mr(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var a=t[++i];"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function _r(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(yr(e,t[r],n))return!0;return!1}function br(e,t){return e?":not("+t.trim()+")":t}function Cr(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var s=e[n];if("string"==typeof s)if(2&r){var a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||gr(s)||(t+=br(o,i),i=""),r=s,o=o||!gr(r);n++}return""!==i&&(t+=br(o,i)),t}var wr={};function kr(e){var t=e[3];return Ie(t)?t[3]:t}function Or(e){return Er(e[13])}function Sr(e){return Er(e[4])}function Er(e){for(;null!==e&&!Ie(e);)e=e[4];return e}function Tr(e){Pr(nt(),tt(),Ot()+e,ut())}function Pr(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&Pt(t,i,n)}else{var o=e.preOrderHooks;null!==o&&At(t,o,0,n)}St(n)}function Ar(e,t){return e<<17|t<<2}function xr(e){return e>>17&32767}function Ir(e){return 2|e}function jr(e){return(131068&e)>>2}function Nr(e,t){return-131069&e|t<<2}function Rr(e){return 1|e}function Dr(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var s=e.data[o];yt(i),s.contentQueries(2,t[o],o)}}}function Fr(e,t,n){return Ve(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Mr(e,t,n,r,i,o,s,a,u,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,Je(l),l[3]=l[15]=e,l[8]=n,l[10]=s||e&&e[10],l[11]=a||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function Lr(e,t,n,r,i,o){var s=n+20,a=e.data[s]||function(e,t,n,r,i,o){var s=it(),a=st(),u=a?s:s&&s.parent,c=e.data[n]=Yr(0,u&&u!==t?u:null,r,n,i,o);return null===e.firstChild&&(e.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(e,t,s,r,i,o);return ot(a,!0),a}function Ur(e,t,n){mt(t,t[6]);try{var r=e.viewQuery;null!==r&&yi(1,r,n);var i=e.template;null!==i&&qr(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Dr(e,t),e.staticViewQueries&&yi(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)hi(e,t[n])}(t,o)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),s}finally{t[2]&=-5,kt()}}function Vr(e,t,n,r){var i=t[2];if(256!=(256&i)){mt(t,t[6]);var o=ut();try{Je(t),$e.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&qr(e,t,n,2,r);var s=3==(3&i);if(!o)if(s){var a=e.preOrderCheckHooks;null!==a&&Pt(t,a,null)}else{var u=e.preOrderHooks;null!==u&&At(t,u,0,null),xt(t,0)}if(function(e){for(var t=Or(e);null!==t;t=Sr(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Xe(o,1),i[2]|=1024}}(t),function(e){for(var t=Or(e);null!==t;t=Sr(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];Ke(r)&&Vr(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Dr(e,t),!o)if(s){var c=e.contentCheckHooks;null!==c&&Pt(t,c)}else{var l=e.contentHooks;null!==l&&At(t,l,1),xt(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var r=e.expandoStartIndex,i=-1,o=0;o<n.length;o++){var s=n[o];"number"==typeof s?s<=0?(St(0-s),i=r+=9+n[++o]):r+=s:(null!==s&&(ft(r,i),s(2,t[i])),i++)}}finally{St(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)li(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&yi(2,f,r),!o)if(s){var d=e.viewCheckHooks;null!==d&&Pt(t,d)}else{var p=e.viewHooks;null!==p&&At(t,p,2),xt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Xe(t[3],-1))}finally{kt()}}}function Hr(e,t,n,r){var i=t[10],o=!ut(),s=Ye(t);try{o&&!s&&i.begin&&i.begin(),s&&Ur(e,t,r),Vr(e,t,n,r)}finally{o&&!s&&i.end&&i.end()}}function qr(e,t,n,r,i){var o=Ot();try{St(-1),2&r&&t.length>20&&Pr(e,t,0,ut()),n(r,i)}finally{St(o)}}function Br(e,t,n){if(je(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Qr(e,t,n){et()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Zt(n,t),cr(r,t);for(var s=n.initialInputs,a=i;a<o;a++){var u=e.data[a],c=De(u);c&&si(t,n,u);var l=sn(t,e,a,n);cr(l,t),null!==s&&ai(0,a-i,l,u,0,s),c&&(We(n.index,t)[8]=l)}}(e,t,n,Qe(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=e.expandoInstructions,s=e.firstCreatePass,a=n.index-20,u=$e.lFrame.currentDirectiveIndex;try{St(a);for(var c=r;c<i;c++){var l=e.data[c],h=t[c];dt(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?ei(l,h):s&&o.push(null)}}finally{St(-1),dt(u)}}(e,t,n))}function zr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qe,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}function Wr(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Gr(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Gr(e,t,n,r,i,o,s,a,u,c){var l=20+r,h=l+i,f=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:wr);return n}(l,h);return f[1]={type:e,id:t,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function Yr(e,t,n,r,i,o){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Kr(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Zr(e,t,n,r,i,o,s,a){var u,c,l=Qe(t,n),h=t.inputs;!a&&null!=h&&(u=h[r])?(Ci(e,n,u,r,i),Ne(t)&&function(e,t){var n=We(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=s?s(i,t.tagName||"",r):i,Ve(o)?o.setProperty(l,r,i):Ft(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Jr(e,t,n,r){var i=!1;if(et()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var s=r[o];_r(n,s.selectors,!1)&&(i||(i=[]),en(Zt(n,t),e,s.type),De(s)?(2&n.flags&&lr(n),ni(e,n),i.unshift(s)):i.push(s))}return i}(e,t,n),s=null===r?null:{"":-1};if(null!==o){var a=0;i=!0,ii(n,e.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}ti(e,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Mt(n.mergedAttrs,d.hostAttrs),oi(e,t,d),ri(e.data.length-1,d,s),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),l=!0),h||!d.onChanges&&!d.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),h=!0),Xr(e,d),a+=d.hostVars}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],s=null,a=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||pr(t)?null:ui(l,i);o.push(h),s=Kr(l,u,s),a=Kr(c.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=a}(e,n),$r(e,t,a)}s&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new Error("Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,s)}return n.mergedAttrs=Mt(n.mergedAttrs,n.attrs),i}function Xr(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function $r(e,t,n){for(var r=0;r<n;r++)t.push(wr),e.blueprint.push(wr),e.data.push(null)}function ei(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ti(e,t,n){var r=20-t.index,i=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function ni(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function ri(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;De(t)&&(n[""]=e)}}function ii(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function oi(e,t,n){e.data.push(n);var r=n.factory||(n.factory=Pe(n.type)),i=new Nt(r,De(n),null);e.blueprint.push(i),t.push(i)}function si(e,t,n){var r=Qe(t,e),i=Wr(n),o=e[10],s=fi(e,Mr(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n)));e[t.index]=s}function ai(e,t,n,r,i,o){var s=o[t];if(null!==s)for(var a=r.setInput,u=0;u<s.length;){var c=s[u++],l=s[u++],h=s[u++];null!==a?r.setInput(n,h,c,l):n[l]=h}}function ui(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function ci(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function li(e,t){var n=We(t,e);if(Ke(n)){var r=n[1];80&n[2]?Vr(r,n,r.template,n[8]):n[5]>0&&function e(t){for(var n=Or(t);null!==n;n=Sr(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Vr(o,i,o.template,i[8])}else i[5]>0&&e(i)}var s=t[1].components;if(null!==s)for(var a=0;a<s.length;a++){var u=We(s[a],t);Ke(u)&&u[5]>0&&e(u)}}(n)}}function hi(e,t){var n=We(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Ur(r,n,n[8])}function fi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function di(e){for(;e;){e[2]|=64;var t=kr(e);if(Fe(e)&&!t)return e;e=t}return null}function pi(e,t,n){var r=t[10];r.begin&&r.begin();try{Vr(e,t,e.template,n)}catch(i){throw bi(t,i),i}finally{r.end&&r.end()}}function vi(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=Ge(n),i=r[1];Hr(i,r,i.template,n)}}(e[8])}function yi(e,t,n){yt(0),t(e,n)}var gi=Promise.resolve(null);function mi(e){return e[7]||(e[7]=[])}function _i(e){return e.cleanup||(e.cleanup=[])}function bi(e,t){var n=e[9],r=n?n.get(vn,null):null;r&&r.handleError(t)}function Ci(e,t,n,r,i){for(var o=0;o<n.length;){var s=n[o++],a=n[o++],u=t[s],c=e.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function wi(e,t,n){var r=Be(t,e),i=e[11];Ve(i)?i.setValue(r,n):r.textContent=n}function ki(e,t){var n=t[3];return-1===e.index?Ie(n)?n:null:n}function Oi(e,t){var n=ki(e,t);return n?Di(t[11],n[7]):null}function Si(e,t,n,r,i){if(null!=r){var o,s=!1;Ie(r)?o=r:xe(r)&&(s=!0,r=r[0]);var a=qe(r);0===e&&null!==n?null==i?Ni(t,n,a):ji(t,n,a,i||null):1===e&&null!==n?ji(t,n,a,i||null):2===e?function(e,t,n){var r=Di(e,t);r&&function(e,t,n,r){Ve(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,r,i){var o=n[7];o!==qe(n)&&Si(t,e,r,o,i);for(var s=10;s<n.length;s++){var a=n[s];Ui(a[1],a,e,t,r,o)}}(t,e,o,n,i)}}function Ei(e,t,n,r){var i=Oi(e.node,t);i&&Ui(e,t,t[11],n?1:2,i,r)}function Ti(e,t){var n=e[9],r=n.indexOf(t);1024&t[2]&&Xe(t[3],-1),n.splice(r,1)}function Pi(e,t){if(!(e.length<=10)){var n=10+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&Ti(i,r),t>0&&(e[n-1][4]=r[4]);var o=ce(e,10+t);Ei(r[1],r,!1,null);var s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Ai(e,t){if(!(256&t[2])){var n=t[11];Ve(n)&&n.destroyNode&&Ui(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Ii(e[1],e);for(;t;){var n=null;if(xe(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)xe(t)&&Ii(t[1],t),t=xi(t,e);null===t&&(t=e),xe(t)&&Ii(t[1],t),n=t&&t[4]}t=n}}(t)}}function xi(e,t){var n;return xe(e)&&(n=e[6])&&2===n.type?ki(n,e):e[3]===t?null:e[3]}function Ii(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof Nt)){var o=n[r+1];if(Array.isArray(o))for(var s=0;s<o.length;s+=2)o[s+1].call(i[o[s]]);else o.call(i)}}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var r=t[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],s="function"==typeof o?o(t):qe(t[o]),a=r[n[i+2]],u=n[i+3];"boolean"==typeof u?s.removeEventListener(n[i],a,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&Ve(t[11])&&t[11].destroy();var r=t[17];if(null!==r&&Ie(t[3])){r!==t[3]&&Ti(r,t);var i=t[19];null!==i&&i.detachView(e)}}}function ji(e,t,n,r){Ve(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function Ni(e,t,n){Ve(e)?e.appendChild(t,n):t.appendChild(n)}function Ri(e,t,n,r){null!==r?ji(e,t,n,r):Ni(e,t,n)}function Di(e,t){return Ve(e)?e.parentNode(t):t.parentNode}function Fi(e,t,n,r){var i=function(e,t,n){for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){var i=n[6];return 2===i.type?Oi(i,n):n[0]}if(t&&5===t.type&&4&t.flags)return Qe(t,n).parentNode;if(2&r.flags){var o=e.data,s=o[o[r.index].directiveStart].encapsulation;if(s!==pe.ShadowDom&&s!==pe.Native)return null}return Qe(r,n)}(e,r,t);if(null!=i){var o=t[11],s=function(e,t){if(2===e.type){var n=ki(e,t);return null===n?null:Mi(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?Qe(e,t):null}(r.parent||t[6],t);if(Array.isArray(n))for(var a=0;a<n.length;a++)Ri(o,i,n[a],s);else Ri(o,i,n,s)}}function Mi(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){var r=n.type;if(3===r)return Qe(n,t);if(0===r)return Mi(-1,t[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return e(t,i);var o=t[n.index];return Ie(o)?Mi(-1,o):qe(o)}var s=t[16],a=s[6],u=kr(s),c=a.projection[n.projection];return null!=c?e(u,c):e(t,n.next)}return null}(r,i)}return t[7]}function Li(e,t,n,r,i,o,s){for(;null!=n;){var a=r[n.index],u=n.type;s&&0===t&&(a&&cr(qe(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Li(e,t,n.child,r,i,o,!1),Si(t,e,i,a,o)):1===u?Vi(e,t,r,n,i,o):Si(t,e,i,a,o)),n=s?n.projectionNext:n.next}}function Ui(e,t,n,r,i,o){Li(n,r,e.node.child,t,i,o,!1)}function Vi(e,t,n,r,i,o){var s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(var u=0;u<a.length;u++)Si(t,e,i,a[u],o);else Li(e,t,a,s[3],i,o,!0)}function Hi(e,t,n){Ve(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function qi(e,t,n){Ve(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var Bi,Qi,zi,Wi=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(e,[{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var s=n[r.index];if(null!==s&&i.push(qe(s)),Ie(s))for(var a=10;a<s.length;a++){var u=s[a],c=u[1].firstChild;null!==c&&e(u[1],u,c,i)}var l=r.type;if(4===l||5===l)e(t,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var d=kr(h);e(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Ai(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,r;t=this._lView[1],r=e,mi(n=this._lView).push(r),t.firstCreatePass&&_i(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){di(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){pi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){ct(!0);try{pi(e,t,n)}finally{ct(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Ui(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),Gi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._view=e,r}return _createClass(n,[{key:"detectChanges",value:function(){vi(this._view)}},{key:"checkNoChanges",value:function(){!function(e){ct(!0);try{vi(e)}finally{ct(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Wi);function Yi(e,t,n){return Bi||(Bi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e)),new Bi(Qe(t,n))}function Ki(e,t,n,r){return Qi||(Qi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._declarationView=e,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Mr(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Ur(t,n,e),new Wi(n)}}]),n}(e)),0===n.type?new Qi(r,n,Yi(t,n,r)):null}function Zi(e,t,n,r){var i;zi||(zi=function(e){_inherits(r,e);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=e,o._hostTNode=t,o._hostView=i,o}return _createClass(r,[{key:"element",get:function(){return Yi(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new cn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=$t(this._hostTNode,this._hostView),t=qt(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=Ht(e),s=t,a=t[6];o>1;)a=(s=s[15])[6],o--;return a}(e,this._hostView,this._hostTNode);return Ut(e)&&null!=n?new cn(n,t):new cn(null,this._hostView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var s=o.get(oe,null);s&&(i=s)}var a=e.create(o,r,void 0,i);return this.insert(a.hostView,t),a}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ie(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=n[3],s=new zi(o,o[6],o[3]);s.detach(s.indexOf(e))}}var a=this._adjustIndex(t);return function(e,t,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],ue(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var s=t[17];null!==s&&n!==s&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);var a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,this._lContainer,a),Ei(r,n,!0,Mi(a,this._lContainer)),e.attachToViewContainerRef(this),ue(this._lContainer[8],a,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);!function(e,t){var n=Pi(e,t);n&&Ai(n[1],n)}(this._lContainer,t),ce(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=Pi(this._lContainer,t);return n&&null!=ce(this._lContainer[8],t)?new Wi(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}}]),r}(e));var o=r[n.index];if(Ie(o))i=o;else{var s;if(4===n.type)s=qe(o);else if(s=r[11].createComment(""),Fe(r)){var a=r[11],u=Qe(n,r);ji(a,Di(a,u),s,function(e,t){return Ve(e)?e.nextSibling(t):t.nextSibling}(a,u))}else Fi(r[1],r,s,n);r[n.index]=i=ci(o,r,s,n),fi(r,i)}return new zi(i,n,r)}function Ji(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&Ne(e)){var r=We(e.index,t);return new Wi(r,r)}return 3===e.type||0===e.type||4===e.type||5===e.type?new Wi(t[16],t):null}(it(),tt(),e)}var Xi=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return $i()},e}(),$i=Ji,eo=new W("Set Injector scope."),to={},no={},ro=[],io=void 0;function oo(){return void 0===io&&(io=new ie),io}function so(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new ao(e,n,t||oo(),r)}var ao=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&ae(n,(function(e){return i.processProvider(e,t,n)})),ae([t],(function(e){return i.processInjectorType(e,[],s)})),this.records.set(G,lo(void 0,this));var a=this.records.get(eo);this.scope=null!=a?a.value:null,this.source=o||("object"==typeof t?null:T(t))}return _createClass(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.Default;this.assertNotDestroyed();var r,i=X(this);try{if(!(n&p.SkipSelf)){var o=this.records.get(e);if(void 0===o){var s=("function"==typeof(r=e)||"object"==typeof r&&r instanceof W)&&_(e);o=s&&this.injectableDefInScope(s)?lo(uo(e),to):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&p.Self?oo():this.parent).get(e,t=n&p.Optional&&t===Y?null:t)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(T(e)),i)throw a;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=T(t);if(Array.isArray(t))i=t.map(T).join(" -> ");else if("object"==typeof t){var o=[];for(var s in t)if(t.hasOwnProperty(s)){var a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):T(a)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(K,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(a,e,0,this.source)}throw a}finally{X(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(T(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=I(e)))return!1;var i=C(e),o=null==i&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==n.indexOf(s);if(void 0!==o&&(i=C(o)),null==i)return!1;if(null!=i.imports&&!a){var u;n.push(s);try{ae(i.imports,(function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))}))}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,i=t.providers;ae(i,(function(e){return r.processProvider(e,n,i||ro)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(s),this.records.set(s,lo(i.factory,to));var h=i.providers;if(null!=h&&!a){var f=e;ae(h,(function(e){return r.processProvider(e,f,h)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=fo(e=I(e))?e:I(e&&e.provide),i=function(e,t,n){return ho(e)?lo(void 0,e.useValue):lo(co(e,t,n),to)}(e,t,n);if(fo(e)||!0!==e.multi){var o=this.records.get(r);o&&void 0!==o.multi&&hr()}else{var s=this.records.get(r);s?void 0===s.multi&&hr():((s=lo(void 0,to,!0)).factory=function(){return re(s.multi)},this.records.set(r,s)),r=e,s.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===no?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(T(e)):t.value===to&&(t.value=no,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}]),e}();function uo(e){var t=_(e),n=null!==t?t.factory:Pe(e);if(null!==n)return n;var r=C(e);if(null!==r)return r.factory;if(e instanceof W)throw new Error("Token ".concat(T(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=function(e,t){for(var n=[],r=0;r<e;r++)n.push("?");return n}(t);throw new Error("Can't resolve all parameters for ".concat(T(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[w]||e[S]||e[O]&&e[O]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function co(e,t,n){var r,i=void 0;if(fo(e)){var o=I(e);return Pe(o)||uo(o)}if(ho(e))i=function(){return I(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,_toConsumableArray(re(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return te(I(e.useExisting))};else{var s=I(e&&(e.useClass||e.provide));if(s||function(e,t,n){var r="";throw e&&t&&(r=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(T(e),"'")+r)}(t,n,e),!function(e){return!!e.deps}(e))return Pe(s)||uo(s);i=function(){return _construct(s,_toConsumableArray(re(e.deps)))}}return i}function lo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function ho(e){return null!==e&&"object"==typeof e&&Z in e}function fo(e){return"function"==typeof e}var po=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=so(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},vo=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?po(e,t,""):po(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=Y,e.NULL=new ie,e.\u0275prov=g({token:e,providedIn:"any",factory:function(){return te(G)}}),e.__NG_ELEMENT_ID__=-1,e}(),yo=new W("AnalyzeForEntryComponents"),go=new Map,mo=new Set;function _o(e){return"string"==typeof e?e:e.text()}function bo(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var s=0;s<t.length;s++){var a=t[s];"number"==typeof a?o=a:1==o?i=P(i,a):2==o&&(r=P(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Co=null;function wo(){if(!Co){var e=L.Symbol;if(e&&e.iterator)Co=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Co=r)}}return Co}function ko(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}var Oo=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function So(e){return!!Eo(e)&&(Array.isArray(e)||!(e instanceof Map)&&wo()in e)}function Eo(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function To(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Po(e,t,n,r){var i=tt();return To(i,lt(),t)&&(nt(),function(e,t,n,r,i,o){var s=Qe(e,t),a=t[11];if(null==r)Ve(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{var u=null==i?Bt(r):i(r,e.tagName||"",n);Ve(a)?a.setAttribute(s,n,u,o):o?s.setAttributeNS(o,n,u):s.setAttribute(n,u)}}(Et(),i,e,t,n,r)),Po}function Ao(e,t,n,r,i,o,s,a){var u=tt(),c=nt(),l=e+20,h=c.firstCreatePass?function(e,t,n,r,i,o,s,a,u){var c=t.consts,l=Lr(t,n[6],e,0,s||null,Ze(c,a));Jr(t,n,l,Ze(c,u)),Tt(t,l);var h=l.tViews=Gr(2,-1,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),f=Yr(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(e,c,u,t,n,r,i,o,s):c.data[l];ot(h,!1);var f=u[11].createComment("");Fi(c,u,f,h),cr(f,u),fi(u,u[l]=ci(f,u,f,h)),Re(h)&&Qr(c,u,h),null!=s&&zr(u,h,a)}function xo(e){return function(e,t){return e[t+20]}($e.lFrame.contextLView,e)}function Io(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Default,n=tt();return null==n?te(e,t):tn(it(),n,I(e),t)}function jo(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Dt(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(it(),e)}function No(){throw new Error("invalid")}function Ro(e,t,n){var r=tt();return To(r,lt(),t)&&Zr(nt(),Et(),r,e,t,r[11],n,!1),Ro}function Do(e,t,n,r,i){var o=i?"class":"style";Ci(e,n,t.inputs[o],o,r)}function Fo(e,t,n,r){var i=tt(),o=nt(),s=20+e,a=i[11],u=i[s]=Fr(t,a,$e.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,s){var a=t.consts,u=Ze(a,o),c=Lr(t,n[6],e,3,i,u);return Jr(t,n,c,Ze(a,s)),null!==c.attrs&&bo(c,c.attrs,!1),null!==c.mergedAttrs&&bo(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(e,o,i,0,t,n,r):o.data[s];ot(c,!0);var l=c.mergedAttrs;null!==l&&Rt(a,u,l);var h=c.classes;null!==h&&qi(a,u,h);var f=c.styles;null!==f&&Hi(a,u,f),Fi(o,i,u,c),0===$e.lFrame.elementDepthCount&&cr(u,i),$e.lFrame.elementDepthCount++,Re(c)&&(Qr(o,i,c),Br(o,c,i)),null!==r&&zr(i,c)}function Mo(){var e=it();st()?at():ot(e=e.parent,!1);var t=e;$e.lFrame.elementDepthCount--;var n=nt();n.firstCreatePass&&(Tt(n,e),je(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Do(n,t,tt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Do(n,t,tt(),t.stylesWithoutHost,!1)}function Lo(e,t,n,r){Fo(e,t,n,r),Mo()}function Uo(e,t,n){var r=tt(),i=nt(),o=e+20,s=i.firstCreatePass?function(e,t,n,r,i){var o=t.consts,s=Ze(o,r),a=Lr(t,n[6],e,4,"ng-container",s);return null!==s&&bo(a,s,!0),Jr(t,n,a,Ze(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(e,i,r,t,n):i.data[o];ot(s,!0);var a=r[o]=r[11].createComment("");Fi(i,r,a,s),cr(a,r),Re(s)&&(Qr(i,r,s),Br(i,s,r)),null!=n&&zr(r,s)}function Vo(){var e=it(),t=nt();st()?at():ot(e=e.parent,!1),t.firstCreatePass&&(Tt(t,e),je(e)&&t.queries.elementEnd(e))}function Ho(){return tt()}function qo(e){return!!e&&"function"==typeof e.then}function Bo(e){return!!e&&"function"==typeof e.subscribe}function Qo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=tt(),o=nt(),s=it();return function(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7?arguments[7]:void 0,u=Re(r),c=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),l=mi(t),h=!0;if(3===r.type){var f=Qe(r,t),d=a?a(f):ve,p=d.target||f,v=l.length,y=a?function(e){return a(qe(e[r.index])).target}:r.index;if(Ve(n)){var g=null;if(!a&&u&&(g=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var s=i[o];if(s===n&&i[o+1]===r){var a=t[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=Wo(r,t,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=Wo(r,t,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,y,v,s)}var _,b=r.outputs;if(h&&null!==b&&(_=b[i])){var C=_.length;if(C)for(var w=0;w<C;w+=2){var k=t[_[w]][_[w+1]].subscribe(o),O=l.length;l.push(o,k),c&&c.push(i,r.index,O,-(O+1))}}}(o,i,i[11],s,e,t,n,r),Qo}function zo(e,t,n){try{return!1!==t(n)}catch(r){return bi(e,r),!1}}function Wo(e,t,n,r){return function i(o){if(o===Function)return n;var s=2&e.flags?We(e.index,t):t;0==(32&t[2])&&di(s);for(var a=zo(t,n,o),u=i.__ngNextListenerFn__;u;)a=zo(t,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Go(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return($e.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,$e.lFrame.contextLView))[8]}(e)}var Yo=[];function Ko(e,t,n,r,i){for(var o=e[n+1],s=null===t,a=r?xr(o):jr(o),u=!1;0!==a&&(!1===u||s);){var c=e[a+1];Zo(e[a],t)&&(u=!0,e[a+1]=r?Rr(c):Ir(c)),a=r?xr(c):jr(c)}u&&(e[n+1]=r?Ir(o):Rr(o))}function Zo(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&fe(e,t)>=0}var Jo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Xo(e){return e.substring(Jo.key,Jo.keyEnd)}function $o(e,t){var n=Jo.textEnd;return n===t?-1:(t=Jo.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Jo.key=t,n),es(e,t,n))}function es(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function ts(e,t,n){return os(e,t,n,!1),ts}function ns(e,t){return os(e,t,null,!0),ns}function rs(e){!function(e,t,n,r){var i=nt(),o=ht(2);i.firstUpdatePass&&as(i,null,o,!0);var s=tt();if(n!==wr&&To(s,o,n)){var a=i.data[Ot()+20];if(ds(a,!0)&&!ss(i,o)){var u=a.classesWithoutHost;null!==u&&(n=P(u,n||"")),Do(i,a,s,n,!0)}else!function(e,t,n,r,i,o,s,a){i===wr&&(i=Yo);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,v=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,v=d),null!==p&&ls(e,t,n,r,p,v,!0,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(e,t,n){if(null==n||""===n)return Yo;var r=[],i=wn(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(var s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),0,o)}}(le,is,e)}function is(e,t){for(var n=function(e){return function(e){Jo.key=0,Jo.keyEnd=0,Jo.value=0,Jo.valueEnd=0,Jo.textEnd=e.length}(e),$o(e,es(e,0,Jo.textEnd))}(t);n>=0;n=$o(t,n))le(e,Xo(t),!0)}function os(e,t,n,r){var i,o,s=tt(),a=nt(),u=ht(2);(a.firstUpdatePass&&as(a,e,u,r),t!==wr&&To(s,u,t))&&(null==n&&(i=null===(o=$e.lFrame)?null:o.currentSanitizer)&&(n=i),ls(a,a.data[Ot()+20],s,s[11],e,s[u+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=T(wn(e)))),e}(t,n),r,u))}function ss(e,t){return t>=e.expandoStartIndex}function as(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[Ot()+20],s=ss(e,n);ds(o,r)&&null===t&&!s&&(t=!1),t=function(e,t,n,r){var i=pt(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=cs(n=us(null,e,t,n,r),t.attrs,r),o=null);else{var s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=us(i,e,t,n,r),null===o){var a=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==jr(r))return e[xr(r)]}(e,t,r);void 0!==a&&Array.isArray(a)&&function(e,t,n,r){e[xr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,a=cs(a=us(null,e,t,a[1],r),t.attrs,r))}else o=function(e,t,n){for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=cs(r,e[o].hostAttrs,n);return cs(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var s=o?t.classBindings:t.styleBindings,a=xr(s),u=jr(s);e[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||fe(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=xr(e[a+1]);e[r+1]=Ar(f,a),0!==f&&(e[f+1]=Nr(e[f+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=Ar(a,0),0!==a&&(e[a+1]=Nr(e[a+1],r)),a=r;else e[r+1]=Ar(u,0),0===a?a=r:e[u+1]=Nr(e[u+1],r),u=r;l&&(e[r+1]=Ir(e[r+1])),Ko(e,c,r,!0),Ko(e,c,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&fe(o,t)>=0&&(n[r+1]=Rr(n[r+1]))}(t,c,e,r,o),s=Ar(a,u),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function us(e,t,n,r,i){var o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(r=cs(r,(o=t[a]).hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function cs(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),le(e,s,!!n||t[++o]))}return void 0===e?null:e}function ls(e,t,n,r,i,o,s,a){if(3===t.type){var u=e.data,c=u[a+1];fs(1==(1&c)?hs(u,t,n,i,jr(c),s):void 0)||(fs(o)||2==(2&c)&&(o=hs(u,null,n,i,a,s)),function(e,t,n,r,i){var o=Ve(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var s=-1==r.indexOf("-")?void 0:2;null==i?o?e.removeStyle(n,r,s):n.style.removeProperty(r):o?e.setStyle(n,r,i,s):n.style.setProperty(r,i)}}(r,s,Be(Ot(),n),i,o))}}function hs(e,t,n,r,i,o){for(var s=null===t,a=void 0;i>0;){var u=e[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===wr&&(f=h?Yo:void 0);var d=h?he(f,r):l===r?f:void 0;if(c&&!fs(d)&&(d=he(u,r)),fs(d)&&(a=d,s))return a;var p=e[i+1];i=s?xr(p):jr(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(a=he(v,r))}return a}function fs(e){return void 0!==e}function ds(e,t){return 0!=(e.flags&(t?16:32))}function ps(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=tt(),r=nt(),i=e+20,o=r.firstCreatePass?Lr(r,n[6],e,3,null,null):r.data[i],s=n[i]=function(e,t){return Ve(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);Fi(r,n,s,o),ot(o,!1)}function vs(e){return ys("",e,""),vs}function ys(e,t,n){var r=tt(),i=function(e,t,n,r){return To(e,lt(),n)?t+Bt(n)+r:wr}(r,e,t,n);return i!==wr&&wi(r,Ot(),i),ys}function gs(e,t,n,r,i){var o=tt(),s=function(e,t,n,r,i,o){var s=function(e,t,n,r){var i=To(e,t,n);return To(e,t+1,r)||i}(e,$e.lFrame.bindingIndex,n,i);return ht(2),s?t+Bt(n)+r+Bt(i)+o:wr}(o,e,t,n,r,i);return s!==wr&&wi(o,Ot(),s),gs}function ms(e,t,n){var r=tt();return To(r,lt(),t)&&Zr(nt(),Et(),r,e,t,r[11],n,!0),ms}function _s(e,t,n){var r=tt();if(To(r,lt(),t)){var i=nt(),o=Et();Zr(i,o,r,e,t,function(e,t,n){return(null===e||De(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}(pt(i.data),o,r),n,!0)}return _s}function bs(e,t){var n=Ge(e)[1],r=n.data.length-1;Tt(n,{directiveStart:r,directiveEnd:r+1})}function Cs(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,r=[e];t;){var i=void 0;if(De(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=ws(e.inputs),o.declaredInputs=ws(e.declaredInputs),o.outputs=ws(e.outputs);var s=i.hostBindings;s&&Ss(e,s);var a=i.viewQuery,u=i.contentQueries;if(a&&ks(e,a),u&&Os(e,u),y(e.inputs,i.inputs),y(e.declaredInputs,i.declaredInputs),y(e.outputs,i.outputs),De(i)&&i.data.animation){var c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=e.afterContentInit||i.afterContentInit,o.afterViewChecked=e.afterViewChecked||i.afterViewChecked,o.afterViewInit=e.afterViewInit||i.afterViewInit,o.doCheck=e.doCheck||i.doCheck,o.onDestroy=e.onDestroy||i.onDestroy,o.onInit=e.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(e),f===Cs&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Mt(i.hostAttrs,n=Mt(n,i.hostAttrs))}}(r)}function ws(e){return e===ve?{}:e===ye?[]:e}function ks(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function Os(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function Ss(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var Es=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Ts(e){e.type.prototype.ngOnChanges&&(e.setInput=Ps,e.onChanges=function(){var e=As(this),t=e&&e.current;if(t){var n=e.previous;if(n===ve)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}})}function Ps(e,t,n,r){var i=As(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:ve,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Es(u&&u.currentValue,t,s===ve),e[r]=t}function As(e){return e.__ngSimpleChanges__||null}function xs(e,t,n,r,i){if(e=I(e),Array.isArray(e))for(var o=0;o<e.length;o++)xs(e[o],t,n,r,i);else{var s=nt(),a=tt(),u=fo(e)?e:I(e.provide),c=co(e),l=it(),h=65535&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>16;if(fo(e)||!e.multi){var p=new Nt(c,i,Io),v=Ns(u,t,i?h:h+d,f);-1===v?(en(Zt(l,a),s,u),Is(s,e,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),a.push(p)):(n[v]=p,a[v]=p)}else{var y=Ns(u,t,h+d,f),g=Ns(u,t,h,h+d),m=y>=0&&n[y],_=g>=0&&n[g];if(i&&!_||!i&&!m){en(Zt(l,a),s,u);var b=function(e,t,n,r,i){var o=new Nt(e,n,Io);return o.multi=[],o.index=t,o.componentProviders=0,js(o,i,r&&!n),o}(i?Ds:Rs,n.length,i,r,c);!i&&_&&(n[g].providerFactory=b),Is(s,e,t.length,0),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(b),a.push(b)}else Is(s,e,y>-1?y:g,js(n[i?g:y],c,!i&&r));!i&&r&&_&&n[g].componentProviders++}}}function Is(e,t,n,r){var i=fo(t);if(i||t.useClass){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var s=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var a=s.indexOf(n);-1===a?s.push(n,[r,o]):s[a+1].push(r,o)}else s.push(n,o)}}}function js(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Ns(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function Rs(e,t,n,r){return Fs(this.multi,[])}function Ds(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=sn(n,n[1],this.providerFactory.index,r);Fs(o,i=a.slice(0,s));for(var u=s;u<a.length;u++)i.push(a[u])}else Fs(o,i=[]);return i}function Fs(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ms(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=nt();if(r.firstCreatePass){var i=De(e);xs(n,r.data,r.blueprint,i,!0),xs(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}Ts.ngInherit=!0;var Ls=function e(){_classCallCheck(this,e)},Us=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(T(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),Vs=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new Us,e}(),Hs=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return qs(e)},e}(),qs=function(e){return Yi(e,it(),tt())},Bs=function e(){_classCallCheck(this,e)},Qs=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),zs=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Ws()},e}(),Ws=function(){var e=tt(),t=We(it().index,e);return function(e){var t=e[11];if(Ve(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(xe(t)?t:e)},Gs=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=g({token:e,providedIn:"root",factory:function(){return null}}),e}(),Ys=function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},Ks=new Ys("9.1.13"),Zs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return So(e)}},{key:"create",value:function(e){return new Xs(e)}}]),e}(),Js=function(e,t){return t},Xs=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Js}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<na(n,r,i)?t:n,s=na(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,c=a-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}s!==a&&e(o,s,a)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!So(e))throw new Error("Error trying to diff '".concat(T(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(var a=0;a<this.length;a++)r=e[a],i=this._trackByFn(a,r),null!==o&&ko(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,a)),ko(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),s=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[wo()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&ko(o.trackById,i)?(s&&(o=t._verifyReinsertion(o,e,i,n)),ko(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),s=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(ko(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(ko(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new $s(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ta),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ta),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),$s=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},ea=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&ko(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),ta=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new ea,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function na(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var ra=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||Eo(e)}},{key:"create",value:function(){return new ia}}]),e}(),ia=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Eo(e)))throw new Error("Error trying to diff '".concat(T(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new oa(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){ko(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}}]),e}(),oa=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},sa=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new d,new h]]}}}]),e}();return e.\u0275prov=g({token:e,providedIn:"root",factory:function(){return new e([new Zs])}}),e}(),aa=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new d,new h]]}}}]),e}();return e.\u0275prov=g({token:e,providedIn:"root",factory:function(){return new e([new ra])}}),e}(),ua=[new ra],ca=new sa([new Zs]),la=new aa(ua),ha=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return fa(e,Hs)},e}(),fa=function(e,t){return Ki(e,t,it(),tt())},da=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return pa(e,Hs)},e}(),pa=function(e,t){return Zi(e,t,it(),tt())},va={},ya=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).ngModule=e,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=Te(e);return new _a(t,this.ngModule)}}]),n}(Vs);function ga(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var ma=new W("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return zt}}),_a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(Cr).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"inputs",get:function(){return ga(this.componentDef.inputs)}},{key:"outputs",get:function(){return ga(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,r){var i,o,s=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,va,i);return o!==va||r===va?o:t.get(n,r,i)}}}(e,r.injector):e,a=s.get(Bs,He),u=s.get(Gs,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(Ve(e))return e.selectRootElement(t,n===pe.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Fr(l,a.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:zt,clean:gi,playerHandler:null,flags:0},v=Gr(0,-1,null,1,0,null,null,null,null,null),y=Mr(null,v,p,f,null,null,a,c,u,s);mt(y,null);try{var g=function(e,t,n,r,i,o){var s=n[1];n[20]=e;var a=Lr(s,null,0,3,null,null),u=a.mergedAttrs=t.hostAttrs;null!==u&&(bo(a,u,!0),null!==e&&(Rt(i,e,u),null!==a.classes&&qi(i,e,a.classes),null!==a.styles&&Hi(i,e,a.styles)));var c=r.createRenderer(e,t),l=Mr(n,Wr(t),null,t.onPush?64:16,n[20],a,r,c,void 0);return s.firstCreatePass&&(en(Zt(a,n),s,t.type),ni(s,a),ii(a,n.length,1)),fi(n,l),n[20]=l}(h,this.componentDef,y,a,c);if(h)if(n)Rt(c,h,["ng-version",Ks.full]);else{var m=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!gr(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),_=m.attrs,b=m.classes;_&&Rt(c,h,_),b&&b.length>0&&qi(c,h,b.join(" "))}if(o=ze(v,0),void 0!==t)for(var C=o.projection=[],w=0;w<this.ngContentSelectors.length;w++){var k=t[w];C.push(null!=k?Array.from(k):null)}i=function(e,t,n,r,i){var o=n[1],s=function(e,t,n){var r=it();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ti(e,r,1),oi(e,t,n));var i=sn(t,e,t.length-1,r);cr(i,t);var o=Qe(r,t);return o&&cr(o,t),i}(o,n,t);r.components.push(s),e[8]=s,i&&i.forEach((function(e){return e(s,t)})),t.contentQueries&&t.contentQueries(1,s,n.length-1);var a=it();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){St(a.index-20);var u=n[1];Xr(u,t),$r(u,n,t.hostVars),ei(t,s)}return s}(g,this.componentDef,y,p,[bs]),Ur(v,y,null)}finally{kt()}var O=new ba(this.componentType,i,Yi(Hs,o,y),y,o);return n&&!d||(v.node.child=o),O}}]),n}(Ls),ba=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){var a,u,c,l;return _classCallCheck(this,n),(a=t.call(this)).location=i,a._rootLView=o,a._tNode=s,a.destroyCbs=[],a.instance=r,a.hostView=a.changeDetectorRef=new Gi(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=Yr(0,null,2,-1,null,null)),c[6]=l,a.componentType=e,a}return _createClass(n,[{key:"injector",get:function(){return new cn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),Ca=void 0,wa=["en",[["a","p"],["AM","PM"],Ca],[["AM","PM"],Ca,Ca],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ca,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ca,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ca,"{1} 'at' {0}",Ca],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],ka={};function Oa(e,t,n){"string"!=typeof t&&(n=t,t=e[Aa.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),ka[t]=e,n&&(ka[t][Aa.ExtraData]=n)}function Sa(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Pa(t);if(n)return n;var r=t.split("-")[0];if(n=Pa(r))return n;if("en"===r)return wa;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function Ea(e){return Sa(e)[Aa.CurrencyCode]||null}function Ta(e){return Sa(e)[Aa.PluralCase]}function Pa(e){return e in ka||(ka[e]=L.ng&&L.ng.common&&L.ng.common.locales&&L.ng.common.locales[e]),ka[e]}var Aa=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}();function xa(e){var t;null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var Ia=new Map,ja=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new ya(_assertThisInitialized(i));var o=Ae(e),s=e[B]||null;return s&&xa(s),i._bootstrapComponents=Wt(o.bootstrap),i._r3Injector=so(e,r,[{provide:oe,useValue:_assertThisInitialized(i)},{provide:Vs,useValue:i.componentFactoryResolver}],T(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.Default;return e===vo||e===oe||e===G?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(oe),Na=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).moduleType=e,null!==Ae(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(T(t)," vs ").concat(T(t.name)))})(n,Ia.get(n),t),Ia.set(n,t)}var r=t.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(t){return e(t)}))}(e),r}return _createClass(n,[{key:"create",value:function(e){return new ja(this.moduleType,e)}}]),n}(se);function Ra(e,t,n){var r,i,o=(r=$e.lFrame,-1===(i=r.bindingRootIndex)&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i+e),s=tt();return s[o]===wr?function(e,t,n){return e[t]=n}(s,o,n?t.call(n):t()):function(e,t){return e[t]}(s,o)}var Da=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var o,s=function(e){return null},a=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(s=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(s=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(a=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,s,a);return e instanceof i.a&&e.add(u),u}}]),n}(r.a);function Fa(){return this._results[wo()]()}var Ma=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new Da,this.length=0;var t=wo(),n=e.prototype;n[t]||(n[t]=Fa)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),La=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),Ua=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Xa(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Va=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=n,this.isStatic=r,this.read=i},Ha=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),qa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(e,t,Ba(t,n[r]));else{var i=this.metadata.predicate;i===ha?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,on(t,e,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Hs||r===da||r===ha&&0===t.type)this.addMatch(t.index,-2);else{var i=on(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function Ba(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Qa(e,t,n,r){return-1===n?function(e,t){return 3===e.type||4===e.type?Yi(Hs,e,t):0===e.type?Ki(ha,Hs,e,t):null}(t,e):-2===n?function(e,t,n){return n===Hs?Yi(Hs,t,e):n===ha?Ki(ha,Hs,t,e):n===da?Zi(da,Hs,t,e):void 0}(e,t,r):sn(e,e[1],n,t)}function za(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var o=e.data,s=n.matches,a=[],u=0;u<s.length;u+=2){var c=s[u];a.push(c<0?null:Qa(t,o[c],s[u+1],n.metadata.read))}i.matches=a}return i.matches}function Wa(e){var t=tt(),n=nt(),r=vt();yt(r+1);var i=Xa(n,r);if(e.dirty&&Ye(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?function e(t,n,r,i){var o=t.queries.getByIndex(r),s=o.matches;if(null!==s)for(var a=za(t,n,o,r),u=0;u<s.length;u+=2){var c=s[u];if(c>0)i.push(a[u/2]);else{for(var l=s[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&e(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var y=p[v];e(y[1],y,l,i)}}}return i}(n,t,r,[]):za(n,t,i,r);e.reset(o),e.notifyOnChanges()}return!0}return!1}function Ga(e,t,n){!function(e,t,n,r,i,o){e.firstCreatePass&&Ja(e,new Va(n,r,!1,i),-1),Za(e,t)}(nt(),tt(),e,t,n)}function Ya(e,t,n,r){!function(e,t,n,r,i,o,s,a){e.firstCreatePass&&(Ja(e,new Va(n,r,!1,i),s.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,a)),Za(e,t)}(nt(),tt(),t,n,r,0,it(),e)}function Ka(){return e=tt(),t=vt(),e[19].queries[t].queryList;var e,t}function Za(e,t){var n=new Ma;!function(e,t,n,r){var i=mi(t);i.push(n),e.firstCreatePass&&_i(e).push(r,i.length-1)}(e,t,n,n.destroy),null===t[19]&&(t[19]=new Ua),t[19].queries.push(new La(n))}function Ja(e,t,n){null===e.queries&&(e.queries=new Ha),e.queries.track(new qa(t,n))}function Xa(e,t){return e.queries.getByIndex(t)}function $a(e,t){return Ki(ha,Hs,e,t)}function eu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.Default,t=Ji(!0);if(null!=t||e&p.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}var tu=new W("Application Initializer"),nu=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();qo(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(te(tu,8))},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e}(),ru=new W("AppId"),iu={provide:ru,useFactory:function(){return"".concat(ou()).concat(ou()).concat(ou())},deps:[]};function ou(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var su=new W("Platform Initializer"),au=new W("Platform ID"),uu=new W("appBootstrapListener"),cu=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e}(),lu=new W("LocaleId"),hu=new W("DefaultCurrencyCode"),fu=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n},du=function(e){return new Na(e)},pu=du,vu=function(e){return Promise.resolve(du(e))},yu=function(e){var t=du(e),n=Wt(Ae(e).declarations).reduce((function(e,t){var n=Te(t);return n&&e.push(new _a(n)),e}),[]);return new fu(t,n)},gu=yu,mu=function(e){return Promise.resolve(yu(e))},_u=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=pu,this.compileModuleAsync=vu,this.compileModuleAndAllComponentsSync=gu,this.compileModuleAndAllComponentsAsync=mu}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e}(),bu=new W("compilerOptions"),Cu=Promise.resolve(0);function wu(e){"undefined"==typeof Zone?Cu.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var ku=function(){function e(t){var n,r,i=t.enableLongStackTrace,o=void 0!==i&&i,s=t.shouldCoalesceEventChangeDetection,a=void 0!==s&&s;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Da(!1),this.onMicrotaskEmpty=new Da(!1),this.onStable=new Da(!1),this.onError=new Da(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=a,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=L.requestAnimationFrame,t=L.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(L,(function(){e.lastRequestAnimationFrameId=-1,Tu(e),Eu(e)})),Tu(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(e,t,i,o,s,a){try{return Pu(n),e.invokeTask(i,o,s,a)}finally{r&&"eventTask"===o.type&&r(),Au(n)}},onInvoke:function(e,t,r,i,o,s,a){try{return Pu(n),e.invoke(r,i,o,s,a)}finally{Au(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Tu(n),Eu(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Su,Ou,Ou);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function Ou(){}var Su={};function Eu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function Tu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Pu(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Au(e){e._nesting--,Eu(e)}var xu=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Da,this.onMicrotaskEmpty=new Da,this.onStable=new Da,this.onError=new Da}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),Iu=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){ku.assertNotInAngularZone(),wu((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())wu((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(te(ku))},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e}(),ju=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,Du.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Du.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e}();function Nu(e){Du=e}var Ru,Du=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Fu=function(e,t,n){var r=e.get(bu,[]).concat(t),i=new Na(n);if(0===go.size)return Promise.resolve(i);var o,s,a=(o=r.map((function(e){return e.providers})),s=[],o.forEach((function(e){return e&&s.push.apply(s,_toConsumableArray(e))})),s);if(0===a.length)return Promise.resolve(i);var u=function(){var e=L.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),c=vo.create({providers:a}).get(u.ResourceLoader);return function(e){var t=[],n=new Map;function r(e){var t=n.get(e);if(!t){var r=function(e){return Promise.resolve(c.get(e))}(e);n.set(e,t=r.then(_o))}return t}return go.forEach((function(e,n){var i=[];e.templateUrl&&i.push(r(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,s=e.styles||(e.styles=[]),a=e.styles.length;o&&o.forEach((function(t,n){s.push(""),i.push(r(t).then((function(r){s[a+n]=r,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(e){mo.delete(e)}(n)}));t.push(u)})),go=new Map,Promise.all(t).then((function(){}))}().then((function(){return i}))},Mu=new W("AllowMultipleToken"),Lu=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function Uu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+t,i=new W(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Vu();if(!o||o.injector.get(Mu,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var s=n.concat(t).concat({provide:i,useValue:!0},{provide:eo,useValue:"platform"});!function(e){if(Ru&&!Ru.destroyed&&!Ru.injector.get(Mu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ru=e.get(Hu);var t=e.get(su,null);t&&t.forEach((function(e){return e()}))}(vo.create({providers:s,name:r}))}return function(e){var t=Vu();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Vu(){return Ru&&!Ru.destroyed?Ru:null}var Hu=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(n=t?t.ngZone:void 0,r=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new xu:("zone.js"===n?void 0:n)||new ku({enableLongStackTrace:jn(),shouldCoalesceEventChangeDetection:r})),s=[{provide:ku,useValue:o}];return o.run((function(){var t=vo.create({providers:s,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(vn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Qu(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){r.handleError(e)}})})),function(e,t,r){try{var o=((s=n.injector.get(nu)).runInitializers(),s.donePromise.then((function(){return xa(n.injector.get(lu,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return qo(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(a){throw t.runOutsideAngular((function(){return e.handleError(a)})),a}var s}(r,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=qu({},n);return Fu(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Bu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(T(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(te(vo))},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e}();function qu(e,t){return Array.isArray(t)?t.reduce(qu,e):Object.assign(Object.assign({},e),t)}var Bu=function(){var e=function(){function e(t,n,r,i,u,c){var l=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=u,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=jn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var h=new o.a((function(e){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){e.next(l._stable),e.complete()}))})),f=new o.a((function(e){var t;l._zone.runOutsideAngular((function(){t=l._zone.onStable.subscribe((function(){ku.assertNotInAngularZone(),wu((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,e.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){ku.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(s.a)(h,f.pipe(Object(a.a)()))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Ls?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(oe),o=n.create(vo.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var s=o.injector.get(Iu,null);return s&&o.injector.get(ju).registerApplication(o.location.nativeElement,s),this._loadComponent(o),jn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;){t.value.detectChanges()}}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;){r.value.checkNoChanges()}}catch(o){i.e(o)}finally{i.f()}}}catch(s){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(s)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Qu(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(uu,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),Qu(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(te(ku),te(cu),te(vo),te(vn),te(Vs),te(nu))},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e}();function Qu(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var zu=function e(){_classCallCheck(this,e)},Wu=function e(){_classCallCheck(this,e)},Gu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Yu=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||Gu}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(e){return e[o]})).then((function(e){return Ku(e,i,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return Ku(e,r,i)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(te(_u),te(Wu,8))},e.\u0275prov=g({token:e,factory:e.\u0275fac}),e}();function Ku(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Zu=function(e){return null},Ju=Uu(null,"core",[{provide:au,useValue:"unknown"},{provide:Hu,deps:[vo]},{provide:ju,deps:[]},{provide:cu,deps:[]}]),Xu=[{provide:Bu,useClass:Bu,deps:[ku,cu,vo,vn,Vs,nu]},{provide:ma,deps:[ku],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:nu,useClass:nu,deps:[[new h,tu]]},{provide:_u,useClass:_u,deps:[]},iu,{provide:sa,useFactory:function(){return ca},deps:[]},{provide:aa,useFactory:function(){return la},deps:[]},{provide:lu,useFactory:function(e){return xa(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new l(lu),new h,new d]]},{provide:hu,useValue:"USD"}],$u=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275mod=we({type:e}),e.\u0275inj=m({factory:function(t){return new(t||e)(te(Bu))},providers:Xu}),e}()},ffpz:function(e,t,n){"use strict";t.Scheduler=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},g5Dd:function(e,t){!function(e){"use strict";t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(t){var n,r,i,o,s,a=.75*t.length,u=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var l=new ArrayBuffer(a),h=new Uint8Array(l);for(n=0;n<u;n+=4)r=e.indexOf(t[n]),i=e.indexOf(t[n+1]),o=e.indexOf(t[n+2]),s=e.indexOf(t[n+3]),h[c++]=r<<2|i>>4,h[c++]=(15&i)<<4|o>>2,h[c++]=(3&o)<<6|63&s;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},gRHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},ipDq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;var r="function"==typeof ArrayBuffer,i=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);function a(e){return r&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))||o&&e instanceof Blob||s&&e instanceof File}t.isBinary=a,t.hasBinary=function e(t,n){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)if(e(t[r]))return!0;return!1}if(a(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&e(t[o]))return!0;return!1}},jZKg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(e,t){return new r.a((function(n){var r=new i.a,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},jifJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=t.io=t.Manager=t.protocol=void 0;var r=n("f7yz"),i=n("PVQj"),o=n("eFEk");Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return o.Socket}});var s=n("NOtv")("socket.io-client");e.exports=t=u;var a=t.managers={};function u(e,t){"object"==typeof e&&(t=e,e=void 0);var n,o=r.url(e,(t=t||{}).path),u=o.source,c=o.id;return t.forceNew||t["force new connection"]||!1===t.multiplex||a[c]&&o.path in a[c].nsps?(s("ignoring socket cache for %s",u),n=new i.Manager(u,t)):(a[c]||(s("new io instance for %s",u),a[c]=new i.Manager(u,t)),n=a[c]),o.query&&!t.query&&(t.query=o.queryKey),n.socket(o.path,t)}t.io=u;var c=n("Tgil");Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return c.protocol}}),t.connect=u;var l=n("PVQj");Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return l.Manager}})},kJWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(r.a)},lKxJ:function(e,t,n){var r=n("2pII");e.exports=function(e,t){return new r(e,t)},e.exports.Socket=r,e.exports.protocol=r.protocol,e.exports.Transport=n("Gbct"),e.exports.transports=n("akSB"),e.exports.parser=n("Fyy9")},mCNh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("SpAZ");function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t)}function o(e){return 0===e.length?r.a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},mbIT:function(e,t,n){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},mrSG:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}},n3uD:function(e,t,n){"use strict";var r=!1;t.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},n6bG:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},ngJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},nzqU:function(e,t,n){"use strict";t.isScheduler=function(e){return e&&"function"==typeof e.schedule}},"p//D":function(e,t,n){"use strict";t.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),t.$$rxSubscriber=t.rxSubscriber},pshJ:function(e,t,n){"use strict";t.isFunction=function(e){return"function"==typeof e}},pxpQ:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("z6cu"),a=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}();return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new c(e,t))}}var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.scheduler,this.delay))}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=t.call(this,e)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new h(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(a.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(a.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(r.a),h=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n}},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return d}));var o=[],s=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),s=c[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[s].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in s))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],e)),this._logHandler.apply(this,r([this,s.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],e)),this._logHandler.apply(this,r([this,s.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],e)),this._logHandler.apply(this,r([this,s.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],e)),this._logHandler.apply(this,r([this,s.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],e)),this._logHandler.apply(this,r([this,s.ERROR],e))},e}();function f(e){o.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:s[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return T})),n.d(t,"j",(function(){return N})),n.d(t,"k",(function(){return l})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return M})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return v})),n.d(t,"p",(function(){return A})),n.d(t,"q",(function(){return d})),n.d(t,"r",(function(){return p})),n.d(t,"s",(function(){return g})),n.d(t,"t",(function(){return y})),n.d(t,"u",(function(){return S})),n.d(t,"v",(function(){return w})),n.d(t,"w",(function(){return x})),n.d(t,"x",(function(){return I})),n.d(t,"y",(function(){return P})),n.d(t,"z",(function(){return H})),n.d(t,"A",(function(){return V})),n.d(t,"B",(function(){return k})),n.d(t,"C",(function(){return F})),n.d(t,"D",(function(){return L})),n.d(t,"E",(function(){return U}));var r=n("mrSG"),i=function(e,t){if(!e)throw o(t)},o=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){var t=s(e);return a.encodeByteArray(t,!0)},c=function(e){try{return a.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function p(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function v(){return"object"==typeof self&&self.self===self}function y(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return!1}var m=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,_.prototype.create),o}return Object(r.c)(t,e),t}(Error),_=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?b(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new m(i,a,r);return u},e}();function b(e,t){return e.replace(C,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var C=/\{\$([^}]+)}/g;function w(e){return JSON.parse(e)}function k(e){return JSON.stringify(e)}var O=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=w(c(o[0])||""),n=w(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}},S=function(e){var t=O(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},E=function(e){var t=O(e).claims;return"object"==typeof t&&!0===t.admin};function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function A(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function x(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function I(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}var j=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function N(e,t){var n=new R(e,t);return n.subscribe.bind(n)}var R=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=D),void 0===r.error&&(r.error=D),void 0===r.complete&&(r.complete=D);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function D(){}var F=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function M(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+r+" argument "}function L(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(M(e,t,r)+"must be a valid function.")}function U(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(M(e,t,r)+"must be a valid context object.")}var V=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var s=o-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},H=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t}},qgXg:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(n("3N8a").a),i=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(n("IjjT").a))(r)},quSY:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,i,o=n("DH7j"),s=n("XoHu"),a=n("n6bG"),u=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),c=((i=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(a.a)(r))try{r.call(this)}catch(p){t=p instanceof u?l(p.errors):[p]}if(Object(o.a)(i))for(var h=-1,f=i.length;++h<f;){var d=i[h];if(Object(s.a)(d))try{d.unsubscribe()}catch(p){t=t||[],p instanceof u?t=t.concat(l(p.errors)):t.push(p)}}if(t)throw new u(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=((r=new i).closed=!0,r),i);function l(e){return e.reduce((function(e,t){return e.concat(t instanceof u?t.errors:t)}),[])}},sRpT:function(e,t,n){var r=n("yxaB").PACKET_TYPES,i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),o="function"==typeof ArrayBuffer,s=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)};e.exports=function(e,t,n){var a,u=e.type,c=e.data;return i&&c instanceof Blob?t?n(c):s(c,n):o&&(c instanceof ArrayBuffer||(a=c,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer))?t?n(c instanceof ArrayBuffer?c:c.buffer):s(new Blob([c]),n):n(r[u]+(c||""))}},spgP:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return O})),n.d(t,"g",(function(){return C})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return y})),n.d(t,"j",(function(){return w}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}var h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;_classCallCheck(this,e),this.zone=t,this.delegate=n}return _createClass(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule((function(t){var n=this;r.runGuarded((function(){e.apply(n,[t])}))}),t,n)}}]),e}(),f=function(){function e(t){_classCallCheck(this,e),this.zone=t,this.task=null}return _createClass(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)})),t.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){var e=this;setTimeout((function(){null!=e.task&&"scheduled"===e.task.state&&(e.task.invoke(),e.task=null)}),10)}}]),e}(),d=function e(t){_classCallCheck(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular((function(){return new h(Zone.current)})),this.insideAngular=t.run((function(){return new h(Zone.current,i.a)}))};function p(e){return function(t){return(t=t.lift(new f(e.ngZone))).pipe(Object(s.a)(e.outsideAngular),Object(a.b)(e.insideAngular))}}var v=["ngOnDestroy"],y=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(e,{get:function(i,o){return n.runOutsideAngular((function(){var i;if(e[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,e[o]),e[o];if(v.indexOf(o)>-1)return function(){};var s=t.toPromise().then((function(e){var t=e&&e[o];return"function"==typeof t?t.bind(e):t&&t.then?t.then((function(e){return n.run((function(){return e}))})):n.run((function(){return t}))}));return new Proxy((function(){}),{get:function(e,t){return s[t]},apply:function(e,t,n){return s.then((function(e){var t,i=e&&e.apply(void 0,_toConsumableArray(n));return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(o,n,i),i}))}})}))}})},g=function(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype||t).forEach((function(n){Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))}))}))},m=new u.q("angularfire2.app.options"),_=new u.q("angularfire2.app.nameOrConfig"),b=new u.N("6.1.4");function C(t,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=c.a.apps.filter((function(e){return e&&e.name===i.name}))[0]||n.runOutsideAngular((function(){return c.a.initializeApp(t,i)}));try{JSON.stringify(t)!==JSON.stringify(o.options)&&k("error","".concat(o.name," Firebase App already initialized with different options").concat(e.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(s){}return o}var w=function(){k("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},k=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(u.U)()&&"undefined"!=typeof console&&(t=console)[e].apply(t,r)};function O(t,n,r,i,o){var s=_toArray(globalThis.\u0275AngularfireInstanceCache.get(t)||[]),a=s[0],u=s.slice(1);if(a){try{o.some((function(e,t){var n=u[t];return e&&"object"==typeof e?JSON.stringify(e)!==JSON.stringify(n):e!==n}))&&k("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(e.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(l){}return a}var c=i();return globalThis.\u0275AngularfireInstanceCache.set(t,[c].concat(_toConsumableArray(o))),c}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var S={provide:function e(){_classCallCheck(this,e)},useFactory:C,deps:[m,u.z,[new u.A,_]]},E=function(){var e=function(){function e(t){_classCallCheck(this,e),c.a.registerVersion("angularfire",b.full,t.toString()),c.a.registerVersion("angular",u.M.full)}return _createClass(e,null,[{key:"initializeApp",value:function(t,n){return{ngModule:e,providers:[{provide:m,useValue:t},{provide:_,useValue:n}]}}}]),e}();return e.\u0275mod=u.Jb({type:e}),e.\u0275inj=u.Ib({factory:function(t){return new(t||e)(u.Ub(u.B))},providers:[S]}),e}()}).call(this,n("3UD+")(e))},"tf+s":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("HDdC"),i=1,o=Promise.resolve(),s={};function a(e){return e in s&&(delete s[e],!0)}var u=function(e){var t=i++;return s[t]=!0,o.then((function(){return a(t)&&e()})),t},c=function(e){a(e)},l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=u(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(c(t),e.scheduled=void 0)}}]),n}(n("3N8a").a),h=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n("IjjT").a))(l),f=n("DH7j"),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return _classCallCheck(this,n),(r=t.call(this)).source=e,r.delayTime=o,r.scheduler=s,i=o,(Object(f.a)(i)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),s&&"function"==typeof s.schedule||(r.scheduler=h),r}return _createClass(n,[{key:"_subscribe",value:function(e){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:e})}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return new n(e,t,r)}},{key:"dispatch",value:function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))}}]),n}(r.a);function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new v(e,t))}}var v=function(){function e(t,n){_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return new d(t,this.delay,this.scheduler).subscribe(e)}}]),e}()},vLqr:function(e,t,n){"use strict";var r=n("Q1FS");function i(e){e.subscriber.error(e.error)}t.throwError=function(e,t){return new r.Observable(t?function(n){return t.schedule(i,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}},vkgz:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("7o/Q");function i(){}var o=n("n6bG");function s(e,t,n){return function(r){return r.lift(new a(e,t,n))}}var a=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,s,a){var u;return _classCallCheck(this,n),(u=t.call(this,e))._tapNext=i,u._tapError=i,u._tapComplete=i,u._tapError=s||i,u._tapComplete=a||i,Object(o.a)(r)?(u._context=_assertThisInitialized(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i,u._tapError=r.error||i,u._tapComplete=r.complete||i),u}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(r.a)},w1tV:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),s=n("quSY");function a(){return function(e){return e.lift(new c(e))}}var u,c=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new l(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(o.a),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.a).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.a.EMPTY)),e}},{key:"refCount",value:function(){return a()(this)}}]),n}(i.a),f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(u=h.prototype)._subscribe},_isComplete:{value:u._isComplete,writable:!0},getSubject:{value:u.getSubject},connect:{value:u.connect},refCount:{value:u.refCount}},d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(r.b);function p(){return new r.a}function v(){return function(e){return a()((t=p,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,f);return r.source=e,r.subjectFactory=n,r})(e));var t}}},xHZb:function(e,t,n){"use strict";var r=n("IEvo");t.queue=new(n("H2PQ").QueueScheduler)(r.QueueAction)},xKqS:function(e,t,n){"use strict";var r,i=n("aJGj"),o=n("I65S"),s=n("vLqr");t.NotificationKind=((r=t.NotificationKind||{}).NEXT="N",r.ERROR="E",r.COMPLETE="C",r),t.Notification=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return o.of(this.value);case"E":return s.throwError(this.error);case"C":return i.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},yCtX:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(e,t){return t?Object(o.a)(e,t):new r.a(Object(i.a)(e))}},yeub:function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},yoF8:function(e,t,n){"use strict";t.identity=function(e){return e}},yx2s:function(e,t,n){"use strict";var r=n("FWf1");t.canReportError=function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof r.Subscriber?t:null}return!0}},yxaB:function(e,t){var n=Object.create(null);n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";var r=Object.create(null);Object.keys(n).forEach((function(e){r[n[e]]=e})),e.exports={PACKET_TYPES:n,PACKET_TYPES_REVERSE:r,ERROR_PACKET:{type:"error",data:"parser error"}}},"z+Ro":function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},z6cu:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("HDdC");function i(e,t){return new r.a(t?function(n){return t.schedule(o,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function o(e){var t=e.error;e.subscriber.error(t)}},"zB/H":function(e,t,n){"use strict";var r=n("mbIT"),i=n("GMZp"),o=n("pshJ"),s=n("LBXl");function a(e){return e.reduce((function(e,t){return e.concat(t instanceof s.UnsubscriptionError?t.errors:t)}),[])}t.Subscription=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,u=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var l=0;l<n.length;++l)n[l].remove(this);if(o.isFunction(u))try{u.call(this)}catch(d){t=d instanceof s.UnsubscriptionError?a(d.errors):[d]}if(r.isArray(c)){l=-1;for(var h=c.length;++l<h;){var f=c[l];if(i.isObject(f))try{f.unsubscribe()}catch(d){t=t||[],d instanceof s.UnsubscriptionError?t=t.concat(a(d.errors)):t.push(d)}}}if(t)throw new s.UnsubscriptionError(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}()},zIRd:function(e,t,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.b("@firebase/app"),p=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(s.k)(e),this.container=new a.b(t.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){d.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var v=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.i)(t,a))throw l.create("duplicate-app",{appName:a});var u=new e(n,o,r);return t[a]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=f[e])&&void 0!==r?r:e;n&&(i+="-"+n);var s=i.match(/\s|\//),u=t.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}o(new a.a(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.c,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument");Object(u.d)(e,t)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||"[DEFAULT]",!Object(s.i)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return d.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[a])throw l.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&Object(s.l)(u,o.serviceProps),r[a]=u,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++)t[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(p);return t.INTERNAL=Object(o.a)(Object(o.a)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(s.l)(t,e)},createSubscribe:s.j,ErrorFactory:s.b,deepExtend:s.l}),t}(),y=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(s.o)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=v.initializeApp;v.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(s.r)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,e)};var _=v;!function(e,t){e.INTERNAL.registerComponent(new a.a("platform-logger",(function(e){return new y(e)}),"PRIVATE")),e.registerVersion(h,"0.6.15",void 0),e.registerVersion("fire-js","")}(_),t.a=_},zUnb:function(e,t,n){"use strict";n.r(t);var r=n("fXoL"),i=function(){var e={production:!0,BaseURL:"http://3.7.98.19:8080",ApiURL:"",firebaseConfig:{apiKey:"AIzaSyAtD6dQhU4BtzKKKcZUq3tUvWMW2rizX_o",authDomain:"campuswatch-c7e0c.firebaseapp.com",projectId:"campuswatch-c7e0c",storageBucket:"campuswatch-c7e0c.appspot.com",messagingSenderId:"972920901938",appId:"1:972920901938:web:c7ba34f11fc42359e7072b"},S3_BUCKET_URL:"https://campus-watch-panel.s3.ap-south-1.amazonaws.com/",hmr:!1};return e.ApiURL=e.BaseURL+"/api/v1/",e}(),o=null;function s(){return o}var a,u=new r.q("DocumentToken"),c=((a=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||a)},a.\u0275prov=Object(r.Hb)({factory:l,token:a,providedIn:"platform"}),a);function l(){return Object(r.Ub)(d)}var h,f=new r.q("Location Initialized"),d=((h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=s().getLocation(),this._history=s().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return s().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){p()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){p()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(c)).\u0275fac=function(e){return new(e||h)(r.Ub(u))},h.\u0275prov=Object(r.Hb)({factory:v,token:h,providedIn:"platform"}),h);function p(){return!!window.history.pushState}function v(){return new d(Object(r.Ub)(u))}function y(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function g(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function m(e){return e&&"?"!==e[0]?"?"+e:e}var _,b=((_=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||_)},_.\u0275prov=Object(r.Hb)({factory:C,token:_,providedIn:"root"}),_);function C(e){var t=Object(r.Ub)(u).location;return new E(Object(r.Ub)(c),t&&t.origin||"")}var w,k,O,S=new r.q("appBaseHref"),E=((O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return y(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(b)).\u0275fac=function(e){return new(e||O)(r.Ub(c),r.Ub(S,8))},O.\u0275prov=r.Hb({token:O,factory:O.\u0275fac}),O),T=((k=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=y(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(b)).\u0275fac=function(e){return new(e||k)(r.Ub(c),r.Ub(S,8))},k.\u0275prov=r.Hb({token:k,factory:k.\u0275fac}),k),P=((w=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=g(x(o)),this._platformStrategy.onPopState((function(e){i._subject.emit({url:i.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+m(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,x(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+m(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+m(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}()).\u0275fac=function(e){return new(e||w)(r.Ub(b),r.Ub(c))},w.normalizeQueryParams=m,w.joinWithSlash=y,w.stripTrailingSlash=g,w.\u0275prov=Object(r.Hb)({factory:A,token:w,providedIn:"root"}),w);function A(){return new P(Object(r.Ub)(b),Object(r.Ub)(c))}function x(e){return e.replace(/\/index.html$/,"")}var I,j=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),N=r.mb,R=function e(){_classCallCheck(this,e)},D=((I=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).locale=e,r}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(N(t||this.locale)(e)){case j.Zero:return"zero";case j.One:return"one";case j.Two:return"two";case j.Few:return"few";case j.Many:return"many";default:return"other"}}}]),n}(R)).\u0275fac=function(e){return new(e||I)(r.Ub(r.u))},I.\u0275prov=r.Hb({token:I,factory:I.\u0275fac}),I);function F(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),s=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),a=s[0],u=s[1];if(a.trim()===t)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}var M,L,U,V=((M=function(){function e(t,n,r,i){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(r.pb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.vb)(e.item));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}}]),e}()).\u0275fac=function(e){return new(e||M)(r.Lb(r.s),r.Lb(r.t),r.Lb(r.l),r.Lb(r.D))},M.\u0275dir=r.Gb({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),M),H=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),q=((L=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){Object(r.U)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new H(null,t._ngForOf,-1,-1),null===i?void 0:i),s=new B(e,o);n.push(s)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var a=t._viewContainer.get(r);t._viewContainer.move(a,i);var u=new B(e,a);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var s=this._viewContainer.get(i);s.context.index=i,s.context.count=o,s.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||L)(r.Lb(r.O),r.Lb(r.K),r.Lb(r.s))},L.\u0275dir=r.Gb({type:L,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),L),B=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},Q=((U=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new z,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){W("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){W("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||U)(r.Lb(r.O),r.Lb(r.K))},U.\u0275dir=r.Gb({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),U),z=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function W(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Object(r.vb)(t),"'."))}var G,Y=((G=function e(){_classCallCheck(this,e)}).\u0275mod=r.Jb({type:G}),G.\u0275inj=r.Ib({factory:function(e){return new(e||G)},providers:[{provide:R,useClass:D}]}),G);function K(e){return"server"===e}var Z,J,X,$,ee,te=((Z=function e(){_classCallCheck(this,e)}).\u0275prov=Object(r.Hb)({token:Z,providedIn:"root",factory:function(){return new ne(Object(r.Ub)(u),window,Object(r.Ub)(r.m))}}),Z),ne=function(){function e(t,n,r){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),re=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=ie||(ie=document.querySelector("base"))?ie.getAttribute("href"):null;return null==n?null:(t=n,J||(J=document.createElement("a")),J.setAttribute("href",t),"/"===J.pathname.charAt(0)?J.pathname:"/"+J.pathname)}},{key:"resetBaseElement",value:function(){ie=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return F(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,o||(o=e)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function e(){_classCallCheck(this,e)}}())),ie=null,oe=new r.q("TRANSITION_ID"),se=[{provide:r.d,useFactory:function(e,t,n){return function(){n.get(r.e).donePromise.then((function(){var n=s();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[oe,u,r.r],multi:!0}],ae=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){r.ob.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=function(){return e.getAllTestabilities()},r.ob.getAllAngularRootElements=function(){return e.getAllRootElements()},r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push((function(e){var t=r.ob.getAllAngularTestabilities(),n=t.length,i=!1,o=function(t){i=i||t,0==--n&&e(i)};t.forEach((function(e){e.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?s().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){Object(r.W)(new e)}}]),e}(),ue=new r.q("EventManagerPlugins"),ce=((X=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)}}]),e}()).\u0275fac=function(e){return new(e||X)(r.Ub(ue),r.Ub(r.z))},X.\u0275prov=r.Hb({token:X,factory:X.\u0275fac}),X),le=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=s().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),he=((ee=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||ee)},ee.\u0275prov=r.Hb({token:ee,factory:ee.\u0275fac}),ee),fe=(($=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return s().remove(e)}))}}]),n}(he)).\u0275fac=function(e){return new(e||$)(r.Ub(u))},$.\u0275prov=r.Hb({token:$,factory:$.\u0275fac}),$),de={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},pe=/%COMP%/g;function ve(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?ve(e,i,n):(i=i.replace(pe,e),n.push(i))}return n}function ye(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var ge,me,_e,be,Ce,we,ke=((ge=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Oe(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.P.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new Se(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case r.P.Native:case r.P.ShadowDom:return new Ee(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=ve(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ge)(r.Ub(ce),r.Ub(fe),r.Ub(r.c))},ge.\u0275prov=r.Hb({token:ge,factory:ge.\u0275fac}),ge),Oe=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(de[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=de[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=de[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,i){i&r.F.DashCase?e.style.setProperty(t,n,i&r.F.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&r.F.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ye(n)):this.eventManager.addEventListener(e,t,ye(n))}}]),e}(),Se=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;_classCallCheck(this,n),(s=t.call(this,e)).component=i;var a,u=ve(o+"-"+i.id,i.styles,[]);return r.addStyles(u),s.contentAttr="_ngcontent-%COMP%".replace(pe,o+"-"+i.id),s.hostAttr=(a=o+"-"+i.id,"_nghost-%COMP%".replace(pe,a)),s}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Oe),Ee=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,s){var a;_classCallCheck(this,n),(a=t.call(this,e)).sharedStylesHost=i,a.hostEl=o,a.component=s,a.shadowRoot=s.encapsulation===r.P.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var u=ve(s.id,s.styles,[]),c=0;c<u.length;c++){var l=document.createElement("style");l.textContent=u[c],a.shadowRoot.appendChild(l)}return a}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(Oe),Te=((me=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(le)).\u0275fac=function(e){return new(e||me)(r.Ub(u))},me.\u0275prov=r.Hb({token:me,factory:me.\u0275fac}),me),Pe=["alt","control","meta","shift"],Ae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xe={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ie={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},je=((Ce=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return s().onAndCancel(e,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(Pe.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=i,0!=t.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&xe.hasOwnProperty(t)&&(t=xe[t]))}return Ae[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Pe.forEach((function(r){r!=n&&(0,Ie[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(le)).\u0275fac=function(e){return new(e||Ce)(r.Ub(u))},Ce.\u0275prov=r.Hb({token:Ce,factory:Ce.\u0275fac}),Ce),Ne=((be=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||be)},be.\u0275prov=Object(r.Hb)({factory:function(){return Object(r.Ub)(Re)},token:be,providedIn:"root"}),be),Re=((_e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r}return _createClass(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case r.H.NONE:return t;case r.H.HTML:return Object(r.db)(t,"HTML")?Object(r.wb)(t):Object(r.ab)(this._doc,String(t));case r.H.STYLE:return Object(r.db)(t,"Style")?Object(r.wb)(t):Object(r.bb)(t);case r.H.SCRIPT:if(Object(r.db)(t,"Script"))return Object(r.wb)(t);throw new Error("unsafe value used in a script context");case r.H.URL:return Object(r.nb)(t),Object(r.db)(t,"URL")?Object(r.wb)(t):Object(r.cb)(String(t));case r.H.RESOURCE_URL:if(Object(r.db)(t,"ResourceURL"))return Object(r.wb)(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return Object(r.eb)(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return Object(r.hb)(e)}},{key:"bypassSecurityTrustScript",value:function(e){return Object(r.gb)(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return Object(r.ib)(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return Object(r.fb)(e)}}]),n}(Ne)).\u0275fac=function(e){return new(e||_e)(r.Ub(u))},_e.\u0275prov=Object(r.Hb)({factory:function(){return e=Object(r.Ub)(r.o),new Re(e.get(u));var e},token:_e,providedIn:"root"}),_e),De=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){re.makeCurrent(),ae.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],Fe=Object(r.R)(r.V,"browser",De),Me=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:ue,useClass:Te,multi:!0,deps:[u,r.z,r.B]},{provide:ue,useClass:je,multi:!0,deps:[u]},[],{provide:ke,useClass:ke,deps:[ce,fe,r.c]},{provide:r.E,useExisting:ke},{provide:he,useExisting:fe},{provide:fe,useClass:fe,deps:[u]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:ce,useClass:ce,deps:[ue,r.z]},[]],Le=((we=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:r.c,useValue:t.appId},{provide:oe,useExisting:r.c},se]}}}]),e}()).\u0275mod=r.Jb({type:we}),we.\u0275inj=r.Ib({factory:function(e){return new(e||we)(r.Ub(we,12))},providers:Me,imports:[Y,r.f]}),we);"undefined"!=typeof window&&window;var Ue=n("HDdC"),Ve=n("DH7j"),He=n("lJxs"),qe=n("XoHu"),Be=n("Cfvw");function Qe(e,t){return new Ue.a((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,s=0,a=function(a){var u=Object(Be.a)(e[a]),c=!1;n.add(u.subscribe({next:function(e){c||(c=!0,s++),i[a]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&c||(s===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},u=0;u<r;u++)a(u);else n.complete()}))}var ze,We,Ge,Ye,Ke=new r.q("NgValueAccessor"),Ze={provide:Ke,useExisting:Object(r.T)((function(){return Je})),multi:!0},Je=((ze=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||ze)(r.Lb(r.D),r.Lb(r.l))},ze.\u0275dir=r.Gb({type:ze,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&r.Yb("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[r.zb([Ze])]}),ze),Xe={provide:Ke,useExisting:Object(r.T)((function(){return et})),multi:!0},$e=new r.q("CompositionEventMode"),et=((Ye=function(){function e(t,n,r){var i;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=s()?s().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||Ye)(r.Lb(r.D),r.Lb(r.l),r.Lb($e,8))},Ye.\u0275dir=r.Gb({type:Ye,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.Yb("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[r.zb([Xe])]}),Ye),tt=((Ge=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}()).\u0275fac=function(e){return new(e||Ge)},Ge.\u0275dir=r.Gb({type:Ge}),Ge),nt=((We=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(tt)).\u0275fac=function(e){return rt(e||We)},We.\u0275dir=r.Gb({type:We,features:[r.xb]}),We),rt=r.Sb(nt);function it(){throw new Error("unimplemented")}var ot,st,at=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(n,[{key:"validator",get:function(){return it()}},{key:"asyncValidator",get:function(){return it()}}]),n}(tt),ut=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),ct=((st=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(ut)).\u0275fac=function(e){return new(e||st)(r.Lb(at,2))},st.\u0275dir=r.Gb({type:st,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.Db("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[r.xb]}),st),lt=((ot=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(ut)).\u0275fac=function(e){return new(e||ot)(r.Lb(nt,2))},ot.\u0275dir=r.Gb({type:ot,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.Db("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[r.xb]}),ot);function ht(e){return null==e||0===e.length}var ft=new r.q("NgValidators"),dt=new r.q("NgAsyncValidators"),pt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,vt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(ht(t.value)||ht(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(ht(t.value)||ht(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return ht(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return ht(e.value)||pt.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(ht(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(ht(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(yt);return 0==t.length?null:function(e){return mt(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(yt);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(Object(Ve.a)(r))return Qe(r,null);if(Object(qe.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return Qe(i.map((function(e){return r[e]})),i)}}if("function"==typeof t[t.length-1]){var o=t.pop();return Qe(t=1===t.length&&Object(Ve.a)(t[0])?t[0]:t,null).pipe(Object(He.a)((function(e){return o.apply(void 0,_toConsumableArray(e))})))}return Qe(t,null)}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(gt)).pipe(Object(He.a)(mt))}}}]),e}();function yt(e){return null!=e}function gt(e){var t=Object(r.rb)(e)?Object(Be.a)(e):e;if(!Object(r.qb)(t))throw new Error("Expected validator to return Promise or Observable.");return t}function mt(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function _t(e){return e.validate?function(t){return e.validate(t)}:e}function bt(e){return e.validate?function(t){return e.validate(t)}:e}var Ct,wt,kt,Ot,St={provide:Ke,useExisting:Object(r.T)((function(){return Et})),multi:!0},Et=((Ct=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||Ct)(r.Lb(r.D),r.Lb(r.l))},Ct.\u0275dir=r.Gb({type:Ct,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&r.Yb("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[r.zb([St])]}),Ct),Tt={provide:Ke,useExisting:Object(r.T)((function(){return At})),multi:!0},Pt=((kt=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}()).\u0275fac=function(e){return new(e||kt)},kt.\u0275prov=r.Hb({token:kt,factory:kt.\u0275fac}),kt),At=((wt=function(){function e(t,n,r,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(at),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()).\u0275fac=function(e){return new(e||wt)(r.Lb(r.D),r.Lb(r.l),r.Lb(Pt),r.Lb(r.r))},wt.\u0275dir=r.Gb({type:wt,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&r.Yb("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([Tt])]}),wt),xt={provide:Ke,useExisting:Object(r.T)((function(){return It})),multi:!0},It=((Ot=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||Ot)(r.Lb(r.D),r.Lb(r.l))},Ot.\u0275dir=r.Gb({type:Ot,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&r.Yb("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[r.zb([xt])]}),Ot),jt='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Nt='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Rt='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Dt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+jt)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(Nt,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(Rt))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+jt)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Nt)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}(),Ft={provide:Ke,useExisting:Object(r.T)((function(){return Vt})),multi:!0};function Mt(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var Lt,Ut,Vt=((Ut=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r.sb}return _createClass(e,[{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}},{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=Mt(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}]),e}()).\u0275fac=function(e){return new(e||Ut)(r.Lb(r.D),r.Lb(r.l))},Ut.\u0275dir=r.Gb({type:Ut,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&r.Yb("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([Ft])]}),Ut),Ht=((Lt=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Mt(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}()).\u0275fac=function(e){return new(e||Lt)(r.Lb(r.l),r.Lb(r.D),r.Lb(Vt,9))},Lt.\u0275dir=r.Gb({type:Lt,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Lt),qt={provide:Ke,useExisting:Object(r.T)((function(){return Wt})),multi:!0};function Bt(e,t){return null==e?""+t:("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var Qt,zt,Wt=((zt=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r.sb}return _createClass(e,[{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}},{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var s=i.item(o),a=t._getOptionValue(s.value);r.push(a)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=t._getOptionValue(l.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}]),e}()).\u0275fac=function(e){return new(e||zt)(r.Lb(r.D),r.Lb(r.l))},zt.\u0275dir=r.Gb({type:zt,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&r.Yb("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.zb([qt])]}),zt),Gt=((Qt=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass(e,[{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(Bt(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(Bt(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}},{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),e}()).\u0275fac=function(e){return new(e||Qt)(r.Lb(r.l),r.Lb(r.D),r.Lb(Wt,9))},Qt.\u0275dir=r.Gb({type:Qt,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Qt);function Yt(e,t){return[].concat(_toConsumableArray(t.path),[e])}function Kt(e,t){e||$t(t,"Cannot find control with"),t.valueAccessor||$t(t,"No value accessor for form control with"),e.validator=vt.compose([e.validator,t.validator]),e.asyncValidator=vt.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Zt(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Zt(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function Zt(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Jt(e,t){null==e&&$t(t,"Cannot find control with"),e.validator=vt.compose([e.validator,t.validator]),e.asyncValidator=vt.composeAsync([e.asyncValidator,t.asyncValidator])}function Xt(e){return $t(e,"There is no FormControl instance attached to form control element with")}function $t(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function en(e){return null!=e?vt.compose(e.map(_t)):null}function tn(e){return null!=e?vt.composeAsync(e.map(bt)):null}function nn(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object(r.sb)(t,n.currentValue)}var rn=[Je,It,Et,Vt,Wt,At];function on(e,t){e._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}))}function sn(e,t){if(!t)return null;Array.isArray(t)||$t(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var o;t.constructor===et?n=t:(o=t,rn.some((function(e){return o.constructor===e}))?(r&&$t(e,"More than one built-in value accessor matches form control with"),r=t):(i&&$t(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||($t(e,"No valid value accessor for form control with"),null)}function an(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function un(e){var t=ln(e)?e.validators:e;return Array.isArray(t)?en(t):t||null}function cn(e,t){var n=ln(t)?t.asyncValidators:e;return Array.isArray(n)?tn(n):n||null}function ln(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var hn,fn,dn,pn,vn,yn,gn,mn,_n=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this.validator=un(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=cn(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=gt(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach((function(e){r=r instanceof Cn?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof wn&&r.at(e)||null})),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new r.n,this.statusChanges=new r.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){ln(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}]),e}(),bn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,un(i),cn(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(_n),Cn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,un(r),cn(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof bn?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,i){n=n||t.contains(i)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(_n),wn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,un(r),cn(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof bn?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(_n),kn={provide:nt,useExisting:Object(r.T)((function(){return Sn}))},On=Promise.resolve(null),Sn=((fn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this)).submitted=!1,o._directives=[],o.ngSubmit=new r.n,o.form=new Cn({},en(e),tn(i)),o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(e){var t=this;On.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Kt(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;On.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),an(t._directives,e)}))}},{key:"addFormGroup",value:function(e){var t=this;On.then((function(){var n=t._findContainer(e.path),r=new Cn({});Jt(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;On.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;On.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,on(this.form,this._directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}}]),n}(nt)).\u0275fac=function(e){return new(e||fn)(r.Lb(ft,10),r.Lb(dt,10))},fn.\u0275dir=r.Gb({type:fn,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&r.Yb("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([kn]),r.xb]}),fn),En=((hn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Yt(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return en(this._validators)}},{key:"asyncValidator",get:function(){return tn(this._asyncValidators)}},{key:"_checkParentType",value:function(){}}]),n}(nt)).\u0275fac=function(e){return Tn(e||hn)},hn.\u0275dir=r.Gb({type:hn,features:[r.xb]}),hn),Tn=r.Sb(En),Pn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(jt,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(Nt,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(Rt))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(Nt,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(Rt))}}]),e}(),An={provide:nt,useExisting:Object(r.T)((function(){return xn}))},xn=((dn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof Sn||Pn.modelGroupParentException()}}]),n}(En)).\u0275fac=function(e){return new(e||dn)(r.Lb(nt,5),r.Lb(ft,10),r.Lb(dt,10))},dn.\u0275dir=r.Gb({type:dn,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[r.zb([An]),r.xb]}),dn),In={provide:at,useExisting:Object(r.T)((function(){return Nn}))},jn=Promise.resolve(null),Nn=((vn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this)).control=new bn,a._registered=!1,a.update=new r.n,a._parent=e,a._rawValidators=i||[],a._rawAsyncValidators=o||[],a.valueAccessor=sn(_assertThisInitialized(a),s),a}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),nn(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?Yt(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return en(this._rawValidators)}},{key:"asyncValidator",get:function(){return tn(this._rawAsyncValidators)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Kt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof xn)&&this._parent instanceof En?Pn.formGroupNameException():this._parent instanceof xn||this._parent instanceof Sn||Pn.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Pn.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;jn.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;jn.then((function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()}))}}]),n}(at)).\u0275fac=function(e){return new(e||vn)(r.Lb(nt,9),r.Lb(ft,10),r.Lb(dt,10),r.Lb(Ke,10))},vn.\u0275dir=r.Gb({type:vn,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.zb([In]),r.xb,r.yb]}),vn),Rn=((pn=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||pn)},pn.\u0275dir=r.Gb({type:pn,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),pn),Dn=new r.q("NgModelWithFormControlWarning"),Fn={provide:nt,useExisting:Object(r.T)((function(){return Mn}))},Mn=((yn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var o;return _classCallCheck(this,n),(o=t.call(this))._validators=e,o._asyncValidators=i,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new r.n,o}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return Kt(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){an(this.directives,e)}},{key:"addFormGroup",value:function(e){var t=this.form.get(e.path);Jt(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(e){}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){var t=this.form.get(e.path);Jt(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(e){}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,on(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach((function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){t.valueAccessor.registerOnChange((function(){return Xt(t)})),t.valueAccessor.registerOnTouched((function(){return Xt(t)})),t._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),t._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),e&&e._clearChangeFns()}(t.control,t),n&&Kt(n,t),t.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var e=this;this.form._registerOnCollectionChange((function(){return e._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var e=en(this._validators);this.form.validator=vt.compose([this.form.validator,e]);var t=tn(this._asyncValidators);this.form.asyncValidator=vt.composeAsync([this.form.asyncValidator,t])}},{key:"_checkFormPresent",value:function(){this.form||Dt.missingFormException()}}]),n}(nt)).\u0275fac=function(e){return new(e||yn)(r.Lb(ft,10),r.Lb(dt,10))},yn.\u0275dir=r.Gb({type:yn,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r.Yb("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([Fn]),r.xb,r.yb]}),yn),Ln={provide:nt,useExisting:Object(r.T)((function(){return Un}))},Un=((gn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){qn(this._parent)&&Dt.groupParentException()}}]),n}(En)).\u0275fac=function(e){return new(e||gn)(r.Lb(nt,13),r.Lb(ft,10),r.Lb(dt,10))},gn.\u0275dir=r.Gb({type:gn,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.zb([Ln]),r.xb]}),gn),Vn={provide:nt,useExisting:Object(r.T)((function(){return Hn}))},Hn=((mn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return Yt(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return en(this._validators)}},{key:"asyncValidator",get:function(){return tn(this._asyncValidators)}},{key:"_checkParentType",value:function(){qn(this._parent)&&Dt.arrayParentException()}}]),n}(nt)).\u0275fac=function(e){return new(e||mn)(r.Lb(nt,13),r.Lb(ft,10),r.Lb(dt,10))},mn.\u0275dir=r.Gb({type:mn,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.zb([Vn]),r.xb]}),mn);function qn(e){return!(e instanceof Un||e instanceof Mn||e instanceof Hn)}var Bn,Qn,zn,Wn,Gn,Yn={provide:at,useExisting:Object(r.T)((function(){return Kn}))},Kn=((Gn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,s,a){var u;return _classCallCheck(this,n),(u=t.call(this))._ngModelWarningConfig=a,u._added=!1,u.update=new r.n,u._ngModelWarningSent=!1,u._parent=e,u._rawValidators=i||[],u._rawAsyncValidators=o||[],u.valueAccessor=sn(_assertThisInitialized(u),s),u}return _createClass(n,[{key:"isDisabled",set:function(e){Dt.disabledAttrWarning()}},{key:"ngOnChanges",value:function(e){var t,i;this._added||this._setUpControl(),nn(e,this.viewModel)&&(t=n,i=this._ngModelWarningConfig,Object(r.U)()&&"never"!==i&&((null!==i&&"once"!==i||t._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(Dt.ngModelWarning("formControlName"),t._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"path",get:function(){return Yt(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return en(this._rawValidators)}},{key:"asyncValidator",get:function(){return tn(this._rawAsyncValidators)}},{key:"_checkParentType",value:function(){!(this._parent instanceof Un)&&this._parent instanceof En?Dt.ngModelGroupException():this._parent instanceof Un||this._parent instanceof Mn||this._parent instanceof Hn||Dt.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(at)).\u0275fac=function(e){return new(e||Gn)(r.Lb(nt,13),r.Lb(ft,10),r.Lb(dt,10),r.Lb(Ke,10),r.Lb(Dn,8))},Gn.\u0275dir=r.Gb({type:Gn,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([Yn]),r.xb,r.yb]}),Gn._ngModelWarningSentOnce=!1,Gn),Zn=((Wn=function e(){_classCallCheck(this,e)}).\u0275mod=r.Jb({type:Wn}),Wn.\u0275inj=r.Ib({factory:function(e){return new(e||Wn)}}),Wn),Jn=((zn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),r=null,i=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new Cn(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(e,t,n){return new bn(e,t,n)}},{key:"array",value:function(e,t,n){var r=this,i=e.map((function(e){return r._createControl(e)}));return new wn(i,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){n[r]=t._createControl(e[r])})),n}},{key:"_createControl",value:function(e){return e instanceof bn||e instanceof Cn||e instanceof wn?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}()).\u0275fac=function(e){return new(e||zn)},zn.\u0275prov=r.Hb({token:zn,factory:zn.\u0275fac}),zn),Xn=((Qn=function e(){_classCallCheck(this,e)}).\u0275mod=r.Jb({type:Qn}),Qn.\u0275inj=r.Ib({factory:function(e){return new(e||Qn)},providers:[Pt],imports:[Zn]}),Qn),$n=((Bn=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:Dn,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}()).\u0275mod=r.Jb({type:Bn}),Bn.\u0275inj=r.Ib({factory:function(e){return new(e||Bn)},providers:[Jn,Pt],imports:[Zn]}),Bn),er=n("LRne"),tr=n("XNiG"),nr=n("9ppp"),rr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._value=e,r}return _createClass(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new nr.a;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}}]),n}(tr.a),ir=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),or=n("z+Ro"),sr=n("l7GE"),ar=n("ZUHj"),ur=n("yCtX"),cr={},lr=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new hr(e,this.resultSelector))}}]),e}(),hr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(e){this.values.push(cr),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(ar.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,s=this.toRespond?o[n]===cr?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(sr.a),fr=n("EY2u");function dr(e){return new Ue.a((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(Be.a)(n):Object(fr.b)()).subscribe(t)}))}var pr=n("bHdf");function vr(){return Object(pr.a)(1)}var yr=n("7o/Q");function gr(e,t){return function(n){return n.lift(new mr(e,t))}}var mr=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new _r(e,this.predicate,this.thisArg))}}]),e}(),_r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(yr.a),br=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function Cr(e){return function(t){return 0===e?Object(fr.b)():t.lift(new wr(e))}}var wr=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new br}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new kr(e,this.total))}}]),e}(),kr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(yr.a);function Or(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr;return function(t){return t.lift(new Sr(e))}}var Sr=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Er(e,this.errorFactory))}}]),e}(),Er=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(yr.a);function Tr(){return new ir}function Pr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new Ar(e))}}var Ar=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new xr(e,this.defaultValue))}}]),e}(),xr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(yr.a),Ir=n("SpAZ");function jr(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?gr((function(t,n){return e(t,n,r)})):Ir.a,Cr(1),n?Pr(t):Or((function(){return new ir})))}}var Nr=n("51Dv");function Rr(e){return function(t){var n=new Dr(e),r=t.lift(n);return n.caught=r}}var Dr=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Fr(e,this.selector,this.caught))}}]),e}(),Fr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new Nr.a(this,void 0,void 0);this.add(r);var i=Object(ar.a)(this,t,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(sr.a);function Mr(e){return function(t){return 0===e?Object(fr.b)():t.lift(new Lr(e))}}var Lr=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new br}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ur(e,this.total))}}]),e}(),Ur=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(yr.a);function Vr(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?gr((function(t,n){return e(t,n,r)})):Ir.a,Mr(1),n?Pr(t):Or((function(){return new ir})))}}var Hr=n("5+tZ"),qr=function(){function e(t,n,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Br(e,this.predicate,this.thisArg,this.source))}}]),e}(),Br=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e)).predicate=r,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||_assertThisInitialized(s),s}return _createClass(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(yr.a);function Qr(e,t){return"function"==typeof t?function(n){return n.pipe(Qr((function(n,r){return Object(Be.a)(e(n,r)).pipe(Object(He.a)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new zr(e))}}var zr=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Wr(e,this.project))}}]),e}(),Wr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new Nr.a(this,t,n),o=this.destination;o.add(i),this.innerSubscription=Object(ar.a)(this,e,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(sr.a);function Gr(){return vr()(Object(er.a).apply(void 0,arguments))}function Yr(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Kr(e,t,n))}}var Kr=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Zr(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Zr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e)).accumulator=r,s._seed=i,s.hasSeed=o,s.index=0,s}return _createClass(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}}]),n}(yr.a);function Jr(e,t){return Object(Hr.a)(e,t,1)}var Xr,$r=n("mCNh"),ei=n("vkgz"),ti=n("quSY"),ni=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ri(e,this.callback))}}]),e}(),ri=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).add(new ti.a(r)),i}return n}(yr.a),ii=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},oi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=s,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ii),si=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(ii),ai=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ii),ui=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(ii),ci=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ii),li=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ii),hi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,s){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a.shouldActivate=s,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(ii),fi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ii),di=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ii),pi=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),vi=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),yi=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),gi=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),mi=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),_i=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),bi=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),Ci=((Xr=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Xr)},Xr.\u0275cmp=r.Fb({type:Xr,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r.Mb(0,"router-outlet")},directives:function(){return[Ns]},encapsulation:2}),Xr),wi=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function ki(e){return new wi(e)}function Oi(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Si(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var Ei=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function Ti(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];Pi(r,Ai(t,r))}}function Pi(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&Ti(e.children,t)}function Ai(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function xi(e){var t=e.children&&e.children.map(xi),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Ci),n}function Ii(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!ji(e[n=r[o]],t[n]))return!1;return!0}function ji(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function Ni(e){return Array.prototype.concat.apply([],e)}function Ri(e){return e.length>0?e[e.length-1]:null}function Di(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Fi(e){return Object(r.qb)(e)?e:Object(r.rb)(e)?Object(Be.a)(Promise.resolve(e)):Object(er.a)(e)}function Mi(e,t,n){return n?function(e,t){return Ii(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Hi(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return ji(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!Hi(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Hi(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var s=i.slice(0,n.segments.length),a=i.slice(n.segments.length);return!!Hi(n.segments,s)&&!!n.children.primary&&t(n.children.primary,r,a)}(t,n,n.segments)}(e.root,t.root)}var Li=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ki(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return zi.serialize(this)}}]),e}(),Ui=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,Di(n,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Wi(this)}}]),e}(),Vi=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=ki(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Xi(this)}}]),e}();function Hi(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function qi(e,t){var n=[];return Di(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),Di(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var Bi=function e(){_classCallCheck(this,e)},Qi=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new ro(e);return new Li(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/"+function e(t,n){if(!t.hasChildren())return Wi(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return Di(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=qi(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(Wi(t),"/(").concat(o.join("//"),")")}(e.root,!0)).concat((t=e.queryParams,n=Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(Yi(e),"=").concat(Yi(t))})).join("&"):"".concat(Yi(e),"=").concat(Yi(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"");var t,n}}]),e}(),zi=new Qi;function Wi(e){return e.segments.map((function(e){return Xi(e)})).join("/")}function Gi(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yi(e){return Gi(e).replace(/%3B/gi,";")}function Ki(e){return Gi(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zi(e){return decodeURIComponent(e)}function Ji(e){return Zi(e.replace(/\+/g,"%20"))}function Xi(e){return"".concat(Ki(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(Ki(e),"=").concat(Ki(t[e]))})).join("")));var t}var $i=/^[^\/()?;=#]+/;function eo(e){var t=e.match($i);return t?t[0]:""}var to=/^[^=?&#]+/,no=/^[^?&#]+/,ro=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ui([],{}):new Ui([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Ui(e,t)),n}},{key:"parseSegment",value:function(){var e=eo(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Vi(Zi(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=eo(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=eo(this.remaining);r&&(n=r,this.capture(n))}e[Zi(t)]=Zi(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(to);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(no);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Ji(t),o=Ji(n);if(e.hasOwnProperty(i)){var s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=eo(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new Ui([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),io=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=oo(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=oo(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=so(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return so(e,this._root).map((function(e){return e.value}))}}]),e}();function oo(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=oo(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function so(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=so(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var ao=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function uo(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var co=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).snapshot=r,yo(_assertThisInitialized(i),e),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(io);function lo(e,t){var n=function(e,t){var n=new po([],{},{},"",{},"primary",t,null,e.root,-1,{});return new vo("",new ao(n,[]))}(e,t),r=new rr([new Vi("",{})]),i=new rr({}),o=new rr({}),s=new rr({}),a=new rr(""),u=new ho(r,i,s,a,o,"primary",t,n.root);return u.snapshot=n.root,new co(new ao(u,[]),n)}var ho=function(){function e(t,n,r,i,o,s,a,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=u}return _createClass(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(He.a)((function(e){return ki(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(He.a)((function(e){return ki(e)})))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function fo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var po=function(){function e(t,n,r,i,o,s,a,u,c,l,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=ki(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ki(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),vo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).url=e,yo(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return go(this._root)}}]),n}(io);function yo(e,t){t.value._routerState=e,t.children.forEach((function(t){return yo(e,t)}))}function go(e){var t=e.children.length>0?" { ".concat(e.children.map(go).join(", ")," } "):"";return"".concat(e.value).concat(t)}function mo(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ii(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Ii(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Ii(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Ii(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function _o(e,t){var n,r;return Ii(e.params,t.params)&&Hi(n=e.url,r=t.url)&&n.every((function(e,t){return Ii(e.parameters,r[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||_o(e.parent,t.parent))}function bo(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Co(e,t,n,r,i){var o={};return r&&Di(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return""+e})):""+e})),new Li(n.root===e?t:function e(t,n,r){var i={};return Di(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new Ui(t.segments,i)}(n.root,e,t),o,i)}var wo=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&bo(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==Ri(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),ko=function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function Oo(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function So(e,t,n){if(e||(e=new Ui([],{})),0===e.segments.length&&e.hasChildren())return Eo(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var s=e.segments[i],a=Oo(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!xo(a,u,s))return o;r+=2}else{if(!xo(a,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new Ui(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new Ui(e.segments.slice(r.pathIndex),e.children),Eo(o,0,i)}return r.match&&0===i.length?new Ui(e.segments,{}):r.match&&!e.hasChildren()?To(e,t,n):r.match?Eo(e,0,i):To(e,t,n)}function Eo(e,t,n){if(0===n.length)return new Ui(e.segments,{});var r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return Di(r,(function(n,r){null!==n&&(i[r]=So(e.children[r],t,n))})),Di(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new Ui(e.segments,i)}function To(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Po(n[i].outlets);return new Ui(r,o)}if(0===i&&bo(n[0]))r.push(new Vi(e.segments[t].path,n[0])),i++;else{var s=Oo(n[i]),a=i<n.length-1?n[i+1]:null;s&&a&&bo(a)?(r.push(new Vi(s,Ao(a))),i+=2):(r.push(new Vi(s,{})),i++)}}return new Ui(r,{})}function Po(e){var t={};return Di(e,(function(e,n){null!==e&&(t[n]=To(new Ui([],{}),0,e))})),t}function Ao(e){var t={};return Di(e,(function(e,n){return t[n]=""+e})),t}function xo(e,t,n){return e==n.path&&Ii(t,n.parameters)}var Io=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),mo(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=uo(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),Di(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=uo(e),o=e.value.component?r.children:t;Di(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=uo(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new _i(e.value.snapshot))})),e.children.length&&this.forwardEvent(new gi(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(mo(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),jo(a.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=c,s.outlet&&s.outlet.activateWith(r,c),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function jo(e){mo(e.value),e.children.forEach(jo)}function No(e){return"function"==typeof e}function Ro(e){return e instanceof Li}var Do=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},Fo=function e(t){_classCallCheck(this,e),this.urlTree=t};function Mo(e){return new Ue.a((function(t){return t.error(new Do(e))}))}function Lo(e){return new Ue.a((function(t){return t.error(new Fo(e))}))}function Uo(e){return new Ue.a((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var Vo=function(){function e(t,n,i,o,s){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=i,this.urlTree=o,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(He.a)((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(Rr((function(t){if(t instanceof Fo)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Do)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(Object(He.a)((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(Rr((function(e){if(e instanceof Do)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new Ui([],{primary:e}):e;return new Li(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(He.a)((function(e){return new Ui([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(er.a)({});var o=[],s=[],a={};return Di(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(e,t,c,u)).pipe(Object(He.a)((function(e){return a[i]=e})));"primary"===i?o.push(l):s.push(l)})),er.a.apply(null,o.concat(s)).pipe(vr(),jr(),Object(He.a)((function(){return a})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,o){var s=this;return Object(er.a).apply(void 0,_toConsumableArray(n)).pipe(Object(He.a)((function(a){return s.expandSegmentAgainstRoute(e,t,n,a,r,i,o).pipe(Rr((function(e){if(e instanceof Do)return Object(er.a)(null);throw e})))})),vr(),Vr((function(e){return!!e})),Rr((function(e,n){if(e instanceof ir||"EmptyError"===e.name){if(s.noLeftoversInUrl(t,r,i))return Object(er.a)(new Ui([],{}));throw new Do(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,s){return Qo(r)!==o?Mo(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Mo(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Lo(o):this.lineralizeSegments(n,o).pipe(Object(Hr.a)((function(n){var o=new Ui(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var s=this,a=Ho(t,r,i),u=a.matched,c=a.consumedSegments,l=a.lastChild,h=a.positionalParamSegments;if(!u)return Mo(t);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Lo(f):this.lineralizeSegments(r,f).pipe(Object(Hr.a)((function(r){return s.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(He.a)((function(e){return n._loadedConfig=e,new Ui(r,{})}))):Object(er.a)(new Ui(r,{}));var o=Ho(t,n,r),s=o.matched,a=o.consumedSegments,u=o.lastChild;if(!s)return Mo(t);var c=r.slice(u);return this.getChildConfig(e,n,r).pipe(Object(Hr.a)((function(e){var n=e.module,r=e.routes,o=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return Bo(e,t,n)&&"primary"!==Qo(n)}))}(e,n,r)?{segmentGroup:qo(new Ui(t,function(e,t){var n={};n.primary=t;var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Qo(o)&&(n[Qo(o)]=new Ui([],{}))}}catch(s){i.e(s)}finally{i.f()}return n}(r,new Ui(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return Bo(e,t,n)}))}(e,n,r)?{segmentGroup:qo(new Ui(e.segments,function(e,t,n,r){var i,o={},s=_createForOfIteratorHelper(n);try{for(s.s();!(i=s.n()).done;){var a=i.value;Bo(e,t,a)&&!r[Qo(a)]&&(o[Qo(a)]=new Ui([],{}))}}catch(u){s.e(u)}finally{s.f()}return Object.assign(Object.assign({},r),o)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,a,c,r),s=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&s.hasChildren()?i.expandChildren(n,r,s).pipe(Object(He.a)((function(e){return new Ui(a,e)}))):0===r.length&&0===u.length?Object(er.a)(new Ui(a,{})):i.expandSegment(n,s,r,u,"primary",!0).pipe(Object(He.a)((function(e){return new Ui(a.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Object(er.a)(new Ei(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(er.a)(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?Object(Be.a)(i).pipe(Object(He.a)((function(r){var i,o=e.get(r);if(function(e){return e&&No(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!No(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return Fi(i)}))).pipe(vr(),(r=function(e){return!0===e},function(e){return e.lift(new qr(r,void 0,e))})):Object(er.a)(!0)}(e.injector,t,n).pipe(Object(Hr.a)((function(n){return n?r.configLoader.load(e.injector,t).pipe(Object(He.a)((function(e){return t._loadedConfig=e,e}))):function(e){return new Ue.a((function(t){return t.error(Oi("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):Object(er.a)(new Ei([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(er.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Uo(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new Li(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Di(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),s={};return Di(t.children,(function(t,o){s[o]=i.createSegmentGroup(e,t,n,r)})),new Ui(o,s)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(s){i.e(s)}finally{i.f()}return e}}]),e}();function Ho(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||Si)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function qo(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Ui(e.segments.concat(t.segments),t.children)}return e}function Bo(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Qo(e){return e.outlet||"primary"}var zo=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},Wo=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function Go(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Yo(e,t,n){var r=uo(e),i=e.value;Di(r,(function(e,r){Yo(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new Wo(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var Ko=Symbol("INITIAL_VALUE");function Zo(){return Qr((function(e){return(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return Object(or.a)(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&Object(Ve.a)(t[0])&&(t=t[0]),Object(ur.a)(t,i).lift(new lr(r))}).apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(Mr(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return Object(or.a)(r)?(t.pop(),function(e){return Gr(t,e,r)}):function(e){return Gr(t,e)}}(Ko))})))).pipe(Yr((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==Ko)return e;if(r===Ko&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Ro(r))return r}return e}),e)}),Ko),gr((function(e){return e!==Ko})),Object(He.a)((function(e){return Ro(e)?e:!0===e})),Mr(1))}))}function Jo(e,t){return null!==e&&t&&t(new mi(e)),Object(er.a)(!0)}function Xo(e,t){return null!==e&&t&&t(new yi(e)),Object(er.a)(!0)}function $o(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Object(er.a)(!0);var i=r.map((function(r){return dr((function(){var i,o=Go(r,t,n);if(function(e){return e&&No(e.canActivate)}(o))i=Fi(o.canActivate(t,e));else{if(!No(o))throw new Error("Invalid CanActivate guard");i=Fi(o(t,e))}return i.pipe(Vr())}))}));return Object(er.a)(i).pipe(Zo())}function es(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return dr((function(){var i=t.guards.map((function(i){var o,s=Go(i,t.node,n);if(function(e){return e&&No(e.canActivateChild)}(s))o=Fi(s.canActivateChild(r,e));else{if(!No(s))throw new Error("Invalid CanActivateChild guard");o=Fi(s(r,e))}return o.pipe(Vr())}));return Object(er.a)(i).pipe(Zo())}))}));return Object(er.a)(i).pipe(Zo())}var ts=function e(){_classCallCheck(this,e)},ns=function(){function e(t,n,r,i,o,s){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}return _createClass(e,[{key:"recognize",value:function(){try{var e=os(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new po([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ao(n,t),i=new vo(this.url,r);return this.inheritParamsAndData(i._root),Object(er.a)(i)}catch(o){return new Ue.a((function(e){return e.error(o)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=fo(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=qi(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var s=i.value;try{return this.processSegmentAgainstRoute(s,t,n,r)}catch(a){if(!(a instanceof ts))throw a}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new ts}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new ts;if((e.outlet||"primary")!==r)throw new ts;var i,o=[],s=[];if("**"===e.path){var a=n.length>0?Ri(n).parameters:{};i=new po(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,us(e),r,e.component,e,rs(t),is(t)+n.length,cs(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new ts;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||Si)(n,e,t);if(!r)throw new ts;var i={};Di(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=u.consumedSegments,s=n.slice(u.lastChild),i=new po(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,us(e),r,e.component,e,rs(t),is(t)+o.length,cs(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),l=os(t,o,s,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new ao(i,d)]}if(0===c.length&&0===f.length)return[new ao(i,[])];var p=this.processSegment(c,h,f,"primary");return[new ao(i,p)]}}]),e}();function rs(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function is(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function os(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return ss(e,t,n)&&"primary"!==as(n)}))}(e,n,r)){var o=new Ui(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,s=_createForOfIteratorHelper(n);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(""===a.path&&"primary"!==as(a)){var u=new Ui([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[as(a)]=u}}}catch(c){s.e(c)}finally{s.f()}return i}(e,t,r,new Ui(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return ss(e,t,n)}))}(e,n,r)){var s=new Ui(e.segments,function(e,t,n,r,i,o){var s,a={},u=_createForOfIteratorHelper(r);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(ss(e,n,c)&&!i[as(c)]){var l=new Ui([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===o?e.segments.length:t.length,a[as(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),a)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}var a=new Ui(e.segments,e.children);return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}function ss(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function as(e){return e.outlet||"primary"}function us(e){return e.data||{}}function cs(e){return e.resolve||{}}function ls(e,t,n,r){var i=Go(e,t,r);return Fi(i.resolve?i.resolve(t,n):i(t,n))}function hs(e){return function(t){return t.pipe(Qr((function(t){var n=e(t);return n?Object(Be.a)(n).pipe(Object(He.a)((function(){return t}))):Object(Be.a)([t])})))}}var fs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),ds=new r.q("ROUTES"),ps=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(He.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new Ei(Ni(i.injector.get(ds)).map(xi),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Object(Be.a)(this.loader.load(e)):Fi(e()).pipe(Object(Hr.a)((function(e){return e instanceof r.v?Object(er.a)(e):Object(Be.a)(t.compiler.compileModuleAsync(e))})))}}]),e}(),vs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function ys(e){throw e}function gs(e,t,n){return t.parse("/")}function ms(e,t){return Object(er.a)(null)}var _s,bs,Cs,ws=((Cs=function(){function e(t,n,i,o,s,a,u,c){var l=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new tr.a,this.errorHandler=ys,this.malformedUriErrorHandler=gs,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ms,afterPreactivation:ms},this.urlHandlingStrategy=new vs,this.routeReuseStrategy=new fs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.x),this.console=s.get(r.X);var h=s.get(r.z);this.isNgZoneEnabled=h instanceof r.z,this.resetConfig(c),this.currentUrlTree=new Li(new Ui([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ps(a,u,(function(e){return l.triggerEvent(new pi(e))}),(function(e){return l.triggerEvent(new vi(e))})),this.routerState=lo(this.currentUrlTree,this.rootComponentType),this.transitions=new rr({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(gr((function(e){return 0!==e.id})),Object(He.a)((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),Qr((function(e){var r,i,o,s,a=!1,u=!1;return Object(er.a)(e).pipe(Object(ei.a)((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Qr((function(e){var r,i,o,s,a=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||a)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(er.a)(e).pipe(Qr((function(e){var r=t.transitions.getValue();return n.next(new oi(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?fr.a:[e]})),Qr((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,s=t.config,function(e){return e.pipe(Qr((function(e){return function(e,t,n,r,i){return new Vo(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,s).pipe(Object(He.a)((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),Object(ei.a)((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(Object(Hr.a)((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new ns(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,t.serializeUrl(s)),i,o).pipe(Object(He.a)((function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})})));var s})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Object(ei.a)((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Object(ei.a)((function(e){var r=new ci(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(a&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.id,c=e.extractedUrl,l=e.source,h=e.restoredState,f=e.extras,d=new oi(u,t.serializeUrl(c),l,h);n.next(d);var p=lo(c,t.rootComponentType).snapshot;return Object(er.a)(Object.assign(Object.assign({},e),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),fr.a})),hs((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,s=e.extras,a=s.skipLocationChange,u=s.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),Object(ei.a)((function(e){var n=new li(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),Object(He.a)((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=uo(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=t.value,a=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){var c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Hi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Hi(e.url,t.url)||!Ii(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_o(e,t)||!Ii(e.queryParams,t.queryParams);case"paramsChange":default:return!_o(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new zo(i)):(s.data=a.data,s._resolvedData=a._resolvedData),e(t,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Wo(u&&u.outlet&&u.outlet.component||null,a))}else a&&Yo(n,u,o),o.canActivateChecks.push(new zo(i)),e(t,null,s.component?u?u.children:null:r,i,o)}(t,s[t.value.outlet],r,i.concat([t.value]),o),delete s[t.value.outlet]})),Di(s,(function(e,t){return Yo(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(e,t){return function(n){return n.pipe(Object(Hr.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,s=o.canActivateChecks,a=o.canDeactivateChecks;return 0===a.length&&0===s.length?Object(er.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return Object(Be.a)(e).pipe(Object(Hr.a)((function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(er.a)(!0);var s=o.map((function(o){var s,a=Go(o,t,i);if(function(e){return e&&No(e.canDeactivate)}(a))s=Fi(a.canDeactivate(e,t,n,r));else{if(!No(a))throw new Error("Invalid CanDeactivate guard");s=Fi(a(e,t,n,r))}return s.pipe(Vr())}));return Object(er.a)(s).pipe(Zo())}(e.component,e.route,n,t,r)})),Vr((function(e){return!0!==e}),!0))}(a,r,i,e).pipe(Object(Hr.a)((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return Object(Be.a)(t).pipe(Jr((function(t){return Object(Be.a)([Xo(t.route.parent,r),Jo(t.route,r),es(e,t.path,n),$o(e,t.route,n)]).pipe(vr(),Vr((function(e){return!0!==e}),!0))})),Vr((function(e){return!0!==e}),!0))}(r,s,e,t):Object(er.a)(n)})),Object(He.a)((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Object(ei.a)((function(e){if(Ro(e.guardsResult)){var n=Oi('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Object(ei.a)((function(e){var n=new hi(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),gr((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new ai(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),hs((function(e){if(e.guards.canActivateChecks.length)return Object(er.a)(e).pipe(Object(ei.a)((function(e){var n=new fi(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(Object(Hr.a)((function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?Object(Be.a)(i).pipe(Jr((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Object(er.a)({});if(1===i.length){var o=i[0];return ls(e[o],t,n,r).pipe(Object(He.a)((function(e){return _defineProperty({},o,e)})))}var s={};return Object(Be.a)(i).pipe(Object(Hr.a)((function(i){return ls(e[i],t,n,r).pipe(Object(He.a)((function(e){return s[i]=e,e})))}))).pipe(jr(),Object(He.a)((function(){return s})))}(e._resolve,e,t,r).pipe(Object(He.a)((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),fo(e,n).resolve),null})))}(e.route,t,n,r)})),function(e,t){return arguments.length>=2?function(n){return Object($r.a)(Yr(e,t),Cr(1),Pr(t))(n)}:function(t){return Object($r.a)(Yr((function(t,n,r){return e(t,n,r+1)})),Cr(1))(t)}}((function(e,t){return e})),Object(He.a)((function(t){return e}))):Object(er.a)(e)})))}),Object(ei.a)((function(e){var n=new di(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,r})),hs((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,s=e.extras,a=s.skipLocationChange,u=s.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),Object(He.a)((function(e){var n=function(e,t,n){var r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(t.shouldReuseRoute(s.value.snapshot,n.value))return e(t,n,s)}}catch(a){o.e(a)}finally{o.f()}return e(t,n)}))}(t,n,r);return new ao(i,o)}var s=t.retrieve(n.value);if(s){var a=s.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,a),a}var u,c=new ho(new rr((u=n.value).url),new rr(u.params),new rr(u.queryParams),new rr(u.fragment),new rr(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return e(t,n)}));return new ao(c,l)}(e,t._root,n?n._root:void 0);return new co(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})})),Object(ei.a)((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(i=t.rootContexts,o=t.routeReuseStrategy,s=function(e){return t.triggerEvent(e)},Object(He.a)((function(e){return new Io(o,e.targetRouterState,e.currentRouterState,s).activate(i),e}))),Object(ei.a)({next:function(){a=!0},complete:function(){a=!0}}),(r=function(){if(!a&&!u){t.resetUrlToCurrentUrlTree();var r=new ai(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new ni(r))}),Rr((function(r){if(u=!0,(a=r)&&a.ngNavigationCancelingError){var i=Ro(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new ai(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var s=new ui(e.id,t.serializeUrl(e.extractedUrl),r);n.next(s);try{e.resolve(t.errorHandler(r))}catch(c){e.reject(c)}}var a;return fr.a})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){Ti(e),this.config=e.map(xi),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,i=t.queryParams,o=t.fragment,s=t.preserveQueryParams,a=t.queryParamsHandling,u=t.preserveFragment;Object(r.U)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,r,i){if(0===n.length)return Co(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new wo(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Di(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new wo(n,t,r)}(n);if(o.toRoot())return Co(t.root,new Ui([],{}),t,r,i);var s=function(e,t,n){if(e.isAbsolute)return new ko(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new ko(n.snapshot._urlSegment,!0,0);var r=bo(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new ko(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?Eo(s.segmentGroup,s.index,o.commands):So(s.segmentGroup,s.index,o.commands);return Co(s.segmentGroup,a,t,r,i)}(c,this.currentUrlTree,e,h,l)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Ro(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(Ro(e))return Mi(this.currentUrlTree,e,t);var n=this.parseUrl(e);return Mi(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new si(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,s,a,u=this.getTransition();if(u&&"imperative"!==t&&"imperative"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"hashchange"==t&&"popstate"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"popstate"==t&&"hashchange"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);i?(o=i.resolve,s=i.reject,a=i.promise):a=new Promise((function(e,t){o=e,s=t}));var c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),e}()).\u0275fac=function(e){r.Xb()},Cs.\u0275dir=r.Gb({type:Cs}),Cs),ks=((bs=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"onClick",value:function(){var e={skipLocationChange:Ss(this.skipLocationChange),replaceUrl:Ss(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ss(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ss(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||bs)(r.Lb(ws),r.Lb(ho),r.Vb("tabindex"),r.Lb(r.D),r.Lb(r.l))},bs.\u0275dir=r.Gb({type:bs,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&r.Yb("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),bs),Os=((_s=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof si&&i.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Ss(this.skipLocationChange),replaceUrl:Ss(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ss(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ss(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||_s)(r.Lb(ws),r.Lb(ho),r.Lb(b))},_s.\u0275dir=r.Gb({type:_s,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&r.Yb("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(r.Tb("href",t.href,r.hc),r.Bb("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.yb]}),_s);function Ss(e){return""===e||!!e}var Es,Ts,Ps,As,xs=((Es=function(){function e(t,n,r,i,o){var s=this;_classCallCheck(this,e),this.router=t,this.element=n,this.renderer=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe((function(e){e instanceof si&&s.update()}))}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.links.changes.subscribe((function(t){return e.update()})),this.linksWithHrefs.changes.subscribe((function(t){return e.update()})),this.update()}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter((function(e){return!!e}))}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.classes.forEach((function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}]),e}()).\u0275fac=function(e){return new(e||Es)(r.Lb(ws),r.Lb(r.l),r.Lb(r.D),r.Lb(ks,8),r.Lb(Os,8))},Es.\u0275dir=r.Gb({type:Es,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var i;1&e&&(r.Eb(n,ks,!0),r.Eb(n,Os,!0)),2&e&&(r.dc(i=r.Zb())&&(t.links=i),r.dc(i=r.Zb())&&(t.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.yb]}),Es),Is=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new js,this.attachRef=null},js=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Is,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Ns=((Ts=function(){function e(t,n,i,o,s){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=i,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=o||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Rs(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}()).\u0275fac=function(e){return new(e||Ts)(r.Lb(js),r.Lb(r.O),r.Lb(r.j),r.Vb("name"),r.Lb(r.h))},Ts.\u0275dir=r.Gb({type:Ts,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Ts),Rs=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===ho?this.route:e===js?this.childContexts:this.parent.get(e,t)}}]),e}(),Ds=function e(){_classCallCheck(this,e)},Fs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return Object(er.a)(null)}}]),e}(),Ms=((As=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new ps(n,r,(function(e){return t.triggerEvent(new pi(e))}),(function(e){return t.triggerEvent(new vi(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(gr((function(e){return e instanceof si})),Jr((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(r.x);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(a){i.e(a)}finally{i.f()}return Object(Be.a)(r).pipe(Object(pr.a)(),Object(He.a)((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(Object(Hr.a)((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}()).\u0275fac=function(e){return new(e||As)(r.Ub(ws),r.Ub(r.w),r.Ub(r.i),r.Ub(r.r),r.Ub(Ds))},As.\u0275prov=r.Hb({token:As,factory:As.\u0275fac}),As),Ls=((Ps=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof oi?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof si&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof bi&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new bi(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){r.Xb()},Ps.\u0275dir=r.Gb({type:Ps}),Ps),Us=new r.q("ROUTER_CONFIGURATION"),Vs=new r.q("ROUTER_FORROOT_GUARD"),Hs=[P,{provide:Bi,useClass:Qi},{provide:ws,useFactory:function(e,t,n,r,i,o,a){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new ws(null,e,t,n,r,i,o,Ni(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=s();h.events.subscribe((function(e){f.logGroup("Router Event: "+e.constructor.name),f.log(e.toString()),f.log(e),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Bi,js,P,r.r,r.w,r.i,ds,Us,[function(){return function e(){_classCallCheck(this,e)}}(),new r.A],[function(){return function e(){_classCallCheck(this,e)}}(),new r.A]]},js,{provide:ho,useFactory:function(e){return e.routerState.root},deps:[ws]},{provide:r.w,useClass:r.J},Ms,Fs,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(Rr((function(){return Object(er.a)(null)})))}}]),e}(),{provide:Us,useValue:{enableTracing:!1}}];function qs(){return new r.y("Router",ws)}var Bs,Qs=((Bs=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Hs,Ys(t),{provide:Vs,useFactory:Gs,deps:[[ws,new r.A,new r.I]]},{provide:Us,useValue:n||{}},{provide:b,useFactory:Ws,deps:[c,[new r.p(S),new r.A],Us]},{provide:Ls,useFactory:zs,deps:[ws,te,Us]},{provide:Ds,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Fs},{provide:r.y,multi:!0,useFactory:qs},[Zs,{provide:r.d,multi:!0,useFactory:Js,deps:[Zs]},{provide:ia,useFactory:Xs,deps:[Zs]},{provide:r.b,multi:!0,useExisting:ia}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[Ys(t)]}}}]),e}()).\u0275mod=r.Jb({type:Bs}),Bs.\u0275inj=r.Ib({factory:function(e){return new(e||Bs)(r.Ub(Vs,8),r.Ub(ws,8))}}),Bs);function zs(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Ls(e,t,n)}function Ws(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new T(e,t):new E(e,t)}function Gs(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ys(e){return[{provide:r.a,multi:!0,useValue:e},{provide:ds,multi:!0,useValue:e}]}var Ks,Zs=((Ks=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new tr.a}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(f,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(ws),i=e.injector.get(Us);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?Object(er.a)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Us),n=this.injector.get(Ms),i=this.injector.get(Ls),o=this.injector.get(ws),s=this.injector.get(r.g);e===s.components[0]&&(this.isLegacyEnabled(t)?o.initialNavigation():this.isLegacyDisabled(t)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}()).\u0275fac=function(e){return new(e||Ks)(r.Ub(r.r))},Ks.\u0275prov=r.Hb({token:Ks,factory:Ks.\u0275fac}),Ks);function Js(e){return e.appInitializer.bind(e)}function Xs(e){return e.bootstrapListener.bind(e)}var $s,ea,ta,na,ra,ia=new r.q("Router Initializer"),oa=n("jifJ"),sa=n("7RJT"),aa=n("+Zhm"),ua=n("ds6q"),ca=function(){var e={Subject:0,BehaviorSubject:1,ReplaySubject:2};return e[e.Subject]="Subject",e[e.BehaviorSubject]="BehaviorSubject",e[e.ReplaySubject]="ReplaySubject",e}(),la=((ra=function(){function e(){_classCallCheck(this,e),this.eventObservableMapping={}}return _createClass(e,[{key:"publishEvent",value:function(e,t){this.validateEventName(e),this.createSubjectIfNotExist(e),this.publishNext(e,ca.Subject,t)}},{key:"subscribe",value:function(e,t,n,r){return this.validateEventName(e),this.createSubjectIfNotExist(e),this.eventObservableMapping[e].ref.subscribe(t,n,r)}},{key:"getEventObservable",value:function(e){return this.validateEventName(e),this.createSubjectIfNotExist(e),this.eventObservableMapping[e].ref.asObservable()}},{key:"registerEventWithLastValue",value:function(e,t){this.validateEventName(e),this.checkEventType(e,ca.BehaviorSubject,!0),this.eventObservableMapping[e]={type:ca.BehaviorSubject,ref:new sa.BehaviorSubject(t)}}},{key:"registerEventWithHistory",value:function(e,t,n,r){this.validateEventName(e),this.checkEventType(e,ca.ReplaySubject,!0),this.eventObservableMapping[e]={type:ca.ReplaySubject,ref:new aa.ReplaySubject(t,n,r)}}},{key:"publishWithLast",value:function(e,t){this.validateEventName(e),this.publishNext(e,ca.BehaviorSubject,t)}},{key:"publishWithHistory",value:function(e,t){this.validateEventName(e),this.publishNext(e,ca.ReplaySubject,t)}},{key:"completeEvent",value:function(e){if(this.validateEventName(e),!this.eventObservableMapping[e])throw Error("Event not created yet");this.completeObservableAndDestroyMapping(e)}},{key:"ngOnDestroy",value:function(){for(var e in this.eventObservableMapping)this.eventObservableMapping.hasOwnProperty(e)&&this.completeObservableAndDestroyMapping(e)}},{key:"publishNext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ca.Subject,n=arguments.length>2?arguments[2]:void 0;this.checkEventType(e,t),this.eventObservableMapping[e].ref.next(n)}},{key:"checkEventType",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ca.Subject,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.eventObservableMapping[e];if((i||!r)&&(i?i.type!==n&&(t="Event exists with other type: ".concat(ca[i.type],". Expected type: ").concat(ca[n])):t="Event doesn't exist of type: ".concat(ca[n]," or it has been completed"),r&&i.type===n&&(t="Event already registerd with the same type. Don't register a second time"),t))throw Error("Error (".concat(e,"): ").concat(t))}},{key:"createSubjectIfNotExist",value:function(e){this.eventObservableMapping[e]||(this.eventObservableMapping[e]={type:ca.Subject,ref:new ua.Subject})}},{key:"validateEventName",value:function(e){if(!e)throw Error("Event name not provided")}},{key:"completeObservableAndDestroyMapping",value:function(e){this.eventObservableMapping[e].ref.complete(),delete this.eventObservableMapping[e]}}]),e}()).\u0275fac=function(e){return new(e||ra)},ra.\u0275prov=r.Hb({token:ra,factory:ra.\u0275fac}),ra),ha=((na=function e(){_classCallCheck(this,e)}).\u0275mod=r.Jb({type:na}),na.\u0275inj=r.Ib({factory:function(e){return new(e||na)},providers:[la],imports:[[Y]]}),na),fa=((ta=function(){function e(t){_classCallCheck(this,e),this.eventService=t}return _createClass(e,[{key:"initConnection",value:function(){var e=this,t=localStorage.getItem("userToken");this.socket=Object(oa.io)(i.BaseURL,{query:{token:t},reconnection:!1}),this.socket.on("connect",(function(){e.bindSocketEvents()}))}},{key:"bindSocketEvents",value:function(){var e=this;console.log("Connected..."),this.socket.on("reply",(function(t){e.eventService.publishEvent("onreply",t)})),this.socket.on("alert-resolved",(function(t){e.eventService.publishEvent("alert-resolved",t)}))}}]),e}()).\u0275fac=function(e){return new(e||ta)(r.Ub(la))},ta.\u0275prov=r.Hb({token:ta,factory:ta.\u0275fac,providedIn:"root"}),ta),da=((ea=function(){function e(t){_classCallCheck(this,e),this._socket=t,this.userId=null,this.userData=null}return _createClass(e,[{key:"isLoggedIn",value:function(){return!!localStorage.getItem("userToken")}},{key:"setToken",value:function(e){this.removeToken(),localStorage.setItem("userToken",e),this._socket.initConnection()}},{key:"getToken",value:function(){return localStorage.getItem("userToken")}},{key:"setUserId",value:function(e){this.userId=e,localStorage.setItem("userId",e)}},{key:"removeToken",value:function(){localStorage.removeItem("userToken"),this.userId=null}}]),e}()).\u0275fac=function(e){return new(e||ea)(r.Ub(fa))},ea.\u0275prov=r.Hb({token:ea,factory:ea.\u0275fac,providedIn:"root"}),ea),pa=(($s=function(){function e(t){_classCallCheck(this,e),this.authService=t}return _createClass(e,[{key:"canActivate",value:function(e,t){return this.authService.isLoggedIn()}}]),e}()).\u0275fac=function(e){return new(e||$s)(r.Ub(da))},$s.\u0275prov=r.Hb({token:$s,factory:$s.\u0275fac,providedIn:"root"}),$s),va=n("mrSG"),ya=function e(){_classCallCheck(this,e)},ga=function e(){_classCallCheck(this,e)},ma=function(){function e(t){var n=this;_classCallCheck(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(t).forEach((function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))}))}:this.headers=new Map}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var o=this.headers.get(t);if(!o)return;0===(o=o.filter((function(e){return-1===i.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))}}]),e}(),_a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encodeKey",value:function(e){return ba(e)}},{key:"encodeValue",value:function(e){return ba(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function ba(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Ca=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new _a,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){var n=new Map;return e.length>0&&e.split("&").forEach((function(e){var r=e.indexOf("="),i=_slicedToArray(-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],2),o=i[0],s=i[1],a=n.get(o)||[];a.push(s),n.set(o,a)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(e){var r=n.fromObject[e];t.map.set(e,Array.isArray(r)?r:[r])}))):this.map=null}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).filter((function(e){return""!==e})).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)}}]),e}();function wa(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function ka(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Oa(e){return"undefined"!=typeof FormData&&e instanceof FormData}var Sa=function(){function e(t,n,r,i){var o;if(_classCallCheck(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new ma),this.params){var s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{var a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Ca,this.urlWithParams=n}return _createClass(e,[{key:"serializeBody",value:function(){return null===this.body?null:wa(this.body)||ka(this.body)||Oa(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ca?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Oa(this.body)?null:ka(this.body)?this.body.type||null:wa(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ca?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,u=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),c)),new e(n,r,o,{params:c,headers:u,reportProgress:a,responseType:i,withCredentials:s})}}]),e}(),Ea=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}(),Ta=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,e),this.headers=t.headers||new ma,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},Pa=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=Ea.ResponseHeader,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Ta),Aa=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=Ea.Response,e.body=void 0!==r.body?r.body:null,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Ta),xa=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return n}(Ta);function Ia(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var ja,Na,Ra,Da,Fa,Ma,La,Ua,Va,Ha,qa=((ja=function(){function e(t){_classCallCheck(this,e),this.handler=t}return _createClass(e,[{key:"request",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof Sa)n=e;else{var o=void 0;o=i.headers instanceof ma?i.headers:new ma(i.headers);var s=void 0;i.params&&(s=i.params instanceof Ca?i.params:new Ca({fromObject:i.params})),n=new Sa(e,t,void 0!==i.body?i.body:null,{headers:o,params:s,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var a=Object(er.a)(n).pipe(Jr((function(e){return r.handler.handle(e)})));if(e instanceof Sa||"events"===i.observe)return a;var u=a.pipe(gr((function(e){return e instanceof Aa})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(He.a)((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return u.pipe(Object(He.a)((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return u.pipe(Object(He.a)((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return u.pipe(Object(He.a)((function(e){return e.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new Ca).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,Ia(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,Ia(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,Ia(n,t))}}]),e}()).\u0275fac=function(e){return new(e||ja)(r.Ub(ya))},ja.\u0275prov=r.Hb({token:ja,factory:ja.\u0275fac}),ja),Ba=function(){function e(t,n){_classCallCheck(this,e),this.next=t,this.interceptor=n}return _createClass(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),Qa=new r.q("HTTP_INTERCEPTORS"),za=((Na=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||Na)},Na.\u0275prov=r.Hb({token:Na,factory:Na.\u0275fac}),Na),Wa=/^\)\]\}',?\n/,Ga=function e(){_classCallCheck(this,e)},Ya=((Da=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}()).\u0275fac=function(e){return new(e||Da)},Da.\u0275prov=r.Hb({token:Da,factory:Da.\u0275fac}),Da),Ka=((Ra=function(){function e(t){_classCallCheck(this,e),this.xhrFactory=t}return _createClass(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new Ue.a((function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((function(e,t){return r.setRequestHeader(e,t.join(","))})),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var s=e.serializeBody(),a=null,u=function(){if(null!==a)return a;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new ma(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new Pa({headers:i,status:t,statusText:n,url:o})},c=function(){var t=u(),i=t.headers,o=t.status,s=t.statusText,a=t.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof c){var h=c;c=c.replace(Wa,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new Aa({body:c,headers:i,status:o,statusText:s,url:a||void 0})),n.complete()):n.error(new xa({error:c,headers:i,status:o,statusText:s,url:a||void 0}))},l=function(e){var t=u().url,i=new xa({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},h=!1,f=function(t){h||(n.next(u()),h=!0);var i={type:Ea.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(e){var t={type:Ea.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",c),r.addEventListener("error",l),e.reportProgress&&(r.addEventListener("progress",f),null!==s&&r.upload&&r.upload.addEventListener("progress",d)),r.send(s),n.next({type:Ea.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),e.reportProgress&&(r.removeEventListener("progress",f),null!==s&&r.upload&&r.upload.removeEventListener("progress",d)),r.abort()}}))}}]),e}()).\u0275fac=function(e){return new(e||Ra)(r.Ub(Ga))},Ra.\u0275prov=r.Hb({token:Ra,factory:Ra.\u0275fac}),Ra),Za=new r.q("XSRF_COOKIE_NAME"),Ja=new r.q("XSRF_HEADER_NAME"),Xa=function e(){_classCallCheck(this,e)},$a=((Ha=function(){function e(t,n,r){_classCallCheck(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=F(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}()).\u0275fac=function(e){return new(e||Ha)(r.Ub(u),r.Ub(r.B),r.Ub(Za))},Ha.\u0275prov=r.Hb({token:Ha,factory:Ha.\u0275fac}),Ha),eu=((Va=function(){function e(t,n){_classCallCheck(this,e),this.tokenService=t,this.headerName=n}return _createClass(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||Va)(r.Ub(Xa),r.Ub(Ja))},Va.\u0275prov=r.Hb({token:Va,factory:Va.\u0275fac}),Va),tu=((Ua=function(){function e(t,n){_classCallCheck(this,e),this.backend=t,this.injector=n,this.chain=null}return _createClass(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(Qa,[]);this.chain=t.reduceRight((function(e,t){return new Ba(e,t)}),this.backend)}return this.chain.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||Ua)(r.Ub(ga),r.Ub(r.r))},Ua.\u0275prov=r.Hb({token:Ua,factory:Ua.\u0275fac}),Ua),nu=((La=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:eu,useClass:za}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:Za,useValue:t.cookieName}:[],t.headerName?{provide:Ja,useValue:t.headerName}:[]]}}}]),e}()).\u0275mod=r.Jb({type:La}),La.\u0275inj=r.Ib({factory:function(e){return new(e||La)},providers:[eu,{provide:Qa,useExisting:eu,multi:!0},{provide:Xa,useClass:$a},{provide:Za,useValue:"XSRF-TOKEN"},{provide:Ja,useValue:"X-XSRF-TOKEN"}]}),La),ru=((Ma=function e(){_classCallCheck(this,e)}).\u0275mod=r.Jb({type:Ma}),Ma.\u0275inj=r.Ib({factory:function(e){return new(e||Ma)},providers:[qa,{provide:ya,useClass:tu},Ka,{provide:ga,useExisting:Ka},Ya,{provide:Ga,useExisting:Ya}],imports:[[nu.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Ma),iu=((Fa=function(){function e(t,n,r){if(_classCallCheck(this,e),this.http=t,this.auth=n,this.router=r,this.httpOptions={headers:new ma({"Content-Type":"application/json"})},this.auth.isLoggedIn()){this.updateHeaderToken(this.auth.getToken());var i=localStorage.getItem("userId");i&&(this.auth.userId=i)}}return _createClass(e,[{key:"get",value:function(e){return this.http.get(i.ApiURL+e,this.httpOptions)}},{key:"post",value:function(e,t){return this.http.post(i.ApiURL+e,t,this.httpOptions)}},{key:"put",value:function(e,t){return this.http.put(i.ApiURL+e,t,this.httpOptions)}},{key:"delete",value:function(e){return this.http.delete(i.ApiURL+e,this.httpOptions)}},{key:"updateHeaderToken",value:function(e){this.auth.setToken(e),this.httpOptions.headers=this.httpOptions.headers.delete("Authorization"),this.httpOptions.headers=this.httpOptions.headers.append("Authorization",e)}},{key:"navigate",value:function(e){this.router.navigate([e])}}]),e}()).\u0275fac=function(e){return new(e||Fa)(r.Ub(qa),r.Ub(da),r.Ub(ws))},Fa.\u0275prov=r.Hb({token:Fa,factory:Fa.\u0275fac,providedIn:"root"}),Fa),ou=["newMessageDom"],su=["chatSection"],au=["chatImageInput"];function uu(e,t){if(1&e){var n=r.Rb();r.Qb(0,"div",15),r.Yb("click",(function(){r.fc(n);var e=t.$implicit;return r.ac(3).selectAlert(e)})),r.Qb(1,"span",16),r.mc(2),r.Pb(),r.Qb(3,"div",17),r.Qb(4,"p"),r.mc(5),r.Pb(),r.Pb(),r.Pb()}if(2&e){var i=t.$implicit,o=r.ac(3);r.Db("active",o.selectedAlert==i),r.Ab(2),r.nc(i.chatData.length),r.Ab(3),r.nc(i.infoData.alertType)}}function cu(e,t){if(1&e&&(r.Qb(0,"div",11),r.Qb(1,"label",12),r.mc(2,"Select Alert"),r.Pb(),r.Qb(3,"div",13),r.kc(4,uu,6,4,"div",14),r.Pb(),r.Pb()),2&e){var n=r.ac(2);r.Ab(4),r.bc("ngForOf",n.allAlertData)}}function lu(e,t){1&e&&(r.Qb(0,"div",18),r.mc(1," No Alerts Found!"),r.Qb(2,"a",19),r.mc(3,"Create New"),r.Pb(),r.Pb())}function hu(e,t){if(1&e&&(r.Qb(0,"option",32),r.mc(1),r.Pb()),2&e){var n=t.$implicit;r.bc("value",t.index),r.Ab(1),r.pc(" Lat: ",n.lat,", Long: ",n.long," ")}}function fu(e,t){if(1&e&&(r.Qb(0,"option",32),r.mc(1),r.Pb()),2&e){var n=r.ac().$implicit;r.bc("value",n._id),r.Ab(1),r.oc(" ",n.sTitle," ")}}function du(e,t){if(1&e&&(r.Ob(0),r.kc(1,fu,2,2,"option",34),r.Nb()),2&e){var n=t.$implicit,i=r.ac(4);r.Ab(1),r.bc("ngIf",n.sTitle!=i.selectedAlert.infoData.alertType)}}function pu(e,t){if(1&e){var n=r.Rb();r.Qb(0,"div",20),r.Qb(1,"select",21),r.Yb("change",(function(e){return r.fc(n),r.ac(3).updateAlertType(e.target.value)})),r.Qb(2,"option",22),r.mc(3,"Change Alert Type"),r.Pb(),r.kc(4,du,2,1,"ng-container",33),r.Pb(),r.Pb()}if(2&e){var i=r.ac(3);r.Ab(4),r.bc("ngForOf",i.allAlertCategories)}}function vu(e,t){if(1&e&&(r.Qb(0,"span"),r.mc(1),r.Pb()),2&e){var n=r.ac().$implicit;r.Ab(1),r.oc(" ",n.message,"")}}function yu(e,t){if(1&e&&(r.Qb(0,"span"),r.Mb(1,"img",38),r.Pb()),2&e){var n=r.ac().$implicit;r.Ab(1),r.bc("src",n.imageUrl,r.hc)}}function gu(e,t){if(1&e&&(r.Qb(0,"div"),r.mc(1),r.Qb(2,"p",37),r.kc(3,vu,2,1,"span",0),r.kc(4,yu,2,1,"span",0),r.Pb(),r.Pb()),2&e){var n=t.$implicit;r.Ab(1),r.oc(" ","user"!=n.sender?"Dispacher: ":""," "),r.Ab(1),r.bc("ngClass","user"==n.sender?"me":"disp"),r.Ab(1),r.bc("ngIf","text"==(null==n?null:n.type)),r.Ab(1),r.bc("ngIf","image"==(null==n?null:n.type))}}function mu(e,t){if(1&e&&(r.Qb(0,"div",35,36),r.kc(2,gu,5,4,"div",33),r.Pb()),2&e){var n=r.ac(3);r.Ab(2),r.bc("ngForOf",n.selectedAlert.chatData)}}function _u(e,t){if(1&e){var n=r.Rb();r.Ob(0),r.Qb(1,"div",20),r.Qb(2,"select",21),r.Yb("change",(function(e){return r.fc(n),r.ac(2).updateLatLong(e.target.value)})),r.Qb(3,"option",22),r.mc(4,"Select Lat Long"),r.Pb(),r.kc(5,hu,2,3,"option",23),r.Pb(),r.Pb(),r.kc(6,pu,5,1,"div",24),r.kc(7,mu,3,1,"div",25),r.Qb(8,"div",26),r.Qb(9,"input",27,28),r.Yb("change",(function(e){return r.fc(n),r.ac(2).onFileSelected(e.target.files)})),r.Pb(),r.Qb(11,"textarea",29,30),r.Yb("ngModelChange",(function(e){return r.fc(n),r.ac(2).newMessage=e})),r.Pb(),r.Qb(13,"button",31),r.Yb("click",(function(){return r.fc(n),r.ac(2).sendMessage()})),r.mc(14,"Send"),r.Pb(),r.Pb(),r.Nb()}if(2&e){var i=r.ac(2);r.Ab(5),r.bc("ngForOf",i.latLongArray),r.Ab(1),r.bc("ngIf",null==i.allAlertCategories?null:i.allAlertCategories.length),r.Ab(1),r.bc("ngIf",null==i.selectedAlert||null==i.selectedAlert.chatData?null:i.selectedAlert.chatData.length),r.Ab(2),r.bc("disabled",null==i.newMessage?null:i.newMessage.length),r.Ab(2),r.bc("ngModel",i.newMessage)("disabled",null==i.newFiles?null:i.newFiles.length)}}function bu(e,t){if(1&e&&(r.Ob(0),r.kc(1,cu,5,1,"div",9),r.kc(2,lu,4,0,"ng-template",null,10,r.lc),r.kc(4,_u,15,6,"ng-container",0),r.Nb()),2&e){var n=r.ec(3),i=r.ac();r.Ab(1),r.bc("ngIf",null==i.allAlertData?null:i.allAlertData.length)("ngIfElse",n),r.Ab(3),r.bc("ngIf",2===i.step&&i.selectedAlert)}}var Cu,wu=((Cu=function(){function e(t){_classCallCheck(this,e),this._http=t,this.processing=!1,this.allAlertData=[],this.selectedAlert=[],this.step=1,this.latLongArray=[{lat:20.08,long:72.5},{lat:21.08,long:72.5},{lat:22.08,long:72.5},{lat:23.08,long:72.5},{lat:23.07,long:72.48},{lat:23.09,long:72.51},{lat:23.1,long:72.512},{lat:23.11,long:72.52}],this.allAlertCategories=[],this.newMessage="",this.newFiles=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this._http.auth.isLoggedIn()||this._http.navigate("/"),this.init()}},{key:"init",value:function(){var e=this;this.processing=!0,this._http.get("alerts/user/list/"+this._http.auth.userId).subscribe((function(t){e.allAlertData=[].concat(t.data),e.processing=!1}),(function(t){console.log("Error in fetching alerts data: ",t),e.processing=!1})),this.bindEvents()}},{key:"updateLatLong",value:function(e){this._http.auth._socket.socket.emit("updateAlertData",{_id:this.selectedAlert.infoData._id,body:{position:this.latLongArray[e]}})}},{key:"onFileSelected",value:function(e){e&&e.length&&(this.newFiles=e)}},{key:"bindEvents",value:function(){var e=this;this._http.auth._socket.eventService.subscribe("onreply",(function(t){var n=e.allAlertData.findIndex((function(e){return e.infoData._id==t.alertId}));n>=0&&(e.allAlertData[n].chatData.push(t.chatData),e.allAlertData.indexOf(e.selectedAlert)==n&&(e.selectedAlert=e.allAlertData[n],setTimeout((function(){e.chatSection.nativeElement.scrollTop=e.chatSection.nativeElement.scrollHeight}),50)))})),this._http.auth._socket.eventService.subscribe("alert-resolved",(function(t){if(e.selectedAlert&&e.selectedAlert.infoData&&e.selectedAlert.infoData._id==t)document.getElementById("modalBtn").click();else{var n=e.allAlertData.findIndex((function(e){return e.infoData._id==t}));n>=0&&e.allAlertData.splice(n,1)}}))}},{key:"resolveAlert",value:function(){var e=this.allAlertData.indexOf(this.selectedAlert);e>=0&&this.allAlertData.splice(e,1),this.selectedAlert=null,document.getElementById("modalBtn").click()}},{key:"unresolveAlert",value:function(){this._http.auth._socket.socket.emit("unresolve-alert",this.selectedAlert.infoData._id),document.getElementById("modalBtn").click()}},{key:"selectAlert",value:function(e){return Object(va.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.selectedAlert=e,this.step=2,t.t0=this.allAlertCategories&&this.allAlertCategories.length,t.t0){t.next=6;break}return t.next=6,this.getAlertCategories();case 6:setTimeout((function(){n.newMessageDom&&n.newMessageDom.nativeElement.addEventListener("keyup",(function(e){13==e.keyCode&&(e.preventDefault(),n.sendMessage())})),n.chatSection&&n.chatSection.nativeElement&&(n.chatSection.nativeElement.scrollTop=n.chatSection.nativeElement.scrollHeight)}),100);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"updateAlertType",value:function(e){this._http.auth._socket.socket.emit("updateAlertData",{_id:this.selectedAlert.infoData._id,body:{alertCategoryId:e}});var t=this.allAlertCategories.findIndex((function(t){return t._id==e})),n=this.allAlertCategories[t],r=this.allAlertData.indexOf(this.selectedAlert);this.allAlertData[r].infoData.alertType=n.sTitle,this.selectedAlert=this.allAlertData[r]}},{key:"getAlertCategories",value:function(){var e=this;return new Promise((function(t){e._http.get("alert-category/list-enabled").subscribe((function(n){e.allAlertCategories=[].concat(n.data),t(!0)}),(function(e){t(!1)}))}))}},{key:"sendMessage",value:function(){if(this.newMessage.trim())this.sendTextMessage();else if(this.newFiles.length){var e,t=_createForOfIteratorHelper(this.newFiles);try{for(t.s();!(e=t.n()).done;){var n=e.value;this._http.auth._socket.socket.emit("sendmessage",{alertId:this.selectedAlert.infoData._id,userId:this._http.auth.userId,type:"image",sContentType:n.type,fileObj:n})}}catch(r){t.e(r)}finally{t.f()}this.newFiles=[],this.chatImageInput.nativeElement.value=null}}},{key:"sendTextMessage",value:function(){this._http.auth._socket.socket.emit("sendmessage",{alertId:this.selectedAlert.infoData._id,from:this._http.auth.userId,message:this.newMessage,type:"text",userId:this._http.auth.userId}),this.newMessage=""}}]),e}()).\u0275fac=function(e){return new(e||Cu)(r.Lb(iu))},Cu.\u0275cmp=r.Fb({type:Cu,selectors:[["app-chat"]],viewQuery:function(e,t){var n;1&e&&(r.rc(ou,!0),r.rc(su,!0),r.rc(au,!0)),2&e&&(r.dc(n=r.Zb())&&(t.newMessageDom=n.first),r.dc(n=r.Zb())&&(t.chatSection=n.first),r.dc(n=r.Zb())&&(t.chatImageInput=n.first))},decls:13,vars:2,consts:[[4,"ngIf"],["data-toggle","modal","data-target","#alert-resolved-modal","id","modalBtn",2,"display","none"],["id","alert-resolved-modal",1,"modal"],["alertResolvedModal",""],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"],["class","col-md-12",4,"ngIf","ngIfElse"],["noDataBlock",""],[1,"col-md-12"],[1,"control-label"],[1,"row"],["class","card alert-card col-md-3 ml-3",3,"active","click",4,"ngFor","ngForOf"],[1,"card","alert-card","col-md-3","ml-3",3,"click"],[1,"badge","badge-danger","counter"],[1,"card-body"],[1,"col-md-12","mt-5","text-center"],["href","#","routerLink","/dashboard/create-alert"],[1,"col-md-12","mt-3"],[1,"form-control",3,"change"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["class","col-md-12 mt-3",4,"ngIf"],["class","chat-section mt-3 border",4,"ngIf"],[1,"send-section","mt-3"],["type","file","accept","image/*","multiple","",1,"form-control",3,"disabled","change"],["chatImageInput",""],["placeholder","Enter New Message",1,"form-control","mt-2",3,"ngModel","disabled","ngModelChange"],["newMessageDom",""],[1,"btn","btn-sm","btn-primary","mt-2",3,"click"],[3,"value"],[4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],[1,"chat-section","mt-3","border"],["chatSection",""],[3,"ngClass"],["alt","Chat Image","height","100","width","auto",3,"src"]],template:function(e,t){1&e&&(r.kc(0,bu,5,3,"ng-container",0),r.Mb(1,"button",1),r.Qb(2,"div",2,3),r.Qb(4,"div",4),r.Qb(5,"div",5),r.Qb(6,"div",6),r.Qb(7,"p"),r.mc(8),r.Pb(),r.Qb(9,"button",7),r.Yb("click",(function(){return t.resolveAlert()})),r.mc(10,"Yes This alert has been resolved"),r.Pb(),r.Qb(11,"button",8),r.Yb("click",(function(){return t.unresolveAlert()})),r.mc(12,"No i still need help!"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e&&(r.bc("ngIf",!t.processing),r.Ab(8),r.oc("Alert ",null==t.selectedAlert||null==t.selectedAlert.infoData?null:t.selectedAlert.infoData.alertType," has been marked as resolved from dispatcher."))},directives:[Q,q,Os,Ht,Gt,et,ct,Nn,V],styles:[".chat-section[_ngcontent-%COMP%]{padding:15px 20px;max-height:260px;overflow-y:auto}.chat-section[_ngcontent-%COMP%]   .me[_ngcontent-%COMP%]{background:#6495ed;color:#fff;padding:10px;text-align:right}.chat-section[_ngcontent-%COMP%]   .disp[_ngcontent-%COMP%]{background:#5f9ea0;color:#fff;padding:10px;text-align:left}.alert-card[_ngcontent-%COMP%]{cursor:pointer;padding:0;position:relative;display:inline-block}.alert-card.active[_ngcontent-%COMP%], .alert-card[_ngcontent-%COMP%]:hover{background:#95c8d8;color:#fff}.alert-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{text-align:center}.alert-card[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{float:right}"]}),Cu);function ku(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function Ou(e){return{type:6,styles:e,offset:null}}function Su(e,t,n){return{type:0,name:e,styles:t,options:n}}function Eu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}var Tu=["toast-component",""];function Pu(e,t){if(1&e){var n=r.Rb();r.Qb(0,"button",5),r.Yb("click",(function(){return r.fc(n),r.ac().remove()})),r.Qb(1,"span",6),r.mc(2,"\xd7"),r.Pb(),r.Pb()}}function Au(e,t){if(1&e&&(r.Ob(0),r.mc(1),r.Nb()),2&e){var n=r.ac(2);r.Ab(1),r.oc("[",n.duplicatesCount+1,"]")}}function xu(e,t){if(1&e&&(r.Qb(0,"div"),r.mc(1),r.kc(2,Au,2,1,"ng-container",4),r.Pb()),2&e){var n=r.ac();r.Cb(n.options.titleClass),r.Bb("aria-label",n.title),r.Ab(1),r.oc(" ",n.title," "),r.Ab(1),r.bc("ngIf",n.duplicatesCount)}}function Iu(e,t){if(1&e&&r.Mb(0,"div",7),2&e){var n=r.ac();r.Cb(n.options.messageClass),r.bc("innerHTML",n.message,r.gc)}}function ju(e,t){if(1&e&&(r.Qb(0,"div",8),r.mc(1),r.Pb()),2&e){var n=r.ac();r.Cb(n.options.messageClass),r.Bb("aria-label",n.message),r.Ab(1),r.oc(" ",n.message," ")}}function Nu(e,t){if(1&e&&(r.Qb(0,"div"),r.Mb(1,"div",9),r.Pb()),2&e){var n=r.ac();r.Ab(1),r.jc("width",n.width+"%")}}function Ru(e,t){if(1&e){var n=r.Rb();r.Qb(0,"button",5),r.Yb("click",(function(){return r.fc(n),r.ac().remove()})),r.Qb(1,"span",6),r.mc(2,"\xd7"),r.Pb(),r.Pb()}}function Du(e,t){if(1&e&&(r.Ob(0),r.mc(1),r.Nb()),2&e){var n=r.ac(2);r.Ab(1),r.oc("[",n.duplicatesCount+1,"]")}}function Fu(e,t){if(1&e&&(r.Qb(0,"div"),r.mc(1),r.kc(2,Du,2,1,"ng-container",4),r.Pb()),2&e){var n=r.ac();r.Cb(n.options.titleClass),r.Bb("aria-label",n.title),r.Ab(1),r.oc(" ",n.title," "),r.Ab(1),r.bc("ngIf",n.duplicatesCount)}}function Mu(e,t){if(1&e&&r.Mb(0,"div",7),2&e){var n=r.ac();r.Cb(n.options.messageClass),r.bc("innerHTML",n.message,r.gc)}}function Lu(e,t){if(1&e&&(r.Qb(0,"div",8),r.mc(1),r.Pb()),2&e){var n=r.ac();r.Cb(n.options.messageClass),r.Bb("aria-label",n.message),r.Ab(1),r.oc(" ",n.message," ")}}function Uu(e,t){if(1&e&&(r.Qb(0,"div"),r.Mb(1,"div",9),r.Pb()),2&e){var n=r.ac();r.Ab(1),r.jc("width",n.width+"%")}}var Vu,Hu,qu,Bu,Qu,zu,Wu,Gu,Yu,Ku=function(){function e(t,n,r,i,o,s){var a=this;_classCallCheck(this,e),this.toastId=t,this.config=n,this.message=r,this.title=i,this.toastType=o,this.toastRef=s,this._onTap=new tr.a,this._onAction=new tr.a,this.toastRef.afterClosed().subscribe((function(){a._onAction.complete(),a._onTap.complete()}))}return _createClass(e,[{key:"triggerTap",value:function(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}},{key:"onTap",value:function(){return this._onTap.asObservable()}},{key:"triggerAction",value:function(e){this._onAction.next(e)}},{key:"onAction",value:function(){return this._onAction.asObservable()}}]),e}(),Zu={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Ju=new r.q("ToastConfig"),Xu=function(){function e(t,n){_classCallCheck(this,e),this.component=t,this.injector=n}return _createClass(e,[{key:"attach",value:function(e,t){return this._attachedHost=e,e.attach(this,t)}},{key:"detach",value:function(){var e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(e){this._attachedHost=e}}]),e}(),$u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._hostDomElement=e,o._componentFactoryResolver=r,o._appRef=i,o}return _createClass(n,[{key:"attachComponentPortal",value:function(e,t){var n,r=this,i=this._componentFactoryResolver.resolveComponentFactory(e.component);return n=i.create(e.injector),this._appRef.attachView(n.hostView),this.setDisposeFn((function(){r._appRef.detachView(n.hostView),n.destroy()})),t?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}},{key:"_getComponentRootNode",value:function(e){return e.hostView.rootNodes[0]}}]),n}(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"attach",value:function(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}},{key:"detach",value:function(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}},{key:"setDisposeFn",value:function(e){this._disposeFn=e}}]),e}()),ec=((Vu=function(){function e(t){_classCallCheck(this,e),this._document=t}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var e=this._document.createElement("div");e.classList.add("overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}]),e}()).\u0275fac=function(e){return new(e||Vu)(r.Ub(u))},Vu.\u0275prov=Object(r.Hb)({factory:function(){return new Vu(Object(r.Ub)(u))},token:Vu,providedIn:"root"}),Vu),tc=function(){function e(t){_classCallCheck(this,e),this._portalHost=t}return _createClass(e,[{key:"attach",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._portalHost.attach(e,t)}},{key:"detach",value:function(){return this._portalHost.detach()}}]),e}(),nc=((Hu=function(){function e(t,n,r,i){_classCallCheck(this,e),this._overlayContainer=t,this._componentFactoryResolver=n,this._appRef=r,this._document=i,this._paneElements=new Map}return _createClass(e,[{key:"create",value:function(e,t){return this._createOverlayRef(this.getPaneElement(e,t))}},{key:"getPaneElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[e]||(this._paneElements.get(t)[e]=this._createPaneElement(e,t)),this._paneElements.get(t)[e]}},{key:"_createPaneElement",value:function(e,t){var n=this._document.createElement("div");return n.id="toast-container",n.classList.add(e),n.classList.add("toast-container"),t?t.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}},{key:"_createPortalHost",value:function(e){return new $u(e,this._componentFactoryResolver,this._appRef)}},{key:"_createOverlayRef",value:function(e){return new tc(this._createPortalHost(e))}}]),e}()).\u0275fac=function(e){return new(e||Hu)(r.Ub(ec),r.Ub(r.j),r.Ub(r.g),r.Ub(u))},Hu.\u0275prov=Object(r.Hb)({factory:function(){return new Hu(Object(r.Ub)(ec),Object(r.Ub)(r.j),Object(r.Ub)(r.g),Object(r.Ub)(u))},token:Hu,providedIn:"root"}),Hu),rc=function(){function e(t){_classCallCheck(this,e),this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new tr.a,this._activate=new tr.a,this._manualClose=new tr.a,this._resetTimeout=new tr.a,this._countDuplicate=new tr.a}return _createClass(e,[{key:"manualClose",value:function(){this._manualClose.next(),this._manualClose.complete()}},{key:"manualClosed",value:function(){return this._manualClose.asObservable()}},{key:"timeoutReset",value:function(){return this._resetTimeout.asObservable()}},{key:"countDuplicate",value:function(){return this._countDuplicate.asObservable()}},{key:"close",value:function(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"isInactive",value:function(){return this._activate.isStopped}},{key:"activate",value:function(){this._activate.next(),this._activate.complete()}},{key:"afterActivate",value:function(){return this._activate.asObservable()}},{key:"onDuplicate",value:function(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}]),e}(),ic=function(){function e(t,n){_classCallCheck(this,e),this._toastPackage=t,this._parentInjector=n}return _createClass(e,[{key:"get",value:function(e,t,n){return e===Ku?this._toastPackage:this._parentInjector.get(e,t,n)}}]),e}(),oc=((zu=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.overlay=n,this._injector=r,this.sanitizer=i,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}return _createClass(e,[{key:"show",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this._preBuildNotification(r,e,t,this.applyConfig(n))}},{key:"success",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,t,this.applyConfig(n))}},{key:"error",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,t,this.applyConfig(n))}},{key:"info",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,t,this.applyConfig(n))}},{key:"warning",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,t,this.applyConfig(n))}},{key:"clear",value:function(e){var t,n=_createForOfIteratorHelper(this.toasts);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(void 0!==e){if(r.toastId===e)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}}catch(i){n.e(i)}finally{n.f()}}},{key:"remove",value:function(e){var t=this._findToast(e);if(!t)return!1;if(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){var n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}},{key:"findDuplicate",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=this.toastrConfig.includeTitleDuplicates,s=_createForOfIteratorHelper(this.toasts);try{for(s.s();!(e=s.n()).done;){var a=e.value,u=o&&a.title===t;if((!o||u)&&a.message===n)return a.toastRef.onDuplicate(r,i),a}}catch(c){s.e(c)}finally{s.f()}return null}},{key:"applyConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(Object.assign({},this.toastrConfig),e)}},{key:"_findToast",value:function(e){for(var t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===e)return{index:t,activeToast:this.toasts[t]};return null}},{key:"_preBuildNotification",value:function(e,t,n,r){var i=this;return r.onActivateTick?this.ngZone.run((function(){return i._buildNotification(e,t,n,r)})):this._buildNotification(e,t,n,r)}},{key:"_buildNotification",value:function(e,t,n,i){if(!i.toastComponent)throw new Error("toastComponent required");var o=this.findDuplicate(n,t,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||t)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=t;var s=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(s=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));var a=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;var u=t;t&&i.enableHtml&&(u=this.sanitizer.sanitize(r.H.HTML,t));var c=new rc(a),l=new Ku(this.index,i,u,n,e,c),h=new ic(l,this._injector),f=new Xu(i.toastComponent,h),d=a.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=d.instance;var p={toastId:this.index,title:n||"",message:t||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:d};return s||(this.currentlyActive=this.currentlyActive+1,setTimeout((function(){p.toastRef.activate()}))),this.toasts.push(p),p}}]),e}()).\u0275fac=function(e){return new(e||zu)(r.Ub(Ju),r.Ub(nc),r.Ub(r.r),r.Ub(Ne),r.Ub(r.z))},zu.\u0275prov=Object(r.Hb)({factory:function(){return new zu(Object(r.Ub)(Ju),Object(r.Ub)(nc),Object(r.Ub)(r.o),Object(r.Ub)(Ne),Object(r.Ub)(r.z))},token:zu,providedIn:"root"}),zu),sc=((Qu=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.toastrService=t,this.toastPackage=n,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses="".concat(n.toastType," ").concat(n.config.toastClass),this.sub=n.toastRef.afterActivate().subscribe((function(){i.activateToast()})),this.sub1=n.toastRef.manualClosed().subscribe((function(){i.remove()})),this.sub2=n.toastRef.timeoutReset().subscribe((function(){i.resetTimeout()})),this.sub3=n.toastRef.countDuplicate().subscribe((function(e){i.duplicatesCount=e}))}return _createClass(e,[{key:"displayStyle",get:function(){if("inactive"===this.state.value)return"none"}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}},{key:"activateToast",value:function(){var e=this;this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout((function(){return e.remove()}),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval((function(){return e.updateProgress()}),10))}},{key:"updateProgress",value:function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}}},{key:"resetTimeout",value:function(){var e=this;clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout((function(){return e.remove()}),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval((function(){return e.updateProgress()}),10)}},{key:"remove",value:function(){var e=this;"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout((function(){return e.toastrService.remove(e.toastPackage.toastId)}),+this.toastPackage.config.easeTime))}},{key:"tapToast",value:function(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}},{key:"stickAround",value:function(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}},{key:"delayedHideToast",value:function(){var e=this;!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout((function(){return e.remove()}),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval((function(){return e.updateProgress()}),10))}},{key:"outsideTimeout",value:function(e,t){var n=this;this.ngZone?this.ngZone.runOutsideAngular((function(){return n.timeout=setTimeout((function(){return n.runInsideAngular(e)}),t)})):this.timeout=setTimeout((function(){return e()}),t)}},{key:"outsideInterval",value:function(e,t){var n=this;this.ngZone?this.ngZone.runOutsideAngular((function(){return n.intervalId=setInterval((function(){return n.runInsideAngular(e)}),t)})):this.intervalId=setInterval((function(){return e()}),t)}},{key:"runInsideAngular",value:function(e){this.ngZone?this.ngZone.run((function(){return e()})):e()}}]),e}()).\u0275fac=function(e){return new(e||Qu)(r.Lb(oc),r.Lb(Ku),r.Lb(r.z))},Qu.\u0275cmp=r.Fb({type:Qu,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,t){1&e&&r.Yb("click",(function(){return t.tapToast()}))("mouseenter",(function(){return t.stickAround()}))("mouseleave",(function(){return t.delayedHideToast()})),2&e&&(r.qc("@flyInOut",t.state),r.Cb(t.toastClasses),r.jc("display",t.displayStyle))},attrs:Tu,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(e,t){1&e&&(r.kc(0,Pu,3,0,"button",0),r.kc(1,xu,3,5,"div",1),r.kc(2,Iu,1,3,"div",2),r.kc(3,ju,2,4,"div",3),r.kc(4,Nu,2,2,"div",4)),2&e&&(r.bc("ngIf",t.options.closeButton),r.Ab(1),r.bc("ngIf",t.title),r.Ab(1),r.bc("ngIf",t.message&&t.options.enableHtml),r.Ab(1),r.bc("ngIf",t.message&&!t.options.enableHtml),r.Ab(1),r.bc("ngIf",t.options.progressBar))},directives:[Q],encapsulation:2,data:{animation:[(qu="flyInOut",Bu=[Su("inactive",Ou({opacity:0})),Su("active",Ou({opacity:1})),Su("removed",Ou({opacity:0})),Eu("inactive => active",ku("{{ easeTime }}ms {{ easing }}")),Eu("active => removed",ku("{{ easeTime }}ms {{ easing }}"))],{type:7,name:qu,definitions:Bu,options:{}})]}}),Qu),ac=Object.assign(Object.assign({},Zu),{toastComponent:sc}),uc=((Gu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[{provide:Ju,useValue:{default:ac,config:t}}]}}}]),e}()).\u0275mod=r.Jb({type:Gu}),Gu.\u0275inj=r.Ib({factory:function(e){return new(e||Gu)},imports:[[Y]]}),Gu),cc=((Wu=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.toastrService=t,this.toastPackage=n,this.appRef=r,this.width=-1,this.toastClasses="",this.state="inactive",this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses="".concat(n.toastType," ").concat(n.config.toastClass),this.sub=n.toastRef.afterActivate().subscribe((function(){i.activateToast()})),this.sub1=n.toastRef.manualClosed().subscribe((function(){i.remove()})),this.sub2=n.toastRef.timeoutReset().subscribe((function(){i.resetTimeout()})),this.sub3=n.toastRef.countDuplicate().subscribe((function(e){i.duplicatesCount=e}))}return _createClass(e,[{key:"displayStyle",get:function(){if("inactive"===this.state)return"none"}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}},{key:"activateToast",value:function(){var e=this;this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout((function(){e.remove()}),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval((function(){return e.updateProgress()}),10))),this.options.onActivateTick&&this.appRef.tick()}},{key:"updateProgress",value:function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}}},{key:"resetTimeout",value:function(){var e=this;clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout((function(){return e.remove()}),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval((function(){return e.updateProgress()}),10))}},{key:"remove",value:function(){var e=this;"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout((function(){return e.toastrService.remove(e.toastPackage.toastId)})))}},{key:"tapToast",value:function(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}},{key:"stickAround",value:function(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}},{key:"delayedHideToast",value:function(){var e=this;!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout((function(){return e.remove()}),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval((function(){return e.updateProgress()}),10)))}}]),e}()).\u0275fac=function(e){return new(e||Wu)(r.Lb(oc),r.Lb(Ku),r.Lb(r.g))},Wu.\u0275cmp=r.Fb({type:Wu,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(e,t){1&e&&r.Yb("click",(function(){return t.tapToast()}))("mouseenter",(function(){return t.stickAround()}))("mouseleave",(function(){return t.delayedHideToast()})),2&e&&(r.Cb(t.toastClasses),r.jc("display",t.displayStyle))},attrs:Tu,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(e,t){1&e&&(r.kc(0,Ru,3,0,"button",0),r.kc(1,Fu,3,5,"div",1),r.kc(2,Mu,1,3,"div",2),r.kc(3,Lu,2,4,"div",3),r.kc(4,Uu,2,2,"div",4)),2&e&&(r.bc("ngIf",t.options.closeButton),r.Ab(1),r.bc("ngIf",t.title),r.Ab(1),r.bc("ngIf",t.message&&t.options.enableHtml),r.Ab(1),r.bc("ngIf",t.message&&!t.options.enableHtml),r.Ab(1),r.bc("ngIf",t.options.progressBar))},directives:[Q],encapsulation:2}),Wu),lc=Object.assign(Object.assign({},Zu),{toastComponent:cc}),hc=((Yu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[{provide:Ju,useValue:{default:lc,config:t}}]}}}]),e}()).\u0275mod=r.Jb({type:Yu}),Yu.\u0275inj=r.Ib({factory:function(e){return new(e||Yu)},imports:[[Y]]}),Yu);function fc(e,t){1&e&&(r.Qb(0,"span",15),r.mc(1," Email Address required! "),r.Pb())}function dc(e,t){1&e&&(r.Qb(0,"span",15),r.mc(1," Invalid Email Address "),r.Pb())}function pc(e,t){if(1&e&&(r.Ob(0),r.kc(1,fc,2,0,"span",10),r.kc(2,dc,2,0,"span",10),r.Nb()),2&e){var n=r.ac();r.Ab(1),r.bc("ngIf",null==n.lf.sEmail.errors?null:n.lf.sEmail.errors.required),r.Ab(1),r.bc("ngIf",null==n.lf.sEmail.errors?null:n.lf.sEmail.errors.pattern)}}function vc(e,t){1&e&&(r.Qb(0,"span",15),r.mc(1," Password is required! "),r.Pb())}var yc,gc=((yc=function(){function e(t,n){_classCallCheck(this,e),this._http=t,this.toastr=n,this.isFormSubmitted=!1,this.numPattern=/[0-9]/}return _createClass(e,[{key:"ngOnInit",value:function(){this.init()}},{key:"init",value:function(){this.loginForm=new Cn({sEmail:new bn("",[vt.required,vt.email]),sPassword:new bn("",[vt.required])}),this._http.auth.isLoggedIn()&&this._http.navigate("/dashboard")}},{key:"loginUser",value:function(){var e=this;this.isFormSubmitted=!0,this.loginForm.valid&&this._http.post("user/login",this.loginForm.value).subscribe((function(t){e._http.updateHeaderToken(t.Authorization),e._http.auth.setUserId(t.data._id),e._http.navigate("/dashboard")}),(function(t){console.log("Error in user logging in: ",t),e.toastr.error(t&&t.error&&t.error.message?t.error.message:"Something went wrong!")}))}},{key:"lf",get:function(){return this.loginForm.controls}}]),e}()).\u0275fac=function(e){return new(e||yc)(r.Lb(iu),r.Lb(oc))},yc.\u0275cmp=r.Fb({type:yc,selectors:[["app-login"]],decls:30,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],[1,"control-label","col-md-12"],[1,"col-md-6"],["type","text","formControlName","sEmail","placeholder","Enter Your Email Address",1,"form-control"],[4,"ngIf"],["type","password","formControlName","sPassword","placeholder","Enter Password",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"card-footer"],["type","submit",1,"btn","btn-primary"],["routerLink","/register",1,"btn","btn-link"],["routerLink","/forgot-password",1,"btn","btn-link"],[1,"text-danger"]],template:function(e,t){1&e&&(r.Qb(0,"form",0),r.Yb("ngSubmit",(function(){return t.loginUser()})),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"h2"),r.mc(4,"Login form"),r.Pb(),r.Pb(),r.Qb(5,"div",3),r.Qb(6,"div",4),r.Qb(7,"label",5),r.mc(8,"Email"),r.Pb(),r.Qb(9,"div",6),r.Mb(10,"input",7),r.kc(11,pc,3,2,"ng-container",8),r.Pb(),r.Pb(),r.Qb(12,"div",4),r.Qb(13,"label",5),r.mc(14,"Password"),r.Pb(),r.Qb(15,"div",6),r.Mb(16,"input",9),r.kc(17,vc,2,0,"span",10),r.Pb(),r.Pb(),r.Pb(),r.Qb(18,"div",11),r.Qb(19,"button",12),r.mc(20,"Sign In"),r.Pb(),r.Qb(21,"p"),r.mc(22,"Or "),r.Qb(23,"button",13),r.mc(24," Sign up "),r.Pb(),r.mc(25," Instead!"),r.Pb(),r.Qb(26,"p"),r.mc(27,"Forgot Password? "),r.Qb(28,"button",14),r.mc(29," Reset "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e&&(r.bc("formGroup",t.loginForm),r.Ab(11),r.bc("ngIf",t.isFormSubmitted&&t.lf.sEmail.errors),r.Ab(6),r.bc("ngIf",t.isFormSubmitted&&(null==t.lf.sPassword.errors?null:t.lf.sPassword.errors.required)))},directives:[Rn,lt,Mn,et,ct,Kn,Q,ks],styles:[""]}),yc);function mc(e,t){1&e&&(r.Qb(0,"span",17),r.mc(1,"First Name is required!"),r.Pb())}function _c(e,t){1&e&&(r.Qb(0,"span",17),r.mc(1," Email Address required! "),r.Pb())}function bc(e,t){1&e&&(r.Qb(0,"span",17),r.mc(1," Invalid Email Address "),r.Pb())}function Cc(e,t){if(1&e&&(r.Ob(0),r.kc(1,_c,2,0,"span",8),r.kc(2,bc,2,0,"span",8),r.Nb()),2&e){var n=r.ac();r.Ab(1),r.bc("ngIf",null==n.rf.sEmail.errors?null:n.rf.sEmail.errors.required),r.Ab(1),r.bc("ngIf",null==n.rf.sEmail.errors?null:n.rf.sEmail.errors.pattern)}}function wc(e,t){1&e&&(r.Qb(0,"span",17),r.mc(1," Password is required! "),r.Pb())}function kc(e,t){1&e&&(r.Qb(0,"p",17),r.mc(1," Please select weather you have performed in app purchase! "),r.Pb())}var Oc,Sc=((Oc=function(){function e(t,n){_classCallCheck(this,e),this._http=t,this.toastr=n,this.isFormSubmitted=!1,this.numPattern=/[0-9]/}return _createClass(e,[{key:"ngOnInit",value:function(){this.init()}},{key:"init",value:function(){this.regForm=new Cn({sName:new bn("",[vt.required]),sEmail:new bn("",[vt.required,vt.email]),sPassword:new bn("",[vt.required]),isSubscribed:new bn("",[vt.required])}),this._http.auth.isLoggedIn()&&this._http.navigate("/dashboard")}},{key:"registerUser",value:function(){var e=this;if(this.isFormSubmitted=!0,this.regForm.valid){var t=this.regForm.value;console.log("Data: ",t),this._http.post("user/register",t).subscribe((function(t){console.log("User Registered! ",t),e._http.updateHeaderToken(t.Authorization),e._http.auth.setUserId(t.data._id),e._http.navigate("/dashboard")}),(function(t){console.log("Error in user registration: ",t),e.toastr.error(t&&t.error&&t.error.message?t.error.message:"Something went wrong!")}))}}},{key:"rf",get:function(){return this.regForm.controls}}]),e}()).\u0275fac=function(e){return new(e||Oc)(r.Lb(iu),r.Lb(oc))},Oc.\u0275cmp=r.Fb({type:Oc,selectors:[["app-register"]],decls:43,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],[1,"control-label","col-md-12"],[1,"col-md-6"],["type","text","formControlName","sName","placeholder","Enter First name",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","sEmail","placeholder","Enter Your Email Address",1,"form-control"],[4,"ngIf"],["type","password","formControlName","sPassword","placeholder","Enter Password",1,"form-control"],["type","radio","formControlName","isSubscribed","name","isSubscribed","value","true"],["type","radio","formControlName","isSubscribed","name","isSubscribed","value","false"],[1,"card-footer"],["type","submit",1,"btn","btn-primary"],["routerLink","/login",1,"btn","btn-link"],[1,"text-danger"]],template:function(e,t){1&e&&(r.Qb(0,"form",0),r.Yb("ngSubmit",(function(){return t.registerUser()})),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"h2"),r.mc(4,"Sign up form"),r.Pb(),r.Pb(),r.Qb(5,"div",3),r.Qb(6,"div",4),r.Qb(7,"label",5),r.mc(8,"Your Name"),r.Pb(),r.Qb(9,"div",6),r.Mb(10,"input",7),r.kc(11,mc,2,0,"span",8),r.Pb(),r.Pb(),r.Qb(12,"div",4),r.Qb(13,"label",5),r.mc(14,"Email"),r.Pb(),r.Qb(15,"div",6),r.Mb(16,"input",9),r.kc(17,Cc,3,2,"ng-container",10),r.Pb(),r.Pb(),r.Qb(18,"div",4),r.Qb(19,"label",5),r.mc(20,"Password"),r.Pb(),r.Qb(21,"div",6),r.Mb(22,"input",11),r.kc(23,wc,2,0,"span",8),r.Pb(),r.Pb(),r.Qb(24,"div",4),r.Qb(25,"label",5),r.mc(26,"In App Purchase"),r.Pb(),r.Qb(27,"div",6),r.Qb(28,"label"),r.Mb(29,"input",12),r.mc(30,"Yes"),r.Pb(),r.Qb(31,"label"),r.Mb(32,"input",13),r.mc(33,"No"),r.Pb(),r.kc(34,kc,2,0,"p",8),r.Pb(),r.Pb(),r.Pb(),r.Qb(35,"div",14),r.Qb(36,"button",15),r.mc(37,"Sign up"),r.Pb(),r.Qb(38,"p"),r.mc(39,"Or "),r.Qb(40,"button",16),r.mc(41," Login "),r.Pb(),r.mc(42," Instead!"),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e&&(r.bc("formGroup",t.regForm),r.Ab(11),r.bc("ngIf",t.isFormSubmitted&&(null==t.rf.sName.errors?null:t.rf.sName.errors.required)),r.Ab(6),r.bc("ngIf",t.isFormSubmitted&&t.rf.sEmail.errors),r.Ab(6),r.bc("ngIf",t.isFormSubmitted&&(null==t.rf.sPassword.errors?null:t.rf.sPassword.errors.required)),r.Ab(11),r.bc("ngIf",t.isFormSubmitted&&(null==t.rf.isSubscribed.errors?null:t.rf.isSubscribed.errors.required)))},directives:[Rn,lt,Mn,et,ct,Kn,Q,At,ks],styles:[""]}),Oc);function Ec(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}var Tc=n("Jgta"),Pc=n("z6cu"),Ac=n("tf+s"),xc=n("pxpQ"),Ic=n("qgXg"),jc=n("Ylt2"),Nc=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new Rc(this._getNow(),e)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new nr.a;if(this.isStopped||this.hasError?t=ti.a.EMPTY:(this.observers.push(e),t=new jc.a(this,e)),i&&e.add(e=new xc.a(e,i)),n)for(var s=0;s<o&&!e.closed;s++)e.next(r[s]);else for(var a=0;a<o&&!e.closed;a++)e.next(r[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||Ic.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}]),n}(tr.a),Rc=function e(t,n){_classCallCheck(this,e),this.time=t,this.value=n};function Dc(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,a=e.refCount,u=e.scheduler,c=0,l=!1,h=!1;return function(e){c++,t&&!l||(l=!1,t=new Nc(i,s,u),n=e.subscribe({next:function(e){t.next(e)},error:function(e){l=!0,t.error(e)},complete:function(){h=!0,n=void 0,t.complete()}}));var r=t.subscribe(this);this.add((function(){c--,r.unsubscribe(),n&&!h&&a&&0===c&&(n.unsubscribe(),n=void 0,t=void 0)}))}}(r))}}function Fc(e,t){return t?Qr((function(){return e}),t):Qr((function(){return e}))}var Mc,Lc,Uc,Vc,Hc=n("spgP"),qc=new r.q("angularfire2.messaging.vapid-key"),Bc=new r.q("angularfire2.messaging.service-worker-registeration"),Qc=parseInt(Tc.a.SDK_VERSION,10)<8,zc=((Vc=function e(t,r,i,o,s,a){var u=this;_classCallCheck(this,e);var c=new Hc.d(o),l=a,h=Object(er.a)(void 0).pipe(Object(Ac.a)(c.outsideAngular),Object(xc.b)(c.insideAngular),Qr((function(){return K(i)?fr.a:n.e(5).then(n.bind(null,"dB9c"))})),Object(He.a)((function(){return Object(Hc.g)(t,o,r)})),Qr((function(e){return Object(Hc.f)(e.name+".messaging","AngularFireMessaging",e,(function(){return Ec(u,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.messaging(),t.t0=Qc,!t.t0){t.next=11;break}if(s&&n.usePublicVapidKey(s),t.t1=l,!t.t1){t.next=11;break}return t.t2=n,t.next=9,l;case 9:t.t3=t.sent,t.t2.useServiceWorker.call(t.t2,t.t3);case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}}),t)})))}),[s,l])})),Dc({bufferSize:1,refCount:!1}));this.requestPermission=h.pipe(Object(Ac.a)(c.outsideAngular),Object(xc.b)(c.insideAngular),Qr((function(e){return Tc.a.messaging.isSupported()?e.requestPermission():Object(Pc.a)("Not supported.")}))),this.getToken=h.pipe(Object(Ac.a)(c.outsideAngular),Object(xc.b)(c.insideAngular),Qr((function(e){return Ec(u,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Tc.a.messaging.isSupported()||"granted"!==Notification.permission){t.next=16;break}if(!Qc){t.next=5;break}return t.next=4,e.getToken();case 4:return t.abrupt("return",t.sent);case 5:if(!l){t.next=11;break}return t.next=8,l;case 8:t.t0=t.sent,t.next=12;break;case 11:t.t0=null;case 12:return n=t.t0,t.next=15,e.getToken({vapidKey:s,serviceWorkerRegistration:n});case 15:return t.abrupt("return",t.sent);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}}),t)})))})));var f=new Ue.a((function(e){navigator.permissions.query({name:"notifications"}).then((function(t){t.onchange=function(){return e.next()}}))})),d=h.pipe(Object(Ac.a)(c.outsideAngular),Object(xc.b)(c.insideAngular),Fc(f),Fc(this.getToken));return this.tokenChanges=h.pipe(Object(Ac.a)(c.outsideAngular),Object(xc.b)(c.insideAngular),Qr((function(){return Tc.a.messaging.isSupported()?Gr(u.getToken,d):fr.a}))),this.messages=h.pipe(Object(Ac.a)(c.outsideAngular),Object(xc.b)(c.insideAngular),Qr((function(e){return Tc.a.messaging.isSupported()?new Ue.a((function(t){return e.onMessage((function(e){return t.next(e)}),(function(e){return t.error(e)}),(function(){return t.complete()}))})):fr.a}))),this.requestToken=Object(er.a)(void 0).pipe(Object(Ac.a)(c.outsideAngular),Object(xc.b)(c.insideAngular),Qr((function(){return u.requestPermission})),Rr((function(){return Object(er.a)(null)})),Object(Hr.a)((function(){return u.tokenChanges}))),this.deleteToken=function(e){return h.pipe(Object(Ac.a)(c.outsideAngular),Object(xc.b)(c.insideAngular),Qr((function(t){return t.deleteToken(e||void 0)})),Pr(!1))},Object(Hc.i)(this,h,o)}).\u0275fac=function(e){return new(e||Vc)(r.Ub(Hc.c),r.Ub(Hc.b,8),r.Ub(r.B),r.Ub(r.z),r.Ub(qc,8),r.Ub(Bc,8))},Vc.\u0275prov=Object(r.Hb)({factory:function(){return new Vc(Object(r.Ub)(Hc.c),Object(r.Ub)(Hc.b,8),Object(r.Ub)(r.B),Object(r.Ub)(r.z),Object(r.Ub)(qc,8),Object(r.Ub)(Bc,8))},token:Vc,providedIn:"any"}),Vc),Wc=((Uc=function e(){_classCallCheck(this,e)}).\u0275mod=r.Jb({type:Uc}),Uc.\u0275inj=r.Ib({factory:function(e){return new(e||Uc)},providers:[zc]}),Uc),Gc=((Lc=function(){function e(t,n){_classCallCheck(this,e),this.angularFireMessaging=t,this.socket=n,this.currentMessage=new rr(null)}return _createClass(e,[{key:"updateToken",value:function(e,t){this.socket.socket.emit("update-firebase-token-user",{userId:e,token:t})}},{key:"requestPermission",value:function(e){var t=this;this.angularFireMessaging.requestToken.subscribe((function(n){console.log(n),t.updateToken(e,n)}),(function(e){console.error("Unable to get permission to notify.",e)}))}},{key:"receiveMessage",value:function(){var e=this;this.angularFireMessaging.messages.subscribe((function(t){console.log("new message received. ",t),e.currentMessage.next(t)})),this.angularFireMessaging.onMessage(this.currentMessage)}}]),e}()).\u0275fac=function(e){return new(e||Lc)(r.Ub(zc),r.Ub(fa))},Lc.\u0275prov=r.Hb({token:Lc,factory:Lc.\u0275fac,providedIn:"root"}),Lc),Yc=((Mc=function(){function e(t,n){_classCallCheck(this,e),this._http=t,this.notification=n,this.currentLastSeen="online"}return _createClass(e,[{key:"ngOnInit",value:function(){this.init()}},{key:"init",value:function(){var e=this;this._http.auth.isLoggedIn()?this._http.get("user/profile").subscribe((function(t){e._http.auth.userData=t.data,e._http.auth._socket.eventService.publishEvent("userDataFound"),e.currentLastSeen="online"==t.data.lastSeen?"online":"offline",e.notification.requestPermission(t.data._id),e.notification.receiveMessage(),e.notification.currentMessage.subscribe((function(e){console.log(e)}))})):this._http.navigate("/login")}},{key:"updateLastSeen",value:function(){var e="online"==this.currentLastSeen?this.currentLastSeen:new Date;this._http.auth._socket.socket.emit("updateLastSeen",{userId:this._http.auth.userData._id,lastSeen:e})}},{key:"logout",value:function(){this._http.auth.removeToken(),this._http.navigate("/login")}}]),e}()).\u0275fac=function(e){return new(e||Mc)(r.Lb(iu),r.Lb(Gc))},Mc.\u0275cmp=r.Fb({type:Mc,selectors:[["app-dashboard"]],decls:19,vars:2,consts:[[1,"col-md-12"],["routerLink","/dashboard/profile"],[1,"form-control","col-md-12",3,"ngModel","ngModelChange","change"],["value","online"],["value","offline"],[1,"menu","mt-3"],[1,"ul"],["routerLinkActive","active"],["href","#","routerLink","/dashboard/chat"],["href","#","routerLink","/dashboard/create-alert"],[1,"btn","btn-danger","ml-3",3,"click"]],template:function(e,t){1&e&&(r.Qb(0,"div",0),r.Qb(1,"p",1),r.mc(2),r.Pb(),r.Qb(3,"select",2),r.Yb("ngModelChange",(function(e){return t.currentLastSeen=e}))("change",(function(){return t.updateLastSeen()})),r.Qb(4,"option",3),r.mc(5,"Online"),r.Pb(),r.Qb(6,"option",4),r.mc(7,"Offline"),r.Pb(),r.Pb(),r.Qb(8,"div",5),r.Qb(9,"ul",6),r.Qb(10,"li",7),r.Qb(11,"a",8),r.mc(12,"Chat"),r.Pb(),r.Pb(),r.Qb(13,"li",7),r.Qb(14,"a",9),r.mc(15,"New Alert"),r.Pb(),r.Pb(),r.Pb(),r.Qb(16,"button",10),r.Yb("click",(function(){return t.logout()})),r.mc(17,"Logout"),r.Pb(),r.Pb(),r.Pb(),r.Mb(18,"router-outlet")),2&e&&(r.Ab(2),r.oc("Logged in as ",null==t._http.auth.userData?null:t._http.auth.userData.sName,""),r.Ab(1),r.bc("ngModel",t.currentLastSeen))},directives:[ks,Vt,ct,Nn,Ht,Gt,xs,Os,Ns],styles:[".menu[_ngcontent-%COMP%], .menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex}.menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex:1;list-style-type:none;background:#72a0c1;color:#fff;margin-bottom:0}.menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 20px;cursor:pointer}.menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%], .menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#00308f}.menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}"]}),Mc);function Kc(e,t){1&e&&(r.Qb(0,"span",13),r.mc(1," Email Address required! "),r.Pb())}function Zc(e,t){1&e&&(r.Qb(0,"span",13),r.mc(1," Invalid Email Address "),r.Pb())}function Jc(e,t){if(1&e&&(r.Ob(0),r.kc(1,Kc,2,0,"span",12),r.kc(2,Zc,2,0,"span",12),r.Nb()),2&e){var n=r.ac();r.Ab(1),r.bc("ngIf",null==n.fpf.sEmail.errors?null:n.fpf.sEmail.errors.required),r.Ab(1),r.bc("ngIf",null==n.fpf.sEmail.errors?null:n.fpf.sEmail.errors.pattern)}}function Xc(e,t){if(1&e&&(r.Qb(0,"option",9),r.mc(1),r.Pb()),2&e){var n=t.$implicit;r.bc("value",n._id),r.Ab(1),r.oc(" ",n.sTitle," ")}}function $c(e,t){if(1&e){var n=r.Rb();r.Ob(0),r.Qb(1,"div",1),r.Qb(2,"label",2),r.mc(3,"Provider"),r.Pb(),r.Mb(4,"input",3),r.Pb(),r.Qb(5,"div",1),r.Qb(6,"label",2),r.mc(7,"Select Alert Type"),r.Pb(),r.Qb(8,"select",4),r.Yb("ngModelChange",(function(e){return r.fc(n),r.ac().newAlertObj.alertCategoryId=e})),r.Qb(9,"option",5),r.mc(10,"Select Type"),r.Pb(),r.kc(11,Xc,2,2,"option",6),r.Pb(),r.Pb(),r.Qb(12,"div",7),r.Qb(13,"button",8),r.Yb("click",(function(){return r.fc(n),r.ac().createAlert()})),r.mc(14,"Create Alert"),r.Pb(),r.Pb(),r.Nb()}if(2&e){var i=r.ac();r.Ab(4),r.bc("value",i.newAlertObj.providerId),r.Ab(4),r.bc("ngModel",i.newAlertObj.alertCategoryId),r.Ab(3),r.bc("ngForOf",i.alertCategories)}}function el(e,t){1&e&&(r.Qb(0,"span",22),r.mc(1," First Name is required! "),r.Pb())}function tl(e,t){1&e&&(r.Qb(0,"span",22),r.mc(1," Email Address required! "),r.Pb())}function nl(e,t){1&e&&(r.Qb(0,"span",22),r.mc(1," Invalid Email Address "),r.Pb())}function rl(e,t){if(1&e&&(r.Ob(0),r.kc(1,tl,2,0,"span",18),r.kc(2,nl,2,0,"span",18),r.Nb()),2&e){var n=r.ac(3);r.Ab(1),r.bc("ngIf",null==n.pf.sEmail.errors?null:n.pf.sEmail.errors.required),r.Ab(1),r.bc("ngIf",null==n.pf.sEmail.errors?null:n.pf.sEmail.errors.pattern)}}function il(e,t){if(1&e){var n=r.Rb();r.Ob(0),r.Qb(1,"form",6),r.Yb("ngSubmit",(function(){return r.fc(n),r.ac(2).updateProfile()})),r.Qb(2,"div",7),r.Qb(3,"div",8),r.Qb(4,"h2"),r.mc(5,"Update Profile"),r.Pb(),r.Pb(),r.Qb(6,"div",9),r.Qb(7,"div",10),r.Qb(8,"label",11),r.mc(9,"Your Profile Picture"),r.Pb(),r.Qb(10,"div",12),r.Qb(11,"img",13),r.Yb("click",(function(){return r.fc(n),r.ec(13).click()})),r.Pb(),r.Qb(12,"input",14,15),r.Yb("change",(function(e){return r.fc(n),r.ac(2).onFileSelected(e.target.files)})),r.Pb(),r.Pb(),r.Pb(),r.Qb(14,"div",10),r.Qb(15,"label",11),r.mc(16,"Your Name"),r.Pb(),r.Qb(17,"div",16),r.Mb(18,"input",17),r.kc(19,el,2,0,"span",18),r.Pb(),r.Pb(),r.Qb(20,"div",10),r.Qb(21,"label",11),r.mc(22,"Email"),r.Pb(),r.Qb(23,"div",16),r.Mb(24,"input",19),r.kc(25,rl,3,2,"ng-container",0),r.Pb(),r.Pb(),r.Pb(),r.Qb(26,"div",20),r.Qb(27,"button",21),r.mc(28," Update Profile "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Nb()}if(2&e){var i=r.ac(2);r.Ab(1),r.bc("formGroup",i.updateProfileForm),r.Ab(10),r.bc("src",i.imageSrc||"assets/images/default-user.jpeg",r.hc),r.Ab(8),r.bc("ngIf",i.isFormSubmitted&&(null==i.pf.sName.errors?null:i.pf.sName.errors.required)),r.Ab(6),r.bc("ngIf",i.isFormSubmitted&&i.pf.sEmail.errors)}}function ol(e,t){1&e&&(r.Qb(0,"span",22),r.mc(1," Please Enter Your Current Password "),r.Pb())}function sl(e,t){1&e&&(r.Qb(0,"span",22),r.mc(1," Minimum Length of password is 6 "),r.Pb())}function al(e,t){if(1&e&&(r.Ob(0),r.kc(1,ol,2,0,"span",18),r.kc(2,sl,2,0,"span",18),r.Nb()),2&e){var n=r.ac(3);r.Ab(1),r.bc("ngIf",null==n.cf||null==n.cf.sOldPassword||null==n.cf.sOldPassword.errors?null:n.cf.sOldPassword.errors.required),r.Ab(1),r.bc("ngIf",null==n.cf||null==n.cf.sOldPassword||null==n.cf.sOldPassword.errors?null:n.cf.sOldPassword.errors.minlength)}}function ul(e,t){1&e&&(r.Qb(0,"span",22),r.mc(1," Please Enter Your New Password "),r.Pb())}function cl(e,t){1&e&&(r.Qb(0,"span",22),r.mc(1," Minimum Length of password is 6 "),r.Pb())}function ll(e,t){if(1&e&&(r.Ob(0),r.kc(1,ul,2,0,"span",18),r.kc(2,cl,2,0,"span",18),r.Nb()),2&e){var n=r.ac(3);r.Ab(1),r.bc("ngIf",null==n.cf||null==n.cf.sNewPassword||null==n.cf.sNewPassword.errors?null:n.cf.sNewPassword.errors.required),r.Ab(1),r.bc("ngIf",null==n.cf||null==n.cf.sNewPassword||null==n.cf.sNewPassword.errors?null:n.cf.sNewPassword.errors.minlength)}}function hl(e,t){1&e&&(r.Qb(0,"span",22),r.mc(1," Please Confirm your password "),r.Pb())}function fl(e,t){1&e&&(r.Qb(0,"span",22),r.mc(1," Confirm password does not match with your new password! "),r.Pb())}function dl(e,t){if(1&e){var n=r.Rb();r.Qb(0,"form",6),r.Yb("ngSubmit",(function(){return r.fc(n),r.ac(2).changePassword()})),r.Qb(1,"div",7),r.Qb(2,"div",8),r.Qb(3,"h2"),r.mc(4,"Change Password"),r.Pb(),r.Pb(),r.Qb(5,"div",9),r.Qb(6,"div",10),r.Qb(7,"label",11),r.mc(8,"Current Password"),r.Pb(),r.Qb(9,"div",16),r.Mb(10,"input",23),r.kc(11,al,3,2,"ng-container",0),r.Pb(),r.Pb(),r.Qb(12,"div",10),r.Qb(13,"label",11),r.mc(14,"Update Password"),r.Pb(),r.Qb(15,"div",16),r.Mb(16,"input",24),r.kc(17,ll,3,2,"ng-container",0),r.Pb(),r.Pb(),r.Qb(18,"div",10),r.Qb(19,"label",11),r.mc(20,"Confirm Password"),r.Pb(),r.Qb(21,"div",16),r.Mb(22,"input",25),r.kc(23,hl,2,0,"span",18),r.kc(24,fl,2,0,"span",18),r.Pb(),r.Pb(),r.Pb(),r.Qb(25,"div",20),r.Qb(26,"button",21),r.mc(27," Change Password "),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&e){var i=r.ac(2);r.bc("formGroup",i.changePasswordForm),r.Ab(11),r.bc("ngIf",i.isFormSubmitted&&(null==i.cf||null==i.cf.sOldPassword?null:i.cf.sOldPassword.errors)),r.Ab(6),r.bc("ngIf",i.isFormSubmitted&&(null==i.cf||null==i.cf.sNewPassword?null:i.cf.sNewPassword.errors)),r.Ab(6),r.bc("ngIf",i.isFormSubmitted&&(null==i.cf||null==i.cf.sNewRetypedPassword||null==i.cf.sNewRetypedPassword.errors?null:i.cf.sNewRetypedPassword.errors.required)),r.Ab(1),r.bc("ngIf",i.isFormSubmitted&&(null==i.cf||null==i.cf.sNewRetypedPassword||null==i.cf.sNewRetypedPassword.errors?null:i.cf.sNewRetypedPassword.errors.mismatch))}}var pl=function(){return{standalone:!0}};function vl(e,t){if(1&e){var n=r.Rb();r.Ob(0),r.Qb(1,"div",1),r.Qb(2,"input",2),r.Yb("ngModelChange",(function(e){return r.fc(n),r.ac().showChangePassword=e})),r.Pb(),r.Qb(3,"label",3),r.mc(4,"Change Password "),r.Pb(),r.Pb(),r.kc(5,il,29,4,"ng-container",4),r.kc(6,dl,28,5,"ng-template",null,5,r.lc),r.Nb()}if(2&e){var i=r.ec(7),o=r.ac();r.Ab(2),r.bc("ngModel",o.showChangePassword)("ngModelOptions",r.cc(4,pl)),r.Ab(3),r.bc("ngIf",!o.showChangePassword)("ngIfElse",i)}}var yl,gl,ml,_l,bl=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"register",component:Sc},{path:"login",component:gc},{path:"forgot-password",component:(ml=function(){function e(t,n){_classCallCheck(this,e),this._http=t,this.toastr=n,this.isFormSubmitted=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.init()}},{key:"init",value:function(){this.forgotPasswordForm=new Cn({sEmail:new bn("",[vt.required,vt.email])}),this._http.auth.isLoggedIn()&&this._http.navigate("/dashboard")}},{key:"sendResetPasswordMail",value:function(){var e=this;this.isFormSubmitted=!0,this.forgotPasswordForm.valid&&this._http.post("user/forgot/password/mail",this.forgotPasswordForm.value).subscribe((function(t){e.toastr.success("Password reset mail has been sent! Please check your email"),e._http.navigate("/login")}),(function(t){console.log("Error resseting forgot password: ",t),e.toastr.error(t&&t.error&&t.error.message?t.error.message:"Something went wrong!")}))}},{key:"fpf",get:function(){return this.forgotPasswordForm.controls}}]),e}(),ml.\u0275fac=function(e){return new(e||ml)(r.Lb(iu),r.Lb(oc))},ml.\u0275cmp=r.Fb({type:ml,selectors:[["app-forgot-password"]],decls:20,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],[1,"control-label","col-md-12"],[1,"col-md-6"],["type","text","formControlName","sEmail","placeholder","Enter Your Email Address",1,"form-control"],[4,"ngIf"],[1,"card-footer"],["type","submit",1,"btn","btn-primary"],["routerLink","/login",1,"btn","btn-link"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,t){1&e&&(r.Qb(0,"form",0),r.Yb("ngSubmit",(function(){return t.sendResetPasswordMail()})),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"h2"),r.mc(4,"Reset Forgot Password"),r.Pb(),r.Pb(),r.Qb(5,"div",3),r.Qb(6,"div",4),r.Qb(7,"label",5),r.mc(8,"Email"),r.Pb(),r.Qb(9,"div",6),r.Mb(10,"input",7),r.kc(11,Jc,3,2,"ng-container",8),r.Pb(),r.Pb(),r.Pb(),r.Qb(12,"div",9),r.Qb(13,"button",10),r.mc(14,"Send Email"),r.Pb(),r.Qb(15,"p"),r.mc(16,"Or "),r.Qb(17,"button",11),r.mc(18," Sign in "),r.Pb(),r.mc(19," Instead!"),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e&&(r.bc("formGroup",t.forgotPasswordForm),r.Ab(11),r.bc("ngIf",t.isFormSubmitted&&t.fpf.sEmail.errors))},directives:[Rn,lt,Mn,et,ct,Kn,Q,ks],styles:[""]}),ml)},{path:"dashboard",component:Yc,canActivate:[pa],children:[{path:"",redirectTo:"chat",pathMatch:"full"},{path:"chat",component:wu},{path:"create-alert",component:(gl=function(){function e(t,n){_classCallCheck(this,e),this._http=t,this.toast=n,this.alertCategories=[],this.newAlertObj={providerId:"60114c70b4d91c05f6f76795",position:{lat:24.242001,long:68.666931},userId:this._http.auth.userId,alertCategoryId:"null"}}return _createClass(e,[{key:"ngOnInit",value:function(){this.init()}},{key:"init",value:function(){this.getAlertCategories()}},{key:"getAlertCategories",value:function(){var e=this;this._http.get("alert-category/list-enabled").subscribe((function(t){e.alertCategories=[].concat(t.data)}))}},{key:"createAlert",value:function(){this._http.auth._socket.socket.emit("createNewAlert",this.newAlertObj),this.toast.success("Success","New Alert Created!"),this.newAlertObj.alertCategoryId="null"}}]),e}(),gl.\u0275fac=function(e){return new(e||gl)(r.Lb(iu),r.Lb(oc))},gl.\u0275cmp=r.Fb({type:gl,selectors:[["app-new-alert"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"form-group"],[1,"control-label"],["type","text","readonly","","disabled","",1,"form-control",3,"value"],[1,"form-control",3,"ngModel","ngModelChange"],["value","null"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"btn","btn-success",3,"click"],[3,"value"]],template:function(e,t){1&e&&r.kc(0,$c,15,3,"ng-container",0),2&e&&r.bc("ngIf",t.alertCategories&&(null==t.alertCategories?null:t.alertCategories.length))},directives:[Q,Vt,ct,Nn,Ht,Gt,q],styles:[""]}),gl)},{path:"profile",component:(yl=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.toast=n,this.numPattern=/[0-9]/,this.showChangePassword=!1,this.isFormSubmitted=!1,this.imageSrc=""}return _createClass(e,[{key:"ngOnInit",value:function(){this.init()}},{key:"init",value:function(){var e=this;this.http.auth.isLoggedIn()||this.http.navigate("/login"),this.http.auth.userData?this.prepareForm():this.http.auth._socket.eventService.subscribe("userDataFound",(function(){e.prepareForm()}))}},{key:"onFileSelected",value:function(e){var t=this;if(e&&e.length){console.log("Files : ",e);var n=new FileReader;n.onload=function(e){t.imageSrc=e.target.result},n.readAsDataURL(e[0]),this.uploadProfilePicture(e[0])}}},{key:"uploadProfilePicture",value:function(e){var t=this;this.http.post("user/signedurl/profilepicture",{sContentType:e.type,sFileName:e.name}).subscribe((function(n){var r=n.data.sPath;t.http.http.put(n.data.sUrl,e).subscribe((function(e){t.http.post("user/set/sProfilePicture",{sProfilePicture:r}).subscribe((function(e){t.imageSrc=i.S3_BUCKET_URL+r}))}))}))}},{key:"prepareForm",value:function(){var e=this.http.auth.userData;this.updateProfileForm=new Cn({sName:new bn(e.sName,[vt.required]),sEmail:new bn(e.sEmail,[vt.required,vt.email]),sPassword:new bn(""),isSubscribed:new bn(e.isSubscribed,[vt.required])}),e.sProfilePicture&&(this.imageSrc=i.S3_BUCKET_URL+e.sProfilePicture),this.changePasswordForm=new Cn({sOldPassword:new bn("",[vt.required,vt.minLength(6)]),sNewPassword:new bn("",[vt.required,vt.minLength(6)]),sNewRetypedPassword:new bn("",[vt.required])},this.matchPasswordCheck)}},{key:"matchPasswordCheck",value:function(e){e.get("sNewRetypedPassword").value&&e.get("sNewPassword").value!=e.get("sNewRetypedPassword").value&&e.get("sNewRetypedPassword").setErrors({mismatch:!0})}},{key:"updateProfile",value:function(){var e=this;if(this.isFormSubmitted=!0,this.updateProfileForm.valid){var t=this.updateProfileForm.value;t.sEmail==this.http.auth.userData.sEmail&&delete t.sEmail,this.http.put("user/profile",t).subscribe((function(t){console.log("User Profile updated! ",t),e.toast.success(t.message),e.http.auth.userData=t.data}),(function(t){e.toast.error("Something went wrong"),console.log("Error in user registration: ",t)}))}}},{key:"changePassword",value:function(){var e=this;this.isFormSubmitted=!0,this.changePasswordForm.valid&&this.http.post("user/password/change",this.changePasswordForm.value).subscribe((function(t){console.log("Password changed! ",t),e.toast.success(t.message),e.http.auth.userData.sPassword=e.pf.sPassword.value}),(function(t){e.toast.error(t&&t.error&&t.error.message?t.error.message:"Something went wrong"),console.log("Error in user registration: ",t)}))}},{key:"pf",get:function(){return this.updateProfileForm.controls}},{key:"cf",get:function(){return this.changePasswordForm.controls}}]),e}(),yl.\u0275fac=function(e){return new(e||yl)(r.Lb(iu),r.Lb(oc))},yl.\u0275cmp=r.Fb({type:yl,selectors:[["app-profile"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"custom-control","custom-switch","text-center"],["type","checkbox","id","customSwitch1",1,"custom-control-input",3,"ngModel","ngModelOptions","ngModelChange"],["for","customSwitch1",1,"custom-control-label"],[4,"ngIf","ngIfElse"],["changePasswordSection",""],[3,"formGroup","ngSubmit"],[1,"card","mt-3"],[1,"card-header"],[1,"card-body"],[1,"form-group"],[1,"control-label","col-md-12"],[1,"col-md-12","text-center"],["height","100px",1,"profile-pic",3,"src","click"],["type","file","accept","image/*",2,"display","none",3,"change"],["fileSelector",""],[1,"col-md-6"],["type","text","formControlName","sName","placeholder","Enter First name",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","sEmail","placeholder","Enter Your Email Address",1,"form-control"],[1,"card-footer"],["type","submit",1,"btn","btn-success"],[1,"text-danger"],["type","password","placeholder","Current Password","formControlName","sOldPassword",1,"form-control"],["type","password","formControlName","sNewPassword","placeholder","Update Password",1,"form-control"],["type","password","placeholder","Confirm Your Password","formControlName","sNewRetypedPassword",1,"form-control"]],template:function(e,t){1&e&&r.kc(0,vl,8,5,"ng-container",0),2&e&&r.bc("ngIf",t.updateProfileForm)},directives:[Q,Je,ct,Nn,Rn,lt,Mn,et,Kn],styles:[".profile-pic[_ngcontent-%COMP%]{border-radius:100%;border:1px solid #efefef;padding:10px;height:200px;width:210px}"]}),yl)}]}],Cl=((_l=function e(){_classCallCheck(this,e)}).\u0275mod=r.Jb({type:_l}),_l.\u0275inj=r.Ib({factory:function(e){return new(e||_l)},imports:[[Qs.forRoot(bl)],Qs]}),_l),wl=n("D0XW"),kl=n("VRyK"),Ol=n("w1tV"),Sl=function(){function e(t,n){_classCallCheck(this,e),this.compare=t,this.keySelector=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new El(e,this.compare,this.keySelector))}}]),e}(),El=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),n}(yr.a),Tl=function(){function e(t,n){_classCallCheck(this,e),this.observables=t,this.project=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Pl(e,this.observables,this.project))}}]),e}(),Pl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;_classCallCheck(this,n),(o=t.call(this,e)).observables=r,o.project=i,o.toRespond=[];var s=r.length;o.values=new Array(s);for(var a=0;a<s;a++)o.toRespond.push(a);for(var u=0;u<s;u++){var c=r[u];o.add(Object(ar.a)(_assertThisInitialized(o),c,c,u))}return o}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.values[n]=t;var o=this.toRespond;if(o.length>0){var s=o.indexOf(n);-1!==s&&o.splice(s,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(e){if(0===this.toRespond.length){var t=[e].concat(_toConsumableArray(this.values));this.project?this._tryProject(t):this.destination.next(t)}}},{key:"_tryProject",value:function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(sr.a),Al=function(){function e(t){_classCallCheck(this,e),this.predicate=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new xl(e,this.predicate))}}]),e}(),xl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).predicate=r,i.skipping=!0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}},{key:"tryCallPredicate",value:function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(n){this.destination.error(n)}}}]),n}(yr.a);n("6Uf2");var Il,jl,Nl=new r.q("angularfire2.auth.use-emulator"),Rl=new r.q("angularfire2.auth.settings"),Dl=new r.q("angularfire2.auth.tenant-id"),Fl=new r.q("angularfire2.auth.langugage-code"),Ml=new r.q("angularfire2.auth.use-device-language"),Ll=new r.q("angularfire.auth.persistence"),Ul=((jl=function e(t,r,i,o,s,a,u,c,l,h){_classCallCheck(this,e);var f=new Hc.d(o),d=Object(Hc.h)(f),p=new tr.a,v=Object(er.a)(void 0).pipe(Object(xc.b)(f.outsideAngular),Qr((function(){return o.runOutsideAngular((function(){return n.e(6).then(n.bind(null,"6nsN"))}))})),Object(He.a)((function(){return Object(Hc.g)(t,o,r)})),Object(He.a)((function(e){return o.runOutsideAngular((function(){var t=s,n=a;return Object(Hc.f)(e.name+".auth","AngularFireAuth",e,(function(){var r=o.runOutsideAngular((function(){return e.auth()}));return t&&r.useEmulator("http://"+t.join(":")),u&&(r.tenantId=u),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),h&&r.setPersistence(h),r}),[t,u,c,l,n,h])}))})),Dc({bufferSize:1,refCount:!1}));if(K(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(er.a)(null);else{v.pipe(Vr()).subscribe();var y=v.pipe(Qr((function(e){return e.getRedirectResult().then((function(e){return e}),(function(){return null}))})),d,Dc({bufferSize:1,refCount:!1})),g=function(e){return new Ue.a((function(t){return{unsubscribe:o.runOutsideAngular((function(){return e(t)}))}}))},m=v.pipe(Qr((function(e){return g(e.onAuthStateChanged.bind(e))}))),_=v.pipe(Qr((function(e){return g(e.onIdTokenChanged.bind(e))})));this.authState=y.pipe(Fc(m),Object(Ac.a)(f.outsideAngular),Object(xc.b)(f.insideAngular)),this.user=y.pipe(Fc(_),Object(Ac.a)(f.outsideAngular),Object(xc.b)(f.insideAngular)),this.idToken=this.user.pipe(Qr((function(e){return e?Object(Be.a)(e.getIdToken()):Object(er.a)(null)}))),this.idTokenResult=this.user.pipe(Qr((function(e){return e?Object(Be.a)(e.getIdTokenResult()):Object(er.a)(null)}))),this.credential=Object(kl.a)(y,p,this.authState.pipe(gr((function(e){return!e})))).pipe(Object(He.a)((function(e){return(null==e?void 0:e.user)?e:null})),Object(Ac.a)(f.outsideAngular),Object(xc.b)(f.insideAngular))}return Object(Hc.i)(this,v,o,{spy:{apply:function(e,t,n){(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then((function(e){return p.next(e)}))}}})}).\u0275fac=function(e){return new(e||jl)(r.Ub(Hc.c),r.Ub(Hc.b,8),r.Ub(r.B),r.Ub(r.z),r.Ub(Nl,8),r.Ub(Rl,8),r.Ub(Dl,8),r.Ub(Fl,8),r.Ub(Ml,8),r.Ub(Ll,8))},jl.\u0275prov=Object(r.Hb)({factory:function(){return new jl(Object(r.Ub)(Hc.c),Object(r.Ub)(Hc.b,8),Object(r.Ub)(r.B),Object(r.Ub)(r.z),Object(r.Ub)(Nl,8),Object(r.Ub)(Rl,8),Object(r.Ub)(Dl,8),Object(r.Ub)(Fl,8),Object(r.Ub)(Ml,8),Object(r.Ub)(Ll,8))},token:jl,providedIn:"any"}),jl),Vl=((Il=function e(){_classCallCheck(this,e)}).\u0275mod=r.Jb({type:Il}),Il.\u0275inj=r.Ib({factory:function(e){return new(e||Il)},providers:[Ul]}),Il);function Hl(e){return null==e}function ql(e){return"function"==typeof e.set}function Bl(e,t){return ql(t)?t:e.ref(t)}function Ql(e,t){if("string"==typeof e)return t.stringCase();if(ql(e))return t.firebaseCase();if("function"==typeof e.exportVal)return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function zl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"on",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:wl.a;return new Ue.a((function(i){var o;return o=e[n](t,(function(e,t){r.schedule((function(){i.next({snapshot:e,prevKey:t})})),"once"===n&&r.schedule((function(){return i.complete()}))}),(function(e){r.schedule((function(){return i.error(e)}))})),"on"===n?{unsubscribe:function(){null!=o&&e.off(t,o)}}:{unsubscribe:function(){}}})).pipe(Object(He.a)((function(e){var n=e.snapshot,r=e.prevKey,i=null;return n.exists()&&(i=n.key),{type:t,payload:n,prevKey:r,key:i}})),Object(Ol.a)())}function Wl(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].payload.key===t)return r;return-1}function Gl(e,t){var n=t.payload,r=t.prevKey,i=t.key,o=Wl(e,i),s=function(e,t){if(Hl(t))return 0;var n=Wl(e,t);return-1===n?e.length:n+1}(e,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){var a=null;t.payload.forEach((function(t){var n={payload:t,type:"value",prevKey:a,key:t.key};return a=t.key,e=[].concat(_toConsumableArray(e),[n]),!1}))}return e;case"child_added":if(o>-1){var u=e[o-1];(u&&u.key||null)!==r&&(e=e.filter((function(e){return e.payload.key!==n.key}))).splice(s,0,t)}else{if(null==r)return[t].concat(_toConsumableArray(e));(e=e.slice()).splice(s,0,t)}return e;case"child_removed":return e.filter((function(e){return e.payload.key!==n.key}));case"child_changed":return e.map((function(e){return e.payload.key===i?t:e}));case"child_moved":if(o>-1){var c=e.splice(o,1)[0];return(e=e.slice()).splice(s,0,c),e}return e;default:return e}}function Yl(e){return(Hl(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function Kl(e,t,n){return function(e,t,n){return zl(e,"value","once",n).pipe(Qr((function(r){var i=[Object(er.a)(r)];return t.forEach((function(t){return i.push(zl(e,t,"on",n))})),Object(kl.a).apply(void 0,i).pipe(Yr(Gl,[]))})),(function(e){return e.lift(new Sl(void 0,void 0))}))}(e,t=Yl(t),n)}function Zl(e,t,n){var r=(t=Yl(t)).map((function(t){return zl(e,t,"on",n)}));return Object(kl.a).apply(void 0,_toConsumableArray(r))}function Jl(e,t){return function(n,r){return Ql(n,{stringCase:function(){return e.child(n)[t](r)},firebaseCase:function(){return n[t](r)},snapshotCase:function(){return n.ref[t](r)}})}}function Xl(e,t){return function(){return zl(e,"value","on",t)}}var $l,eh,th,nh,rh=new r.q("angularfire2.realtimeDatabaseURL"),ih=new r.q("angularfire2.database.use-emulator"),oh=((nh=function(){function e(t,n,r,i,o,s,a){_classCallCheck(this,e),this.schedulers=new Hc.d(o),this.keepUnstableUntilFirst=Object(Hc.h)(this.schedulers);var u=s,c=Object(Hc.g)(t,o,n);!Tc.a.auth&&a&&Object(Hc.j)(),this.database=Object(Hc.f)("".concat(c.name,".database.").concat(r),"AngularFireDatabase",c,(function(){var e=o.runOutsideAngular((function(){return c.database(r||void 0)}));return u&&e.useEmulator.apply(e,_toConsumableArray(u)),e}),[u])}return _createClass(e,[{key:"list",value:function(e,t){var n=this,r=this.schedulers.ngZone.runOutsideAngular((function(){return Bl(n.database,e)})),i=r;return t&&(i=t(r)),function(e,t){var n,r=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run((function(){return e.ref}));return{query:e,update:Jl(i,"update"),set:Jl(i,"set"),push:function(e){return i.push(e)},remove:(n=i,function(e){return e?Ql(e,{stringCase:function(){return n.child(e).remove()},firebaseCase:function(){return e.remove()},snapshotCase:function(){return e.ref.remove()}}):n.remove()}),snapshotChanges:function(n){return Kl(e,n,r).pipe(t.keepUnstableUntilFirst)},stateChanges:function(n){return Zl(e,n,r).pipe(t.keepUnstableUntilFirst)},auditTrail:function(n){return function(e,t,n){return function(e,t,n){return function(e,t){return zl(e,"value","on",t).pipe(Object(He.a)((function(e){var t;return e.payload.forEach((function(e){return t=e.key,!1})),{data:e,lastKeyToLoad:t}})))}(e,n).pipe(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Tl(t,n))}}(t),Object(He.a)((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=n.lastKeyToLoad,o=r.map((function(e){return e.key}));return{actions:r,lastKeyToLoad:i,loadedKeys:o}})),(r=function(e){return-1===e.loadedKeys.indexOf(e.lastKeyToLoad)},function(e){return e.lift(new Al(r))}),Object(He.a)((function(e){return e.actions})));var r}(e,Zl(e,t).pipe(Yr((function(e,t){return[].concat(_toConsumableArray(e),[t])}),[])),n)}(e,n,r).pipe(t.keepUnstableUntilFirst)},valueChanges:function(n,i){return Kl(e,n,r).pipe(Object(He.a)((function(e){return e.map((function(e){return i&&i.idField?Object.assign(Object.assign({},e.payload.val()),_defineProperty({},i.idField,e.key)):e.payload.val()}))})),t.keepUnstableUntilFirst)}}}(i,this)}},{key:"object",value:function(e){var t,n,r=this,i=this.schedulers.ngZone.runOutsideAngular((function(){return Bl(r.database,e)}));return n=this,{query:t=i,snapshotChanges:function(){return Xl(t,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst)},update:function(e){return t.ref.update(e)},set:function(e){return t.ref.set(e)},remove:function(){return t.ref.remove()},valueChanges:function(){return Xl(t,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst,Object(He.a)((function(e){return e.payload.exists()?e.payload.val():null})))}}}},{key:"createPushId",value:function(){var e=this;return this.schedulers.ngZone.runOutsideAngular((function(){return e.database.ref()})).push().key}}]),e}()).\u0275fac=function(e){return new(e||nh)(r.Ub(Hc.c),r.Ub(Hc.b,8),r.Ub(rh,8),r.Ub(r.B),r.Ub(r.z),r.Ub(ih,8),r.Ub(Nl,8))},nh.\u0275prov=Object(r.Hb)({factory:function(){return new nh(Object(r.Ub)(Hc.c),Object(r.Ub)(Hc.b,8),Object(r.Ub)(rh,8),Object(r.Ub)(r.B),Object(r.Ub)(r.z),Object(r.Ub)(ih,8),Object(r.Ub)(Nl,8))},token:nh,providedIn:"any"}),nh),sh=((th=function e(){_classCallCheck(this,e)}).\u0275mod=r.Jb({type:th}),th.\u0275inj=r.Ib({factory:function(e){return new(e||th)},providers:[oh]}),th),ah=((eh=function(){function e(t){_classCallCheck(this,e),this._http=t,this.title="user-panel"}return _createClass(e,[{key:"ngOnInit",value:function(){this._http.auth.isLoggedIn()}}]),e}()).\u0275fac=function(e){return new(e||eh)(r.Lb(iu))},eh.\u0275cmp=r.Fb({type:eh,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container","mt-2"]],template:function(e,t){1&e&&(r.Qb(0,"div",0),r.Mb(1,"router-outlet"),r.Pb())},directives:[Ns],styles:[""]}),eh),uh=(($l=function e(){_classCallCheck(this,e)}).\u0275mod=r.Jb({type:$l,bootstrap:[ah]}),$l.\u0275inj=r.Ib({factory:function(e){return new(e||$l)},providers:[],imports:[[Le,Cl,Xn,$n,ru,ha,uc.forRoot(),hc.forRoot(),sh,Vl,Wc,Hc.a.initializeApp(i.firebaseConfig)]]}),$l);i.production&&Object(r.S)(),i.hmr?(console.error("HMR is not enabled for webpack-dev-server!"),console.log("Are you using the --hmr flag for ng serve?")):Fe().bootstrapModule(uh).catch((function(e){return console.log(e)}))},zfKp:function(e,t,n){"use strict";t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"},zzsZ:function(e,t,n){"use strict";var r=n("Q1FS"),i=n("OAkW"),o=n("2qMH");t.fromArray=function(e,t){return t?o.scheduleArray(e,t):new r.Observable(i.subscribeToArray(e))}}},[[0,0]]]);